// Copyright 2014-2019 VintaSoft Ltd. All rights reserved.
// This software is protected by International copyright laws.
// Any copying, duplication, deployment, redistribution, modification or other
// disposition hereof is STRICTLY PROHIBITED without an express written license
// granted by VintaSoft Ltd. This notice may not be removed or otherwise
// altered under any circumstances.
// This code may NOT be used apart of the VintaSoft product.
(function(J){if(void 0==J.Shared)throw Error("Vintasoft.Shared is not found.");if("1.3.1.3"!==J.version)throw Error("Wrong version of Vintasoft.Shared script.");var b=J.Shared,s=J.Imaging={};s.version="8.8.0.11";s.engine="svg";var t=J.Imaging.Utils={},X=J.Imaging.ImageProcessing={},pb=J.Imaging.UI={},qb=J.Imaging.UI.VisualTools={};(function(p){function ba(g){void 0==g&&(g=b.WebServiceJS.defaultFileService);b.pv.c(g,b.WebServiceJS,"You should specify correct file service OR define the default file service.");
return g}(function(g){var e=function(h,d,k,f,v,g){var l=e.prototype;l.get_m11=function(){return this._3247};l.set_m11=function(h){b.pv.n(h);this._3247=h};l.get_m12=function(){return this._1542};l.set_m12=function(h){b.pv.n(h);this._1542=h};l.get_m21=function(){return this._677};l.set_m21=function(h){b.pv.n(h);this._677=h};l.get_m22=function(){return this._4538};l.set_m22=function(h){b.pv.n(h);this._4538=h};l.get_offsetx=function(){return this._4793};l.set_offsetx=function(h){b.pv.n(h);this._4793=
h};l.get_offsety=function(){return this._9273};l.set_offsety=function(h){b.pv.n(h);this._9273=h};l.determinant=function(){return this._3247*this._4538-this._1542*this._677};l.invert=function(){var b=1/this.determinant(),b=new e(this._4538*b,-this._1542*b,-this._677*b,this._3247*b,(this._677*this._9273-this._4793*this._4538)*b,(this._1542*this._4793-this._9273*this._3247)*b);this.setMatrix(b);return this};l.transformVector=function(b){b={x:b.x,y:b.y};this.multiplyVector(b);return b};l.transformPoint=
function(b){b={x:b.x,y:b.y};this.multiplyPoint(b);return b};l.transformPoints=function(b){for(var h=0;h<b.length;h++)this.multiplyPoint(b[h])};l.transformRectangle=function(b){var h=[{x:b.x,y:b.y},{x:b.x+b.width,y:b.y+b.height}];this.transformPoints(h);b.x=h[0].x;b.y=h[0].y;b.width=h[1].x-h[0].x;b.height=h[1].y-h[0].y};l.multiplyVector=function(b){var h=b.y*this._677,d=b.x*this._1542;b.x*=this._3247;b.x+=h;b.y*=this._4538;b.y+=d};l.multiplyPoint=function(b){var h=b.y*this._677+this._4793,d=b.x*this._1542+
this._9273;b.x*=this._3247;b.x+=h;b.y*=this._4538;b.y+=d};l.rotate=function(b,h){var d=0,k=0;void 0!=h&&(d=h.x,k=h.y);d=e.multiplyMatrix(this,e._8123(a._2603(b%360),d,k));this.setMatrix(d)};l.rotatePrepend=function(b,h){var d=0,k=0;void 0!=h&&(d=h.x,k=h.y);d=e.multiplyMatrix(e._8123(a._2603(b%360),d,k),this);this.setMatrix(d)};l.setMatrix=function(b){this._3247=b._3247;this._1542=b._1542;this._677=b._677;this._4538=b._4538;this._4793=b._4793;this._9273=b._9273};l.translate=function(b,h){var d=new e(this._3247,
this._1542,this._677,this._4538,this._4793+b,this._9273+h);this.setMatrix(d)};l.translatePrepend=function(b,h){var d=e.multiplyMatrix(e._1965(b,h),this);this.setMatrix(d)};l.scale=function(b,h){var d=e.multiplyMatrix(this,e._9029(b,h));this.setMatrix(d)};l.scalePrepend=function(b,h){var d=e.multiplyMatrix(e._9029(b,h),this);this.setMatrix(d)};l.compareMatrix=function(b){return this._3247==b._3247&&this._1542==b._1542&&this._677==b._677&&this._4538==b._4538&&this._4793==b._4793&&this._9273==b._9273};
l._8273=function(){return{m11:this._3247,m12:this._1542,m21:this._677,m22:this._4538,offsetx:this._4793,offsety:this._9273}};void 0!=h?(this._3247=+h,this._1542=+d,this._677=+k,this._4538=+f,this._4793=+v,this._9273=+g):(this._3247=1,this._677=this._1542=0,this._4538=1,this._9273=this._4793=0)};e.multiplyMatrix=function(b,d){return new e(b._3247*d._3247+b._1542*d._677,b._3247*d._1542+b._1542*d._4538,b._677*d._3247+b._4538*d._677,b._677*d._1542+b._4538*d._4538,b._4793*d._3247+b._9273*d._677+d._4793,
b._4793*d._1542+b._9273*d._4538+d._9273)};e._4837=function(b){var d=new e;d.setMatrix(b);return d};e._9029=function(b,d){return new e(b,0,0,d,0,0)};e._8123=function(b,d,a){null==d&&(a=d=0);var f=Math.sin(b);b=Math.cos(b);if(1===f||-1===f)b=0;if(1===b||-1===b)f=0;return new e(b,f,-f,b,d*(1-b)+a*f,a*(1-b)-d*f)};e._1965=function(b,d){return new e(1,0,0,1,b,d)};WebImageCacheManagerJS=function(){function h(b,h,d,a){void 0==b._9608[h]&&(b._9608[h]={});b._9608[h][d]=a}function d(h,d){for(;d>h._3732;){var a=
h._8344();if(void 0!=a){var k=h._9681(a.data);h._1929(a.iKey,a.cKey);d-=k}else b.pv.te("Error")}}function a(b,h,d){var k=!0;if(void 0!=b[h]){delete b[h][d];for(var f in b[h]){k=!1;break}k&&delete b[h]}}var f=WebImageCacheManagerJS.prototype;f.get_MaxCacheSize=function(){return this._3732};f.set_MaxCacheSize=function(a){b.pv.n(a);0>a&&b.pv.te("Size must be positive.");if(this._3732!==a){var k=this._3732;this._3732=a;if(0===a)this._9608={};else{if(0===k){a=Date.now();for(var f in this._9903)for(var e in this._9903[f])h(this,
f,e,a)}f=this.get_CacheSize();d(this,f)}}};f.get_CacheSize=function(){var b=0;if(void 0!=this._9903)for(var h in this._9903)b+=this._8908(h);return b};f.addImageData=function(a,k,f){void 0==f&&b.pv.te("Data can not be null.");this.containsImageData(a,k)&&b.pv.te("Cache manager already contains data with specified key.");a=a.get_Guid();var e=!1;if(0!=this._3732){var g=this._9681(f);g<=this._3732&&(e=this.get_CacheSize(),d(this,e+g),e=!0,h(this,a,k,Date.now()))}else e=!0;e&&(void 0==this._9903[a]&&
(this._9903[a]={}),this._9903[a][k]=f)};f.containsImageData=function(h,d){b.pv.c(h,b.WebImageJS);b.pv.s(d);var a=h.get_Guid();return void 0!=this._9903[a]?void 0!=this._9903[a][d]:!1};f.getImageData=function(d,a){b.pv.c(d,b.WebImageJS);b.pv.s(a);var k=d.get_Guid();if(void 0!=this._9903[k]){var f=this._9903[k][a];void 0!=f&&0!==this._3732&&h(this,k,a,Date.now());return f}};f.clear=function(){this._9903={};this._9608={}};f.contains=function(h){b.pv.c(h,b.WebImageJS);h=h.get_Guid();return void 0!=this._9903[h]};
f.clearImageCache=function(h){b.pv.c(h,b.WebImageJS);h=h.get_Guid();void 0!=this._9903[h]&&delete this._9903[h];void 0!=this._9608[h]&&delete this._9608[h]};f._1929=function(b,h){a(this._9903,b,h);a(this._9608,b,h)};f._8908=function(b){var h=0;if(void 0!==this._9903[b])for(var d in this._9903[b])h+=this._9681(this._9903[b][d]);return h};f._9681=function(b){return 2*b.length};f._8344=function(){if(void 0!=this._9608){var b=Date.now(),h,d;for(d in this._9608){var a=this._8371(d);void 0!=a&&b>a.date&&
(b=a.date,h=a)}return h}};f._8371=function(b){if(void 0!=this._9608[b]){var h=Date.now(),d="",a;for(a in this._9608[b]){var k=this._9608[b][a];k<h&&(h=k,d=a)}return{data:this._9903[b][d],iKey:b,cKey:d,date:h}}};this._9301=b.WebImagingEnviromentJS.guid();this._9903={};this._9608={};this._3732=64E3};var a=function(){};a._6949=function(b,d,a){if(0===a)return b;a=-a*Math.PI/180;var f=Math.sin(a);a=Math.cos(a);var e=b.x-d.x;b=b.y-d.y;return{x:e*a+b*f+d.x,y:-e*f+b*a+d.y}};a._7036=function(b,d,a){if(0!=
a){a*=-Math.PI/180;var f=Math.sin(a);a=Math.cos(a);for(var e,g,l=0;l<b.length;l++)e=b[l].x-d.x,g=b[l].y-d.y,b[l].x=e*a+g*f+d.x,b[l].y=-e*f+g*a+d.y}};a._2603=function(b){return Math.PI/180*b};a._3921=function(b){return b/Math.PI*180};a._8464=function(b,d,a){for(var f=0;f<b.length;f++)b[f].x*=d,b[f].y*=a};a._7501=function(b,d){return Math.sqrt((b.x-d.x)*(b.x-d.x)+(b.y-d.y)*(b.y-d.y))};a._3189=function(b,d,k){void 0==d&&(d=0);void 0==k&&(k=b.length-1);for(var f=0;d<k;d++)f+=a._7501(b[d],b[d+1]);return f};
a._4902=function(b,d){for(var a=0;a<b.length;a++)b[a].x+=d.x,b[a].y+=d.y};a._7583=function(b,d,a){b=Math.atan2(d.y-b.y,d.x-b.x)-Math.atan2(a.y-d.y,a.x-d.x);return Math.abs(180-Math.abs(180/Math.PI*b))};a._4057=function(b,d,a){b=Math.atan2(b.x-d.x,b.y-d.y);for(b=180*(a?1:0)+180-180*b/Math.PI;360<b;)b-=360;for(;0>b;)b+=360;return b};a._4218=function(b){for(;360<=b;)b-=360;for(;0>b;)b+=360;return b};a._7254=function(h){(-360>=h||360<=h)&&b.pv.te("angleInDegrees");return 90-Math.abs(90-Math.abs(Math.abs(h)-
180))};a._5234=function(b){for(;0>b;)b+=360;for(;360<b;)b-=360;360==b&&(b=0);return b};a._4901=function(b,d){var a=0,f=0,e=d.x-b.x,g=d.y-b.y;0==e||0==g?0==e?f=0>g?-1:1:a=0>e?-1:1:(c=Math.sqrt(e*e+g*g),a=e/c,f=g/c);return{x:a,y:f}};a._3066=function(b,d){d=Math.asin(Math.max(-1,Math.min(1,0*b.x-1*b.y)));beta=Math.acos(Math.max(-1,Math.min(1,0*b.x+1*b.y)));d=0<=d?beta:2*Math.PI-beta;var a=Math.cos(d),f=Math.sin(d);return{x:a,y:f}};a._9204=function(b,d,a){return{x:b.x+d.x*a,y:b.y+d.y*a}};a._3856=function(b,
d,a){var f=d.x-b.x,e=d.y-b.y;d=a.x-b.x;b=a.y-b.y;var g=Math.sqrt(f*f+e*e);a=Math.sqrt(d*d+b*b);if(.01>g||.01>a)return 0;f/=g;e/=g;d/=a;a=b/a;b=Math.asin(Math.max(-1,Math.min(1,f*a-d*e)));d=Math.acos(Math.max(-1,Math.min(1,f*d+e*a)));return 0<=b?d:2*Math.PI-d};a._1764=function(b,d,a){return{x:b.x+a*(d.x-b.x),y:b.y+a*(d.y-b.y)}};a._1419=function(b,d,k){k=a._9221(b,d,k);var f=a._7501(b,k),e=a._7501(d,k),g=a._7501(b,d);return f<=g&&e<=g?k:f<e?b:d};a._9221=function(b,d,a){if(b.x==d.x)return d=b.x,b=a.y,
{x:d,y:b};if(b.y==d.y)return d=a.x,b=b.y,{x:d,y:b};var f=(d.y-b.y)/(d.x-b.x);d=(a.x/f+a.y-(-f*b.x+b.y))/(f+1/f);b=-1/f*(d-a.x)+a.y;return{x:d,y:b}};a._2911=function(b,d){var k=d.y-b.y;if(0==k)return 0;var f=d.x-b.x;return 0==f?90:0<k?a._3921(Math.atan2(k,f)):a._3921(Math.atan2(-k,-f))};a._645=function(b,d){var a=Math.asin(Math.max(-1,Math.min(1,b.x*d.y-d.x*b.y))),f=Math.acos(Math.max(-1,Math.min(1,b.x*d.x+b.y*d.y)));return 0<=a?f:2*Math.PI-f};a._7854=function(b,d,a,f){return{x:(b.x+d.x+a.x+f.x)/4,
y:(b.y+d.y+a.y+f.y)/4}};a._9282=function(b){return{x:b.x+b.width/2,y:b.y+b.height/2}};a._6792=function(b){if(0==b.length)return a._3358();for(var d=b[0].x,k=d,f=b[0].y,e=f,g=1;g<b.length;g++){var l=b[g].x,x=b[g].y;d>l?d=l:k<l&&(k=l);f>x?f=x:e<x&&(e=x)}return{x:d,y:f,width:k-d,height:e-f}};a._8167=function(b){b=a._6792(b);return a._9282(b)};a._8571=function(b){return[{x:b.x,y:b.y},{x:b.x,y:b.y+b.height},{x:b.x+b.width,y:b.y+b.height},{x:b.x+b.width,y:b.y}]};a._1309=function(b,d){for(var a=[],f=0,e=
b.length;f<e-1*!d;f++){var g=[b[f-1],b[f],b[f+1],b[f+2]];d?f?e-2==f?g[3]=b[0]:e-1==f&&(g[2]=b[0],g[3]=b[1]):g[0]=b[e-1]:e-2==f?g[3]=g[2]:f||(g[0]=b[f]);a.push([{x:(-g[0].x+6*g[1].x+g[2].x)/6,y:(-g[0].y+6*g[1].y+g[2].y)/6},{x:(g[1].x+6*g[2].x-g[3].x)/6,y:(g[1].y+6*g[2].y-g[3].y)/6},{x:g[2].x,y:g[2].y}])}return a};a._6314=function(b){var d=b.y-Math.floor(b.y);return{x:Math.floor(b.x),y:Math.floor(b.y),width:parseInt(b.width+1+(b.x-Math.floor(b.x))),height:parseInt(b.height+1+d)}};a._6349=function(b,
d){var a=Math.max(b.x,d.x),f=Math.min(b.x+b.width,d.x+d.width),e=Math.max(b.y,d.y),g=Math.min(b.y+b.height,d.y+d.height);return f>=a&&g>=e};a._4366=function(b,d){var e=Math.max(b.x,d.x),f=Math.min(b.x+b.width,d.x+d.width),g=Math.max(b.y,d.y),n=Math.min(b.y+b.height,d.y+d.height);return f>=e&&n>=g?{x:e,y:g,width:f-e,height:n-g}:a._3358()};a._3722=function(b,d){var a=Math.min(b.x,d.x),f=Math.max(b.x+b.width,d.x+d.width),e=Math.min(b.y,d.y),g=Math.max(b.y+b.height,d.y+d.height);return{x:a,y:e,width:f-
a,height:g-e}};a._4282=function(b,d,e){b=a._8571(b);a._7036(b,e,d);return b};a._525=function(b,d){return b==d?0:b<d?-1:1};a._557=function(b,d,e,f,g,n){var l=[],x=[],s=a._7501(b,d)+a._7501(d,e)+a._7501(e,f),p=!1;void 0==n?n=g:(p=!0,g*=g);s=n/s;n*=n;l.push(b);x.push(0);for(var r,u=b,D=0;1>D;){var F,B=D+s;for(1<B&&(B=1);;)if(F=a._8309(b,d,e,f,B),r=a._981(u,F),r<=n){if(!p)break;if(r>=g||1<=B)break;else B+=(B-D)/2}else B=D+(B-D)/2;l.push(F);x.push(B);u=F;D=B}return{points:l,times:x}};a._3730=function(b,
d,e){for(var f=[],g=0;g<d.length;g++)for(var n=a._557(b[g],d[g][0],d[g][1],d[g][2],e).points,l=0;l<n.length;l++)f.push(n[l]);return f};a._8309=function(b,d,a,f,e){return{x:(1-e)*(1-e)*(1-e)*b.x+3*e*(1-e)*(1-e)*d.x+3*e*e*(1-e)*a.x+e*e*e*f.x,y:(1-e)*(1-e)*(1-e)*b.y+3*e*(1-e)*(1-e)*d.y+3*e*e*(1-e)*a.y+e*e*e*f.y}};a._3358=function(){return{x:0,y:0,width:0,height:0}};a._1672=function(b){return 0===b.x&&0===b.y&&0===b.width&&0===b.height};a._7903=function(b){return 0===b.x&&0===b.y};a._5276=function(b,
d){return b===d?!0:b.x===d.x&&b.y===d.y&&b.width===d.width&&b.height===d.height};a._3895=function(b){var d=Math.min(b.x,b.x+b.width),a=Math.min(b.y,b.y+b.height),e=Math.max(b.x,b.x+b.width);b=Math.max(b.y,b.y+b.height);return{x:d,y:a,width:e-d,height:b-a}};a._8491=function(b,d,e){for(var f=0;f<d.length-1;f++){var g=a._1419(d[f],d[f+1],b);if(a._7501(b,g)<=e)return!0}return!1};a._981=function(b,d){var a=b.x-d.x,e=b.y-d.y;return a*a+e*e};a._6703=function(b,d,e){var f=360-a._3921(a._3856(d,b,e));b=a._7501(b,
d);b+=a._7501(d,e);return 180<=f?-b:b};a._2796=function(b,d){return{x:(b.x+d.x)/2,y:(b.y+d.y)/2}};a._4038=function(b,d,e,f){var g=a._2796(b,d),n=a._2911(b,d);b=a._6949(b,g,-n);d=a._6949(d,g,-n);var l=b.x,x=b.y;b=d.x;d=d.y;var s=Math.sqrt(Math.pow(l-b,2)+Math.pow(x-d,2));if(0===s||s>e+e)return{x:0,y:0};e/=s;var p=Math.sqrt(e*e-.25);e=l+.5*(b-l);s=x+.5*(d-x);x=(x-d)*p;l=(l-b)*p;f=f?{x:e+x,y:s+l}:{x:e-x,y:s-l};return f=a._6949(f,g,n)};a._9234=function(b){var d=[];if(0<b.length){d.push(b[0]);for(var a=
1;a<b.length;a++)b[a].x==b[a-1].x&&b[a].y==b[a-1].y||d.push(b[a]);1!=d.length&&d[0].x==d[d.length-1].x&&d[0].y==d[d.length-1].y&&d.splice(d.length-1,1)}return d};a._3373=function(b){var d=0;if(2<b.length){for(var e=b[0],f,g,n=1;n<b.length;n++)f=b[n],g=n==b.length-1?b[0]:b[n+1],d+=a._6703(e,f,g),e=f;d+=a._6703(e,b[0],b[1])}return 0<=d};a._1063=function(b){if(4>b.length)return b;for(var d=1,e=[],f=0;f<b.length;f++)e.push(0);for(var g=b[0].x,n=b[0].y,l=0,f=1;f<b.length;f++){var x=b[f].y;if(n<x||n==x&&
g<b[f].x)g=b[f].x,n=x,l=f}g=b[l];n=[];for(f=0;f<b.length;f++)n.push(0);for(var s=0,p=3,l=g,r={x:l.x+1,y:l.y},u,D;;){u=l.x-r.x;D=l.y-r.y;for(var F=u*u+D*D,f=0;f<b.length;f++)if(0==e[f]){var B=b[f].x,x=b[f].y;u=l.x-B;D=l.y-x;var ha=u*u+D*D;u=r.x-B;D=r.y-x;x=(F+ha-(u*u+D*D))/Math.sqrt(F*ha);x<p?(p=x,s=1,n[0]=f):x==p&&(n[s++]=f)}if(1<s)for(x=n[s-1],r=a._981(l,b[x]),f=s-2;0<=f;f--)s=a._981(l,b[n[f]]),s>r&&(r=s,x=n[f]);else x=n[0];r=l;l=b[x];if(l.x==g.x&&l.y==g.y)break;e[x]=d;d++;s=0;p=3}d=[];d[0]=g;for(f=
0;f<b.length;f++)0!=e[f]&&(d[e[f]]=b[f]);return d};a._8268=function(b,d,e,f){b=[b,d,e,f];d=a._1063(b);if(4!=d.length)return!1;for(e=0;e<d.length;e++)if(b[0].x===d[e].x&&b[0].y===d[e].y){for(f=0;4>f;f++,e=3==e?0:e+1)if(b[f].x!==d[e].x||b[f].y!==d[e].y)return!1;break}return!0};a._297=function(b,d,e,f,g){return a._9636(e,b,d,g)||a._9636(e,f,d,g)};a._9636=function(b,d,a,e){var g=(e.x-d.x)*(b.y-d.y)+(e.y-d.y)*(d.x-b.x);d=(e.x-a.x)*(d.y-a.y)+(e.y-a.y)*(a.x-d.x);b=(e.x-b.x)*(a.y-b.y)+(e.y-b.y)*(b.x-a.x);
return 0>g&&0>d&&0>b||0<g&&0<d&&0<b||g<Number.EPSILON&&d<Number.EPSILON&&b<Number.EPSILON};a._4669=function(b,d,a){return(a.x-b.x)*(a.x-b.x)+(a.y-b.y)*(a.y-b.y)<=d*d};a._9066=function(b,a){return a.x>=b.x&&a.x<=b.x+b.width&&a.y>=b.y&&a.y<=b.y+b.height};a._6273=function(b,d,e){if(0==e.width||0==e.height)return d;var f;f=e.width/2;e=e.height/2;b=a._2603(b%360);b=Math.atan2(f*Math.sin(b),e*Math.cos(b));f*=Math.cos(b);e*=Math.sin(b);return{x:f+d.x,y:e+d.y}};a._7794=function(b,a){var e=b.length,f,g,n=
!1;f=0;for(g=e-1;f<e;g=f++)b[f].y>a.y!=b[g].y>a.y&&a.x<(b[g].x-b[f].x)*(a.y-b[f].y)/(b[g].y-b[f].y)+b[f].x&&(n=!n);return n};g.WebMatrixJS=e;g.WebImageCacheManagerJS=WebImageCacheManagerJS;g._6002=a})(p.Utils);p.WebBorderColorTypeEnumJS=b.EnumGenerator.create([{name:"AutoDetect",value:0},{name:"Black",value:1},{name:"White",value:2},{name:"Transparent",value:3},{name:"Custom",value:4}],!1);p.WebRotateFlipTypeEnumJS=b.EnumGenerator.create([{name:"RotateNoneFlipNone",value:0},{name:"RotateNoneFlipX",
value:1},{name:"RotateNoneFlipY",value:2},{name:"RotateNoneFlipXY",value:3},{name:"Rotate90FlipNone",value:4},{name:"Rotate90FlipX",value:5},{name:"Rotate90FlipY",value:6},{name:"Rotate90FlipXY",value:7},{name:"Rotate180FlipNone",value:8},{name:"Rotate180FlipX",value:9},{name:"Rotate180FlipY",value:10},{name:"Rotate180FlipXY",value:11},{name:"Rotate270FlipNone",value:12},{name:"Rotate270FlipX",value:13},{name:"Rotate270FlipY",value:14},{name:"Rotate270FlipXY",value:15}],!1);p.WebBinarizationModeEnumJS=
b.EnumGenerator.create([{name:"Threshold",value:0},{name:"Global",value:1},{name:"Adaptive",value:2},{name:"Halftone",value:3}],!1);p.WebBorderRemovalColorTypeEnumJS=b.EnumGenerator.create([{name:"Auto",value:0},{name:"Black",value:1},{name:"White",value:2},{name:"DetectBorderColorForEachSide",value:3}],!1);p.WebImageSideEnumJS=b.EnumGenerator.create([{name:"None",value:0},{name:"Left",value:1},{name:"Right",value:2},{name:"Top",value:4},{name:"Bottom",value:8},{name:"All",value:15}],!0);p.WebImageProcessingDirectionEnumJS=
b.EnumGenerator.create([{name:"Horizontal",value:1},{name:"Vertical",value:2}],!0);p.WebColorChannelEnumJS=b.EnumGenerator.create([{name:"R",value:1},{name:"G",value:2},{name:"B",value:4},{name:"RGB",value:7},{name:"A",value:8},{name:"RGBA",value:15}],!0);p.WebLuminanceComputationModeEnumJS=b.EnumGenerator.create([{name:"Standard",value:0},{name:"Sum",value:1}],!1);p.WebDesaturateMethodEnumJS=b.EnumGenerator.create([{name:"Lightness",value:0},{name:"Luminosity",value:1},{name:"Average",value:2}],
!1);p.WebImageSizeModeEnumJS=b.EnumGenerator.create([{name:"BestFit",value:1},{name:"FitToHeight",value:2},{name:"FitToWidth",value:3},{name:"Normal",value:4},{name:"PixelToPixel",value:5},{name:"Zoom",value:6}],!1);p.WebThumbnailFlowStyleEnumJS=b.EnumGenerator.create([{name:"SingleColumn",value:1},{name:"SingleRow",value:2},{name:"WrappedRows",value:3},{name:"FixedColumns",value:4}],!1);p.WebThumbnailScaleEnumJS=b.EnumGenerator.create([{name:"Smallest",value:50},{name:"Small",value:75},{name:"Normal",
value:100},{name:"Large",value:150}],!1);p.WebPaletteTypeJS=b.EnumGenerator.create([{name:"Adaptive",value:0},{name:"Web",value:1}],!1);p.WebColorQuantizationMethodEnumJS=b.EnumGenerator.create([{name:"FastPopularity",value:0},{name:"AdvancedPopularity",value:1},{name:"FastMedianCut",value:2},{name:"AdvancedMedianCut",value:3}],!1);p.WebNoiseTypeEnumJS=b.EnumGenerator.create([{name:"Perlin",value:0},{name:"NegativeExponential",value:1},{name:"Rayleigh",value:2},{name:"Uniform",value:3},{name:"Gaussian",
value:4}],!1);p.WebBlendingModeEnumJS=b.EnumGenerator.create([{name:"Normal",value:0},{name:"Multiply",value:1},{name:"Screen",value:2},{name:"Overlay",value:3},{name:"Darken",value:4},{name:"Lighten",value:5},{name:"ColorDodge",value:6},{name:"ColorBurn",value:7},{name:"HardLight",value:8},{name:"SoftLight",value:9},{name:"Difference",value:10},{name:"Exclusion",value:11},{name:"Hue",value:12},{name:"Saturation",value:13},{name:"Color",value:14},{name:"Luminosity",value:15},{name:"Brightness",value:32},
{name:"Contrast",value:33},{name:"Gamma",value:34},{name:"Min",value:35},{name:"Max",value:36},{name:"Sum",value:37},{name:"Sub",value:38},{name:"Division",value:39}],!1);p.WebColorSpaceTypeEnumJS=b.EnumGenerator.create([{name:"Unsupported",value:0},{name:"Gray",value:1},{name:"sRGB",value:2},{name:"CMYK",value:3},{name:"CMY",value:4},{name:"CIELab",value:5},{name:"CIEXYZ",value:6},{name:"CIEYxy",value:7},{name:"CIELUV",value:8},{name:"PCSLab",value:9},{name:"PCSXYZ",value:10},{name:"YCbCrK",value:11},
{name:"YCbCr",value:12},{name:"HSV",value:13},{name:"HLS",value:14}],!1);p.WebHistogramTypeEnumJS=b.EnumGenerator.create([{name:"Luminosity",value:1},{name:"Red",value:2},{name:"Green",value:4},{name:"Blue",value:8},{name:"Rgb",value:14},{name:"All",value:15}],!0);p.WebColorBaseJSTypeEnumJS=b.EnumGenerator.create([{name:"Indexed",value:0},{name:"Gray16",value:1},{name:"RGB555",value:2},{name:"RGB565",value:3},{name:"RGB24",value:4},{name:"ARGB32",value:5},{name:"RGB48",value:6},{name:"ARGB64",value:7}],
!1);p.WebFrequencyFilterTypeEnumJS=b.EnumGenerator.create([{name:"Ideal",value:0},{name:"Butterworth",value:1},{name:"Gaussian",value:2}],!1);p.WebImageLayoutDirectionEnumJS=b.EnumGenerator.create([{name:"Horizontal",value:1},{name:"Vertical",value:2}],!1);p.WebImageViewerDisplayModeEnumJS=b.EnumGenerator.create([{name:"SinglePage",value:1},{name:"SingleContinuousColumn",value:2},{name:"SingleContinuousRow",value:3},{name:"TwoColumns",value:4},{name:"TwoRows",value:5},{name:"TwoContinuousColumns",
value:6},{name:"TwoContinuousRows",value:7},{name:"ThreeColumns",value:8},{name:"ThreeRows",value:9},{name:"ThreeContinuousColumns",value:10},{name:"ThreeContinuousRows",value:11},{name:"Custom",value:12}],!1);p.WebImageViewerMultipageDisplayModeEnumJS=b.EnumGenerator.create([{name:"AllImages",value:1},{name:"FixedImages",value:2}],!1);p.WebImageAnchorTypeEnumJS=b.EnumGenerator.create([{name:"None",value:0},{name:"Top",value:1},{name:"Bottom",value:2},{name:"Left",value:4},{name:"Right",value:8},
{name:"Center",value:15},{name:"TopLeft",value:5},{name:"TopRight",value:9},{name:"BottomLeft",value:6},{name:"BottomRight",value:10}],!0);p.WebImageCompareOperatorEnumJS=b.EnumGenerator.create([{name:"Difference",value:0},{name:"AvgDifference",value:1},{name:"MaxDifference",value:2},{name:"MinDifference",value:3}],!1);var rb=function(g){function e(b){var d=b._frame.contentDocument||b._frame.contentWindow.document,e=d.body,h=e.style;h.margin=0;h.padding=0;h.width="100%";h.height="100%";for(h=0;h<
b._4826.length;h++){var g=d.createElement("img");g.id=b._4826[h].get_Guid();var k=g.style;k.maxWidth="100%";k.maxHeight="100%";k.margin=0;k.padding=0;k.width="auto";k.height="auto";g.onload=function(){a(b)};e.appendChild(g);h<b._4826.length-1&&(g=d.createElement("p"),g.style.pageBreakAfter="always",g.style.margin=0,g.className="pageBreak",e.appendChild(g))}}function a(b){b._ready++;b._ready===b._4826.length&&($(b).triggerHandler("beginPrint"),b._aborted||(b._frame.contentWindow.focus(),b._frame.contentWindow.print()),
setTimeout(function(){$(b._frame).remove()},6E3),$(b).triggerHandler("endPrint"))}var h=rb.prototype;h.imagesPreparationFailed=function(b,a){};h.imagePrepared=function(b){};h.beginPrint=function(b){};h.endPrint=function(b){};h.print=function(){for(var b=0;b<this._4826.length&&!this._aborted;b++){var a=this._5313(b);void 0!=a&&this._4974.push(a)}};h.abort=function(){this._5853()};h._5313=function(b){var a=this;return this._4826[b].getImageAsBase64String(function(b){a._6246(b.image.get_Guid(),b.fileId)},
function(b){if("abort"!==b.statusText)if(void 0!=b.errorMessage)a._5853(b.errorMessage);else{var d;b.responseJSON&&(d=b.responseJSON.ExceptionMessage);a._5853(d)}})};h._5853=function(b){this._aborted=!0;for(var a=0;a<this._4974.length;a++){var d=this._4974[a].object;1!==d.readyState&&2!==d.readyState||d.abort()}this._4974=[];$(this._frame).remove();void 0!=b&&$(this).triggerHandler("imagesPreparationFailed",b)};h._6246=function(b,a){$(this).triggerHandler("imagePrepared");if(!this._aborted){var d=
$(this._frame).contents().find("#"+b)[0];void 0!=d&&(d.src=a)}};b.pv.ac(g,b.WebImageJS);var d=this;d._4826=g;d._ready=0;d._frame;d._aborted=!1;d._4974=[];g=document.createElement("iframe");g.id=b.WebImagingEnviromentJS.guid();g.src="";d._frame=g;var k=g.style;k.position="absolute";k.width=1;k.height=1;k.margin=0;k.left="-1000px";k.top="-1000px";document.body.appendChild(g);setTimeout(function(){e(d)},0);delete h.imagesPreparationFailed;delete h.imagePrepared;delete h.beginPrint;delete h.endPrint};
p.WebPrintManagerJS=rb;var ob=function(g,e){var a=ob.prototype;a.get_BackgroundStyle=function(){return this._8117};a.get_BorderStyle=function(){return this._2365};a.equals=function(a){return this===a?!0:b.pv.ic(a,ob)?a._2365===this._2365&&a._8117===this._8117:!1};a._5133=function(){var b="background:"+this._8117+";",b=b+("border:"+this._2365+";"),b=b+("margin-left:-"+this._1594+"px;"),b=b+("margin-top:-"+this._1594+"px;");return b+="box-sizing: content-box;-webkit-box-sizing: content-box;"};b.pv.s(g,
e);this._8117=g;this._2365=e;this._1594=function(b){b=b.split(" ");for(var a,e=0;e<b.length;e++)if(a=parseInt(b[e]),!isNaN(a))return 0<a?a:0;if(isNaN(a))return 0}(this._2365)};p.WebThumbnailAppearanceJS=ob;(function(g){(function(a){function d(a,f){e(a);b.pv.f(f,"The second parameter must be a Function, which allows to create the WebVisualToolJS object.");void 0!=E._1512[a]&&b.pv.te("Fabric does not allow to change the standard tool with ID '"+a+"'.")}function e(a){b.pv.s(a);""===a&&b.pv.te("The element ID cannot be empty.")}
var h=function(){};h._1206=function(a){b.pv.s(a);a=Raphael.getRGB(a);if(1===a.error)b.pv.tae();else return"rgba("+a.r+","+a.g+","+a.b+","+(void 0!=a.opacity?a.opacity:1)+")"};h._7740=function(b,a){b.transform(["m",a._3247,a._1542,a._677,a._4538,a._4793,a._9273])};h._9025=function(b,a){var d="matrix("+a._3247+","+a._1542+","+a._677+","+a._4538+","+a._4793+","+a._9273+")";$(b).attr("transform",d)};g._2905=h;var l=function(){var b=l.prototype;b._2962=function(){this._8497="";return this};b._262=function(b){this._8497+=
"M"+b.x+","+b.y;return this};b._5177=function(b){this._8497+="L"+b.x+","+b.y;return this};b._813=function(b,a,d,e,f,g,h){this._8497+="A"+b+","+a+","+d+","+ +e+","+ +f+","+g+","+h;return this};b._1901=function(b,a){this._262(b[0]);for(var d=1;d<b.length;d++)this._5177(b[d]);a&&this._2313();return this};b._7384=function(b){this._262(b[0]);this._8497+=" R ";for(var a=1;a<b.length;a++)this._8497+=","+b[a].x+","+b[a].y;return this};b._5812=function(b){b=t._6002._8571(b);this._1901(b,!0);return this};b._9609=
function(b){this._8497+=b;return this};b._2313=function(){this._8497+="Z";return this};b._1761=function(){return this._8497};this._8497=""};g._898=l;var x=function(){var a=x.prototype;a.mouseDown=function(b,a){};a.mouseMove=function(b,a){};a.mouseUp=function(b,a){};a.mouseDoubleClick=function(b,a){};a.initializationStarted=function(b,a){};a.initializationFinished=function(b,a){};a.initializationException=function(b,a){};a.get_Name=function(){return this._4073};a.get_ActionButton=function(){return this._1706};
a.set_ActionButton=function(a){b.pv.n(a);1!==a&&2!==a&3!==a&&b.pv.tae();this._1706=a};a.get_IsEnabled=function(){return this._5725};a.set_IsEnabled=function(a){this._3175&&(b.pv.b(a),this._5725!==a&&(this._5725=a,this._8218(this._5725)))};a.get_DisableContextMenu=function(){return this._3408};a.set_DisableContextMenu=function(a){b.pv.b(a);this._3408=a};a.get_Cursor=function(){return this._9770};a.set_Cursor=function(a){b.pv.s(a);this._9770=a;this._774()&&this._3891&&this._6701(a)};a.get_ActionCursor=
function(){return this._6813};a.set_ActionCursor=function(a){b.pv.s(a);this._6813=a};a.get_MouseClicksDelta=function(){return this._4853};a.set_MouseClicksDelta=function(a){b.pv.n(a);0>a&&(a=10);this._4853=a};a.get_MouseClickCount=function(){return this._8503};a.get_IsMultipageModeSupported=function(){return!1};a.toString=function(){return this._4073};a.reset=function(){};a._5390=function(b){return!this._5725||void 0!=this._6829&&this._6829._2362()&&(b=this._6829.getImageIndexByLocation(b.pv),0<=
b&&b!=this._6829._4191)?!1:!0};a._774=function(b){return this._5725?void 0!=this._6829&&void 0!=this._6829.get_FocusedImage():this._5725};a._4499=function(b,a){};a._3127=function(b,a){};a._673=function(){this._8656();this._9821=this._6829=void 0};a._8218=function(b){(this._3891=b)?(this._6701(this._9770),this.set_ActionCursor(this._6813)):this._6701("")};a._2485=function(){};a._8656=function(){this._7030();this._5491();this.set_IsEnabled(!1);this._3175=!1;this._7115()};a._7012=function(b){if(this._6829=
b)this._3175=!0,this.set_IsEnabled(!0),this._4975(),this._7030(),this._5069(),this._4989()};a._5491=function(){};a._9097=function(b){this._9638("initializationStarted",b)};a._4820=function(b){this._9638("initializationFinished",b)};a._3896=function(b){this._9638("initializationException",b)};a._7030=function(){void 0!=this._6829&&$(this._6829._1981).off("."+this._9301)};a._5069=function(){var b=this,a=b._9301,d=b._6829._1981;$(d).on("_2669."+a,function(a,d){b._4499(a,d)});$(d).on("_5748."+a,function(a,
d){b._3127(a,d)});$(d).on("disposed."+a,function(){b._673()})};a._5217=function(b){if(this._774()){var a=Date.now();Math.abs(a-this._9269)>this._4853&&(this._8503=0);this._9269=a;this._9638("mouseDown",b.e)}};a._8012=function(b){this._774()&&this._9638("mouseMove",b.e)};a._946=function(b){if(this._774()){var a=Date.now();Math.abs(a-this._9269)<this._4853?this._8503++:this._8503=1;this._9638("mouseUp",b.e)}};a._988=function(b){this._774()&&this._9638("mouseDoubleClick",b.e)};a._6373=function(b){this._9821&&
this._3175&&(void 0==b&&(b=this._6829.get_FocusedImage()),this._6829._558(b))};a._9638=function(b,a){$(this).triggerHandler(b,a)};a._5567=function(b,a,d){};a._6701=function(b){void 0!=this._6829&&this._6829._8968(b)};a._4975=function(){var b=this._6829;b&&(this._9821=b._9270);b=this._9821;if(void 0!=b){var a=b._6863;if(void 0==a||void 0==a.node.parentNode)b._6863=b.rect(0,0,b.width,b.height).attr({"fill-opacity":0,fill:"#f00",stroke:"none"}),b._6863.toBack()}};a._4989=function(){this._7115();this._5862=
this._9821.rect(-1E3,-1E3,0,0)};a._7115=function(){this._5862&&(this._5862.remove(),this._5862=void 0)};this._4073="VisualTool";this._6829;this._9301=b.WebImagingEnviromentJS.guid();this._1706=1;this._3408=this._3175=this._5725=!1;this._6813=this._9770="default";this._3891=!1;this._5862=this._6863=void 0;this._8503=1;this._4853=250;this._9269=0;this._4975();delete this._6863;delete this._5862;delete a.mouseDown;delete a.mouseMove;delete a.mouseUp;delete a.mouseDoubleClick;delete a.initializationStarted;
delete a.initializationFinished;delete a.initializationException},p=function(){function a(b,d){b.attr({fill:"rgba(255,255,255,92)","fill-opacity":.2,stroke:"rgba(0,0,0,192)",cursor:d})}function d(b,a){var e=a._4615,f=b.x-e.x,e=b.y-e.y,g=a._6829._6964(),h,k,u,l;switch(a._570._9874){case "top_left":a._8564.x+f<a._8999[2].x?(a._hm=!1,h=a._8564.x+f,k=a._6387.width-f):(a._hm=!0,h=a._8999[2].x,k=a._8564.x+f-h);a._8564.y+e<a._8999[5].y?(a._vm=!1,u=a._8564.y+e,l=a._6387.height-e):(a._vm=!0,u=a._8999[5].y,
l=a._8564.y+e-u);break;case "top_middle":h=a._8999[0].x;k=a._6387.width;a._8564.y+e<a._8999[5].y?(a._vm=!1,u=a._8564.y+e,l=a._6387.height-e):(a._vm=!0,u=a._8999[5].y,l=a._8564.y+e-u);break;case "top_right":a._8564.x+f>a._8999[0].x?(a._hm=!1,h=a._8999[0].x,k=a._6387.width+f):(this._hm=!0,h=a._8564.x+f,k=a._8999[0].x-h);a._8564.y+e<a._8999[5].y?(a._vm=!1,u=a._8564.y+e,l=a._6387.height-e):(a._vm=!0,u=a._8999[5].y,l=a._8564.y+e-u);break;case "middle_left":u=a._8999[0].y;l=a._6387.height;a._8564.x+f<a._8999[2].x?
(a._hm=!1,h=a._8564.x+f,k=a._6387.width-f):(a._hm=!0,h=a._8999[2].x,k=a._8564.x+f-h);break;case "middle_right":u=a._8999[0].y;l=a._6387.height;a._8564.x+f>a._8999[0].x?(a._hm=!1,h=a._8999[0].x,k=a._6387.width+f):(a._hm=!0,h=a._8564.x+f,k=a._8999[0].x-h);break;case "bottom_left":a._8564.x+f<a._8999[2].x?(a._hm=!1,h=a._8564.x+f,k=a._6387.width-f):(a._hm=!0,h=a._8999[2].x,k=a._8564.x+f-h);a._8564.y+e>a._8999[1].y?(a._vm=!1,u=a._8999[1].y,l=a._6387.height+e):(a._vm=!0,u=a._8564.y+e,l=a._8999[1].y-u);
break;case "bottom_middle":h=a._8999[0].x;k=a._6387.width;a._8564.y+e>a._8999[1].y?(a._vm=!1,u=a._8999[1].y,l=a._6387.height+e):(a._vm=!0,u=a._8564.y+e,l=a._8999[1].y-u);break;case "bottom_right":a._8564.x+f>a._8999[0].x?(a._hm=!1,h=a._8999[0].x,k=a._6387.width+f):(a._hm=!0,h=a._8564.x+f,k=a._8999[0].x-h),a._8564.y+e>a._8999[1].y?(a._vm=!1,u=a._8999[1].y,l=a._6387.height+e):(a._vm=!0,u=a._8564.y+e,l=a._8999[1].y-u)}0>h&&(k+=h,h=0);h+k>g.width&&(k=g.width-h);0>u&&(l+=u,u=0);u+l>g.height&&(l=g.height-
u);0>k&&(k=0);0>l&&(l=0);a.set_Rectangle({x:h,y:u,width:k,height:l})}var e=p.superclass;e.constructor.call(this);var f=p.prototype;f.get_BackColor=function(){return this._8493};f.set_BackColor=function(b){b=h._1206(b);this._8493!==b&&(this._8493=b,void 0!=this._2436&&this._2436.attr({fill:b}))};f.get_BorderColor=function(){return this._8393};f.set_BorderColor=function(b){b=h._1206(b);this._8393!==b&&(this._8393=b,void 0!=this._2436&&this._2436.attr({stroke:b}))};f.get_Rectangle=function(){return{x:this._3395.x,
y:this._3395.y,width:this._3395.width,height:this._3395.height}};f.set_Rectangle=function(a){b.pv.r(a);var d=a.x,e=a.y,f=a.width,h=a.height;(0>d||0>e||0>f||0>h)&&b.pv.tae();if(!t._6002._5276(this._3395,a)&&void 0!=this._6829){var g=this._6829._6964();a=g.width;g=g.height;if(d>a||e>g)d=e=f=h=0;d+f>a&&(f=a-d);e+h>g&&(h=g-e);this._3395={x:d,y:e,width:f,height:h};this._774()&&this._6373()}};f.set_ActionCursor=function(b){e.set_ActionCursor.call(this,b);this._774()&&this._3891&&void 0!=this._2436&&this._4773&&
this._2436.attr("cursor",b)};f.set_IsEnabled=function(b){var a=this._5725;e.set_IsEnabled.call(this,b);this._5725!==a&&(this._5725?this._774()&&(this._6373(),void 0!=this._2436&&this._2436.show(),void 0!=this._780&&this._780.show()):(void 0!=this._2436&&this._2436.hide(),void 0!=this._780&&this._780.hide()))};f.get_Movable=function(){return this._4773};f.set_Movable=function(a){b.pv.b(a);this._4773=a;a=this._2436;if(void 0!=a){var d="";this._4773&&(d=this._6813);a.attr("cursor",d)}};f.get_Resizable=
function(){return this._1920};f.set_Resizable=function(a){b.pv.b(a);if(a!==this._1920){this._1920=a;var d=this._780;a?(d.remove(),this._780=void 0):this._774()&&this._6373()}};f.reset=function(){this._5491();this._6701(this._9770)};f._5491=function(){this._4615=this._6387=this._8999=this._6656=this._570=void 0;this.set_Rectangle(t._6002._3358())};f._873=function(b){b=this._9821.getElementByPoint(b.x-(document.body.scrollLeft||document.documentElement.scrollLeft),b.y-(document.body.scrollTop||document.documentElement.scrollTop));
if(void 0!=b){if(b==this._2436)return this._570=this._2436;if(void 0!=this._780)for(var a=0;a<this._780.length;a++)if(b==this._780[a])return this._570=this._780[a],this._780[a]}};f._5217=function(b){e._5217.call(this,b);if(b.b===this._1706&&this._774()){var a=this._6829._7905(),d=a.transformPoint(b.pv),f=this._6829._6964(),h=this._2436;if(void 0!=h&&null!=h.node){var g=this._873(b.ps);if(void 0==g)h.remove(),this._2436=void 0,this.set_Rectangle(t._6002._3358()),0>d.x||0>d.y||d.x>f.width||d.y>f.height||
(this._4615=d,b.handled=!0,b.active=!0);else{this._6387={width:this._2436.attr("width"),height:this._2436.attr("height")};if(g==this._2436){if(!this._4773)return{handled:!1};this._6656={x:this._3395.x,y:this._3395.y}}else for(this._8999=[],f=0;f<this._780.length;f++)h=a.transformPoint({x:this._780[f].attr("cx"),y:this._780[f].attr("cy")}),this._8999.push(h),this._570==this._780[f]&&(this._8564=this._8999[f]);this._4615=d;b.handled=!0;b.active=!0}}else 0>d.x||0>d.y||d.x>f.width||d.y>f.height||(this._4615=
d,b.handled=!0,b.active=!0)}};f._8012=function(b){e._8012.call(this,b);if(void 0!=this._4615){var a=this._6829._7905().transformPoint(b.pv);if(void 0==this._570){var f=this._4615;if(void 0!=f){var h=a.x-f.x,g=a.y-f.y;if(0!==h||0!==g){var k=this._6829._6964(),u=f.x,l=f.y;0>h&&(h*=-1,u=a.x);0>g&&(g*=-1,l=a.y);0>u&&(u=0,h=f.x);0>l&&(l=0,g=f.y);u+h>k.width&&(h=k.width-u);l+g>k.height&&(g=k.height-l);this.set_Rectangle({x:u,y:l,width:h,height:g})}}}else this._570==this._2436?(h=this._4615,f=a.x-h.x,k=
a.y-h.y,a=this._6829._6964(),h=this._6387.width,g=this._6387.height,f=this._6656.x+f,k=this._6656.y+k,0>f&&(f=0),0>k&&(k=0),f+h>a.width&&(f=a.width-h),k+g>a.height&&(k=a.height-g),this.set_Rectangle({x:f,y:k,width:h,height:g})):d(a,this);b.handled=!0;b.active=!0}else this._6701(this._9770)};f._946=function(b){e._946.call(this,b);if(void 0!=this._2436){var a=this._3395.height;1>this._3395.width&&1>a&&this.set_Rectangle(t._6002._3358())}void 0!=this._4615&&(b.handled=!0);this._8564=this._6387=this._8999=
this._6656=this._570=this._4615=void 0};f._8218=function(b){var d=this._3891;e._8218.call(this,b);this._3891!==d&&(this._3891?void 0!=this._780&&(a(this._780[0],"nw-resize"),a(this._780[1],"n-resize"),a(this._780[2],"sw-resize"),a(this._780[3],"e-resize"),a(this._780[4],"e-resize"),a(this._780[5],"ne-resize"),a(this._780[6],"n-resize"),a(this._780[7],"nw-resize")):void 0!=this._2436&&(this._2436.attr({cursor:""}),void 0!=this._780&&this._780.attr({cursor:""})))};f._774=function(b){if(this._5725){var a=
this._6829;return void 0!=a&&(a=a.get_FocusedImage(),void 0==b&&(b=a),void 0!=b&&b===a)?!b.get_IsBad():!1}return this._5725};f._4499=function(b,a){var d=this._6829,e=d.get_FocusedImage(),d=d._8451(e);this._5567(d,e)};f._5567=function(b,d,e){if(this._774(d))if(e=this._3395,t._6002._1672(e))void 0!=this._2436&&(this._2436.remove(),this._2436=void 0),void 0!=this._780&&(this._780.remove(),this._780=void 0);else{d=Math.max(Math.abs(b._3247),Math.abs(b._4538));0===d&&(d=Math.max(Math.abs(b._1542),Math.abs(b._677)));
d={"stroke-width":1/d};void 0==this._2436?(this._2436=this._9821.rect(e.x,e.y,e.width,e.height).attr({fill:this._8493,stroke:this._8393,"stroke-dasharray":"--"}),this._5862&&this._2436.insertAfter(this._5862),this._4773&&this._2436.attr("cursor",this._6813)):(d.x=e.x,d.y=e.y,d.width=e.width,d.height=e.height);if(this._1920){var f=this.get_Rectangle();if(!t._6002._1672(f)){e=f.x;var g=f.y,k=f.width,f=f.height;e=[{x:e,y:g},{x:e+k/2,y:g},{x:e+k,y:g},{x:e,y:g+f/2},{x:e+k,y:g+f/2},{x:e,y:g+f},{x:e+k/2,
y:g+f},{x:e+k,y:g+f}];b.transformPoints(e);g=!1;if(void 0==this._780){var g=!0,u=this._9821,l,D,v,B,F;this._780=u.set();k=u.circle(e[0].x,e[0].y,4);k._9874="top_left";f=u.circle(e[1].x,e[1].y,4);f._9874="top_middle";l=u.circle(e[2].x,e[2].y,4);l._9874="top_right";D=u.circle(e[3].x,e[3].y,4);D._9874="middle_left";v=u.circle(e[4].x,e[4].y,4);v._9874="middle_right";B=u.circle(e[5].x,e[5].y,4);B._9874="bottom_left";F=u.circle(e[6].x,e[6].y,4);F._9874="bottom_middle";u=u.circle(e[7].x,e[7].y,4);u._9874=
"bottom_right";this._780.push(k);this._780.push(f);this._780.push(l);this._780.push(D);this._780.push(v);this._780.push(B);this._780.push(F);this._780.push(u)}g||(this._780[0].attr({cx:e[0].x,cy:e[0].y}),this._780[1].attr({cx:e[1].x,cy:e[1].y}),this._780[2].attr({cx:e[2].x,cy:e[2].y}),this._780[3].attr({cx:e[3].x,cy:e[3].y}),this._780[4].attr({cx:e[4].x,cy:e[4].y}),this._780[5].attr({cx:e[5].x,cy:e[5].y}),this._780[6].attr({cx:e[6].x,cy:e[6].y}),this._780[7].attr({cx:e[7].x,cy:e[7].y}));e=this._6829._6419;
0===e||180===e?(a(this._780[0],"nw-resize"),a(this._780[1],"n-resize"),a(this._780[2],"sw-resize"),a(this._780[3],"e-resize"),a(this._780[4],"e-resize"),a(this._780[5],"sw-resize"),a(this._780[6],"n-resize"),a(this._780[7],"nw-resize")):(a(this._780[0],"sw-resize"),a(this._780[1],"e-resize"),a(this._780[2],"nw-resize"),a(this._780[3],"n-resize"),a(this._780[4],"n-resize"),a(this._780[5],"nw-resize"),a(this._780[6],"e-resize"),a(this._780[7],"sw-resize"));this._2436&&this._780.insertAfter(this._2436)}}else void 0!=
this._780&&(this._780.remove(),this._780=void 0);this._2436.attr(d);h._7740(this._2436,b)}};this._4073="RectangularSelection";this._6813="move";this._2436=void 0;this._8493="rgba(0,200,255,0.5)";this._8393="rgba(0,0,0,1)";this._3395=t._6002._3358();this._1920=this._4773=!0;this._8564=this._570=this._780=this._6387=this._8999=this._6656=this._4615=void 0};b.extend(p,x);var C=function(){function a(b){var d=b._4096;if(void 0!=d){var e=b._2699[d.ci],f=b._385(e);void 0!=f&&(d=f[d.ei],void 0!=d&&d.attr({fill:e._1825,
stroke:e._7027}))}b._4096=void 0}function d(b){var a=b._4096;if(void 0!=a){var e=b._385(b._2699[a.ci]);void 0!=e&&(a=e[a.ei],void 0!=a&&a.attr({fill:b._6549,stroke:b._1674}))}}var e=C.superclass;e.constructor.call(this);var f=C.prototype;f.set_ActionCursor=function(b){e.set_ActionCursor.call(this,b);if(this._3891)for(var a in this._9856)this._9856[a].attr({cursor:b})};f.get_SelectedItem=function(){if(void 0==this._4096)return-1;for(var b=this._4096.ci,a=0,d=0;d<b;d++)a+=this._2699[d].get_Count();
return a+=this._4096.ei};f.set_SelectedItem=function(e){b.pv.n(e);0>e&&b.pv.toe();for(var f=e,h=0,g=0;h<this._2699.length;h++){var k=this._2699[h].get_Count(),g=g+k;if(f>=k)f-=k;else break}e>=g&&b.pv.toe();a(this);this._4096={ci:h,ei:f};d(this)};f.get_SelectedItemBrushColor=function(){return this._6549};f.set_SelectedItemBrushColor=function(b){b=h._1206(b);this._6549!==b&&(this._6549=b,d(this))};f.get_SelectedItemPenColor=function(){return this._1674};f.set_SelectedItemPenColor=function(b){b=h._1206(b);
this._1674!==b&&(this._1674=b,d(this))};f.set_IsEnabled=function(b){var a=this._5725;e.set_IsEnabled.call(this,b);if(this._5725!==a)if(!this._5725)for(var d in this._9856)this._9856[d].hide();else if(this._774())for(d in this._6373(),this._9856)this._9856[d].show()};f.addItems=function(a){b.pv.c(a,u);this._2699.push(a);this._774()&&this._6373()};f.removeItemAt=function(a){b.pv.n(a);0>a||a>=this._2699.length?b.pv.toe():this._182(a)};f.clearItems=function(){if(0!=this._2699.length){for(var b in this._9856)this._9856[b].remove();
this._9856={};this._4096=void 0;this._2699=[]}};f.findItem=function(a,d){b.pv.n(a,d);if(0<this._2699.length){var e=this._9711({x:a,y:d});if(void 0!=e)return this._2699[e._collect].get_Item(e._976)}};f.reset=function(){this.clearItems()};f.selectItem=function(e){b.pv.c(e,r);var f=this._4096;if(void 0==f||this._2699[f.ci]._442[f.ei]!==e){for(var f=0,h=-1;f<this._2699.length&&(h=this._2699[f]._442.indexOf(e),-1===h);f++);-1===h&&b.pv.te("Item is not contained in tool regions.");a(this);this._4096={ci:f,
ei:h};d(this)}};f._8218=function(b){var a=this._3891;e._8218.call(this,b);if(this._3891!==a&&!this._3891)for(var d in this._9856)this._9856[d].attr({cursor:""})};f._9711=function(b){if(0<this._2699.length)return b=this._9821.getElementByPoint(b.x-(document.body.scrollLeft||document.documentElement.scrollLeft),b.y-(document.body.scrollTop||document.documentElement.scrollTop)),void 0==b||void 0==b._collect?void 0:b};f._7012=function(b){e._7012.call(this,b);this._2485();this.set_ActionCursor(this._6813)};
f._5491=function(){this.clearItems()};f._2485=function(){this._774()&&this._6373()};f._5217=function(b){e._5217.call(this,b);b.b===this._1706&&this._774()&&(b=this._9711(b.ps),a(this),void 0!=b&&(this._4096={ci:b._collect,ei:b._976},d(this)))};f._4499=function(b,a){var d=this._6829,e=d.get_FocusedImage(),d=d._8451(e);this._5567(d,e)};f._5567=function(b,a,d){if(this._774(a)){var e=this._5862;for(a=0;a<this._2699.length;a++){d=this._2699[a];var f=this._385(d);if(void 0==f){for(var f=this._9821,g=d,
k=a,u=f.set(),l=g._1825,D=g._7027,v=0;v<g.get_Count();v++){var B,F=g.get_Item(v),L=l,x=D;B=k;var m=v,L=f.path(0,0," ").attr({path:F.get_Path(),fill:L,stroke:x}),F=F.get_ToolTip();null!=F&&L.attr({title:F});L._collect=B;L._976=m;B=L;void 0!=e&&(B.insertAfter(e),e=B);u.push(B)}f=u;f.attr("cursor",this._6813);this._3731(d,f)}h._7740(f,b);e=f[f.length-1]}}};f._385=function(b){return this._9856[b._9301]};f._3731=function(b,a){this._9856[b._9301]=a};f._182=function(b){var a=this._2699[b];this._2699.splice(b,
1);a=a._9301;this._9856[a].remove();for(delete this._9856[a];b<this._2699.length;b++)if(a=this._385(this._2699[b]),void 0!=a)for(var d=0;d<a.length;d++)a[d]._collect=b};this._4073="HighlightTool";this._2699=[];this._9856={};this._4096=void 0;this._6549="rgba(0,0,255,0.18)";this._1674="rgba(0,128,0,0.75)"};b.extend(C,x);var r=function(b){var a=r.prototype;a.get_Path=function(){return this._5254};a.get_ToolTip=function(){return this._2075};a.set_ToolTip=function(b){this._2075=b};this._5254=b;this._2075=
""};r.createObjectFromRectangle=function(a){b.pv.r(a);var d=new l;d._5812(a);return new r(d._1761())};r.createObjectFromPolygon=function(a){b.pv.ad(a,b.pv.p);var d=new l;d._1901(a,!0);return new r(d._1761())};var u=function(a,d,e){var f=u.prototype;f.get_Count=function(){return this._442.length};f.get_Item=function(a){b.pv.n(a);(0>a||a>this._442.length)&&b.pv.toe();return this._442[a]};this._1825=h._1206(d);this._7027=e=void 0!=e?h._1206(e):"rgba(0,0,0,1)";b.pv.ac(a,r);this._442=a;this._9301=b.WebImagingEnviromentJS.guid()},
D=function(){var a=D.superclass;a.constructor.call(this);var d=D.prototype;d.get_ZoomButton=function(){return this._9840};d.set_ZoomButton=function(a){b.pv.n(a);this._9840=a};d.set_Rectangle=function(b){a.set_Rectangle.call(this,b);this.set_ActionCursor(this._6813)};d._5217=function(b){a._5217.call(this,b);if(this._9840===b.b){var d=this._873(b.ps);if(void 0!=d&&d==this._2436){var d=this._6829,e=this.get_Rectangle(),e=t._6002._3895(e),f=d._5121(),h=d._6431._143(e),f=Math.min(f.width/h.width,f.height/
h.height);this._5524=t._6002._9282(e);this.reset();d.beginInit();d.set_ImageSizeMode(new s.WebImageSizeModeEnumJS(6));e=d._5899*f;1>e&&(e=1);1E3<e&&(e=1E3);d.set_Zoom(e);d.endInit();b.handled=!0}}};d._4499=function(b,d){var e=this._6829,f=e._8451();if(void 0!=this._5524){var h=e._5121(),f=f.transformPoint(this._5524);e._1770(f.x-h.width/2,f.y-h.height/2);this._5524=void 0}else a._4499.call(this,b)};this._4073="ZoomSelection";this._6813="zoom-in";this._9840=1;this._5524};b.extend(D,p);var F=function(){var b=
F.superclass;b.constructor.call(this);var a=F.prototype;a.set_ActionCursor=function(a){b.set_ActionCursor.call(this,a);void 0!=this._4615&&this._6701(a)};a.reset=function(){b.reset.call(this);this._3866=this._4615=void 0;this._6701(this._9770)};a._5217=function(a){b._5217.call(this,a);a.b===this._1706&&this._774()&&(this._4615=a.ps,this._3866=this._6829._3368(),this.set_ActionCursor(this._6813),a.handled=!0,a.active=!0)};a._8012=function(a){b._8012.call(this,a);if(void 0!=this._4615){this._6701(this._6813);
var d=this._6829._2136(!0),e=this._6829._5121(),f=parseInt(e.width),e=parseInt(e.height),h=this._6829._803(),g=a.ps,k=this._4615.x-g.x,g=this._4615.y-g.y,u=0,l=0;void 0!=this._3866&&(u=this._3866.x,l=this._3866.y);f=Math.max(0,Math.min(d.width-f+h,u+k));d=Math.max(0,Math.min(d.height-e+h,l+g));this._6829._5512(f,d);a.handled=!0;a.active=!0}else this._6701(this._9770)};a._946=function(a){b._946.call(this,a);this.reset()};this._4073="Pan";this._4615=this._3866=void 0;this._9770="grab";this._6813="grabbing"};
b.extend(F,x);var B=function(){var a=B.superclass;a.constructor.call(this);var d=B.prototype;d.get_ZoomInButton=function(){return this._9970};d.set_ZoomInButton=function(a){b.pv.n(a);this._9970=a};d.get_ZoomOutButton=function(){return this._8793};d.set_ZoomOutButton=function(a){b.pv.n(a);this._8793=a};d.get_ZoomStep=function(){return this._9757};d.set_ZoomStep=function(a){b.pv.n(a);this._9757=a};d.reset=function(){a.reset.call(this);this._2560=this._5608=void 0};d._5217=function(b){a._5217.call(this,
b);this._6829._3368();var d=this._6829.get_Zoom(),e=0;this._8793===b.b&&(e-=this._9757);this._9970===b.b&&(e+=this._9757);e=d*(1+e/100);1>e&&(e=1);1E3<e&&(e=1E3);e!==d&&(this._5608=d=b.pv,this._2560=this._6829._55(d),this._6829.beginInit(),this._6829.set_ImageSizeMode(6),this._6829.set_Zoom(e),this._6829.endInit(),b.handled=!0)};d._4499=function(b,a){if(void 0!=this._2560){var d=this._6829._4579(this._2560),e=d.x-this._5608.x,d=d.y-this._5608.y,f=this._6829._3368();this._6829._1770(f.x+e,f.y+d);this._2560=
this._5608=void 0}};this._4073="Zoom";this._9970=1;this._8793=3;this._9757=10;this._2560=this._5608=void 0;this._3408=!0};b.extend(B,x);var ha=function(){function a(b){if(b._774()){var e=b._6829._8023[0],f=b._6829.get_FocusedImage();if(void 0!=e&&void 0==b._9021){b._9021=$("<div>").insertBefore(e);var e=b._6861.width,g=b._6861.height,k=h(b),k={width:e,height:g,cursor:"none",overflow:"hidden",display:"none","z-index":"100",border:"1px ridge black","background-color":k,position:"absolute","pointer-events":"none"};
$(b._9021).css(k);b._9021[0].oncontextmenu=function(b){return!1};b._6207=Raphael(b._9021[0],e,g);b._6207.renderfix();void 0!=f&&d(b,f)}}}function d(b,f){if(void 0==b._6207)a(b);else{var h=new pb._7977(b._6207,f,b._6829._1134);b._3881=h;h._1048();e(b);h._5597(b._6829._6419);h._7992(1024,1024);h._9287();h._7439()}}function e(b){var a=b._3881,f=b._6829._6431,h=f._67;if(void 0==a)d(b,h);else{a._1048();var g=b._1029/100;a._3697(f._9308*g,f._2677*g);a._5597(f._6419);g=h.gi();g!==b._7827&&(h=a._5705(h),
void 0!=h&&h.remove(),a._4638(f),b._7827=g);b={x:0,y:0,width:b._6861.width,height:b._6861.height};a._2105(b);a._2006(b);f=f._1307();void 0!=f&&(f=f.clone(),f.set_BorderWidth(0));a._9873(f);a._7439()}}function f(b,a){var d=a.x,e=a.y,h=b._6829._5520(),g=b._6829._9749(),k=b._6829._3368(),h=t._6002._4366(h,g),u=b._3881._8942(!0),g=Math.round(Math.max(u.width,b._6861.width)),u=Math.round(Math.max(u.height,b._6861.height));b._6207.setSize(g,u);u=b._1029/100;g=b._6861.width/(2*u);u=b._6861.height/(2*u);
d<g+h.x&&(d=g+h.x+1);e<u+h.y&&(e=u+h.y+1);var l=h.width;d+g>l+h.x&&(d=l-Math.ceil(g)-1+h.x);g=h.height;e+u>g+h.y&&(e=g-Math.ceil(u)-1+h.y);$(b._9021).css({"margin-left":d-b._6861.width/2-k.x,"margin-top":e-b._6861.height/2-k.y});k=b._6829._55(d,e);d=b._3881;h=d._7942();e=k.x*h.x;h=k.y*h.y;g=b._6861.width/2;u=b._6861.height/2;l=d._8942();k={x:e-g,y:h-u,width:b._6861.width,height:b._6861.height};switch(d._7181()){case 90:k={x:l.height-h-g,y:e-u,width:b._6861.height,height:b._6861.width};break;case 180:k=
{x:l.width-e-g,y:l.height-h-u,width:b._6861.width,height:b._6861.height};break;case 270:k={x:h-g,y:l.width-e-u,width:b._6861.height,height:b._6861.width}}0>k.x&&(k.x=0);0>k.y&&(k.y=0);e=b._9021[0];e.scrollLeft=k.x;e.scrollTop=k.y;d._2105(k)}function h(b){var a="inherit";if(void 0!=b._9021)for(b=b._9021.parent();0!==b.length&&b[0]!=document;){var d=b.css("background-color");if("rgba(0, 0, 0, 0)"!==d&&"transparent"!==d){a=d;break}b=b.parent()}return a}var g=ha.superclass;g.constructor.call(this);var k=
ha.prototype;k.get_Size=function(){return{width:this._6861.width,height:this._6861.height}};k.set_Size=function(a){b.pv.sz(a);var d=a.width;a=a.height;(0>d||0>a)&&b.pv.tae();if(this._6861.width!==d||this._6861.height!==a)this._6861={width:d,height:a},void 0!=this._9021&&($(this._9021).css({width:d,height:a}),this._6207.width=d,this._6207.height=a,void 0!=this._3881&&(e(this),void 0!=this._2759&&f(this,this._2759)))};k.get_Zoom=function(){return this._1029};k.set_Zoom=function(a){b.pv.n(a);100>a&&
(a=100);500<a&&(a=500);a!==this._1029&&(this._1029=a,void 0!=this._3881&&(e(this),void 0!=this._2759&&f(this,this._2759)))};k.set_ActionCursor=function(b){g.set_ActionCursor.call(this,b);this._774()&&this._3891&&this._2627&&this._6701(b)};k.set_IsEnabled=function(b){var a=this._5725;g.set_IsEnabled.call(this,b);this._5725!==a&&(this._5725||this._2583())};k.reset=function(){this._3797()};k._5217=function(b){g._5217.call(this,b);if(b.b===this._1706&&this._774()){var a=b.pv,d=!1,h=this._6829._6431;void 0!=
h&&(d=h._3961(a));d&&(e(this),this._4319(a),f(this,a),b.handled=!0,b.active=!0)}};k._8012=function(b){g._8012.call(this,b);if(this._2627){var a=b.pv;this._6701(this._6813);this._2759=a;f(this,a);b.handled=!0;b.active=!0}else this._6701(this._9770)};k._946=function(b){g._946.call(this,b);this._2627&&this._3797()};k._7012=function(b){g._7012.call(this,b);void 0==this._9021&&a(this)};k._8656=function(){g._8656.call(this);this._5491();this._2583()};k._5491=function(){this._2759=void 0;this._2627=!1};
k._8218=function(b){(this._3891=b)?this._6701(this._9770):this._6701("")};k._774=function(b){if(this._5725){var a=this._6829;return void 0!=a&&(a=a.get_FocusedImage(),void 0==b&&(b=a),void 0!=b&&b===a)?!b.get_IsBad():!1}return this._5725};k._2583=function(){void 0!=this._3881&&(this._3881=void 0);$(this._9021).remove();this._7827=this._9021=this._6207=void 0;this._2627=!1};k._4319=function(b){if(void 0!=this._9021){this._2627=!0;var a=h(this);$(this._9021).css({display:"block","background-color":a});
this._2759=b;this.set_ActionCursor(this._6813)}};k._3797=function(){$(this._9021).css("display","none");this._5491();this.set_Cursor(this._9770)};this._4073="Magnifier";this._6861={width:200,height:200};this._1029=250;this._9021;this._6207;this._3881;this._7827;this._2759=void 0;this._2627=!1;this._6813="none"};b.extend(ha,x);var Ca=function(a){function d(b,a){var e=b._9301;$(a).on("initializationStarted."+e+" initializationFinished."+e+" initializationException."+e,function(a,d){b._9638(a.type,d)})}
var e=Ca.superclass;e.constructor.call(this);var f=Ca.prototype;f.get_VisualTools=function(){return[].concat(this._9200)};f.get_Tool=function(a){b.pv.n(a);0>a&&a>this._9200.length&&b.pv.toe();return this._9200[a]};f.get_ActiveVisualTool=function(){return this._8301};f.set_ActiveVisualTool=function(a){if(0!=this._9200.length){if(void 0!=a&&(b.pv.c(a,x),-1===this._9200.indexOf(a)&&b.pv.te("Composite visual tool does not contain specified visual tool."),this._8301==a))return;var d=void 0==a?!0:!1;this._8301=
a;for(a=this._9200.length-1;0<=a;a--)this._9200[a]._8218(d);void 0!=this._8301&&this._8301._8218(!0)}};f.set_IsEnabled=function(b){e.set_IsEnabled.call(this,b);for(var a=this._9200.length-1;0<=a;a--)this._9200[a].set_IsEnabled(b)};f.get_IsMultipageModeSupported=function(){for(var b=0;b<this._9200.length;b++)if(this._9200[b].get_IsMultipageModeSupported())return!0;return!1};f.get_DisableContextMenu=function(){if(void 0!=this._8301)return this._8301._3408;for(var b=0;b<this._9200.length;b++)if(this._9200[b]._3408)return!0;
return!1};f.set_DisableContextMenu=function(a){b.pv.b(a);var d=this._9200;if(0!==d.length)if(void 0!=this._8301)this._8301._3408=a;else if(1===d.length)d[0]._3408=a;else for(var e=0;e<d.length;e++)d[e]._3408!=a&&b.pv.te("The property cannot be set for composite visual tool.")};f.reset=function(){for(var b=this._9200.length-1;0<=b;b--)this._9200[b].reset()};f._5390=function(b){if(this._5725){if(void 0!=this._8301)return this._8301._5390(b);for(var a=0;a<this._9200.length;a++)if(this._9200[a]._5390(b))return!0}return!1};
f._7012=function(b){this._6829=b;this._3891=this._3175=!0;this.set_IsEnabled(!0);for(var a=this._9200.length-1;0<=a;a--){var e=this._9200[a];e._7012(b);e._7030();d(this,e)}this._5069();b=this._8301;void 0!=b&&(b=this._9200.indexOf(b),-1!==b&&this._9200[b]._8218(!0));this._9821=this._9200[0]._9821};f._8656=function(){e._8656.call(this);for(var b=this._9200.length-1;0<=b;b--){var a=this._9200[b];a._8656();var d=this._9301;$(a).off("initializationStarted."+d+" initializationFinished."+d+" initializationException."+
d)}};f._5217=function(b){e._5217.call(this,b);if(void 0!=this._8301)this._8301._774()&&this._8301._5217(b);else for(var a=0;a<this._9200.length;a++){var d=this._9200[a];if(d._774()&&(d._5217(b),b.handled))break}};f._8012=function(b){e._8012.call(this,b);if(void 0!=this._8301)this._8301._774()&&this._8301._8012(b);else for(var a=0;a<this._9200.length;a++){var d=this._9200[a];if(d._774()&&(d._8012(b),b.handled))break}};f._946=function(b){e._946.call(this,b);if(void 0!=this._8301)this._8301._774()&&
this._8301._946(b);else for(var a=0;a<this._9200.length;a++){var d=this._9200[a];if(d._774()&&(d._946(b),b.handled))break}};f._988=function(b){e._988.call(this,b);if(void 0!=this._8301)this._8301._774()&&this._8301._988(b);else for(var a=0;a<this._9200.length;a++){var d=this._9200[a];if(d._774()&&(d._988(b),b.handled))break}};f._4499=function(b,a){for(var d=this._9200.length-1;0<=d;d--)this._9200[d]._4499(b,a)};f._3127=function(b,a){for(var d=this._9200.length-1;0<=d;d--)this._9200[d]._3127(b,a)};
f._673=function(){for(var b=this._9200.length-1;0<=b;b--)this._9200[b]._673();e._8656.call(this);this._papaer=this._6829=void 0};f._5567=function(b,a,d){for(var e=this._9200.length-1;0<=e;e--){var f=this._9200[e];f._774(a)&&f._5567(b,a,d)}};f._4975=function(){e._4975.call(this);if(void 0!=this._9200)for(var b=0;b<this._9200.length;b++)this._9200[b]._4975()};this._9200=[];this._4073="Composite:";var h=this;b.pv.ad(a,function(a){b.pv.c(a,x);h._9200.push(a);h._4073+=a._4073+","});this._4073=this._4073.substr(0,
this._4073.length-1);this._8301=void 0};b.extend(Ca,x);var K=function(){var b=K.superclass;b.constructor.call(this);var a=K.prototype;a._9491=function(b){};a.set_ActionButton=function(b){};a._5217=function(a){this._5725&&(b._5217.call(this,a),a.handled&&$(this._6829._1981).triggerHandler("_9491"))};a._8012=function(a){this._4087||($(this._9821.canvas).css("z-index",30),this._4087=!0);b._8012.call(this,a)};a._946=function(a){b._946.call(this,a);a=this._2436;if(void 0!=a){var d=this._6829,e=a.matrix.x(a.attr("x"),
a.attr("y")),f=a.matrix.y(a.attr("x"),a.attr("y")),h=a.attr("width"),g=a.attr("height"),k=d._5726(),u=k.width,k=k.height,l=[];void 0!=d._2005&&(l=d._2005.find("div.border"));for(var D=$(this._9821.canvas).offset(),n=[],v=0;v<l.length;v++){var B=$(l[v]).offset(),F=B.top-D.top,B=B.left-D.left;if(!(e>=B+u||e+h<=B||f>=F+k||f+g<=F||(n.push(v),this._6829.get_MultiSelect())))break}d.set_SelectedIndices(n);a.remove();delete this._2436;this.set_Rectangle(t._6002._3358())}$(this._9821.canvas).css("z-index",
1);this._4087=!1};a._6373=function(b){this._9821&&this._3175&&this._6829.invalidate()};a._774=function(b){return this._5725};a._6701=function(b){};a._7012=function(a){b._7012.call(this,a);$(this._6829._7283).find("svg").css("z-index",1)};this._4073="ThumbnailSelection";this._4087=!1;this.set_Resizable(!1);this.set_Movable(!1);delete a._9491};b.extend(K,p);a.WebHighlightToolJS=C;a.WebVisualToolJS=x;a.WebRectangularSelectionToolJS=p;a.WebHighlightObjectJS=r;a.WebHighlightObjectsJS=u;a.WebZoomSelectionToolJS=
D;a.WebPanToolJS=F;a.WebZoomToolJS=B;a.WebMagnifierToolJS=ha;a.WebCompositeVisualToolJS=Ca;a._4042=K;var E=function(){};E._1512=function(){};E._1512={RectangularSelection:a.WebRectangularSelectionToolJS,HighlightTool:a.WebHighlightToolJS,ZoomSelection:a.WebZoomSelectionToolJS,Pan:a.WebPanToolJS,Zoom:a.WebZoomToolJS,Magnifier:a.WebMagnifierToolJS};E._618=function(){};E._618={};E.registerTool=function(b,a){d(b,a);E._618[b]=a};E.unregisterTool=function(b){e(b);delete E._618[b]};E.createToolById=function(d){e(d);
var f=E._1512[d];void 0==f&&(f=E._618[d]);void 0==f&&b.pv.te("WebVisualToolJS element with '"+d+"' ID does not registered.");d=new f;b.pv.c(d,a.WebVisualToolJS,"Created element is not derived from WebVisualToolJS class.");return d};E.getAllStandardRegisteredIds=function(){var b=[],a;for(a in E._1512)b.push(a);return b};E.getAllRegisteredIds=function(){var b=E.getAllStandardRegisteredIds(),a;for(a in E._618)b.push(a);return b};E._2438=function(b,a){d(b,a);E._1512[b]=a};a.WebVisualToolFabricJS=E})(g.VisualTools);
var e=function(a,d,h,g){var l=e.prototype;l.changed=function(b){};l.get_BackColor=function(){return this._8493};l.set_BackColor=function(a){b.pv.s(a);this._8493!==a&&(this._8493=a,this._1921())};l.get_BorderColor=function(){return this._8393};l.set_BorderColor=function(a){b.pv.s(a);this._8393!==a&&(this._8393=a,this._1921())};l.get_BorderWidth=function(){return this._870};l.set_BorderWidth=function(a){b.pv.n(a);0>a&&b.pv.toe();this._870!==a&&(this._870=a,this._1921())};l.equals=function(a){return b.pv.ic(a,
e)?this._8493===a._8493&&this._8393===a._8393&&this._870===a._870&&this._2365===a._2365:!1};l.clone=function(){return new e(this._8493,this._8393,this._870,this._2365)};l._1921=function(b){$(this._3265).triggerHandler("changed",b);$(this).triggerHandler("changed",b)};this._8493="rgba(255,255,255,0)";this._8393="rgba(0,0,0,1)";this._870=0;this._2365="solid";this._3265={};void 0!=a&&(b.pv.s(a,d),this._8493=a,this._8393=d,b.pv.n(h),0>h&&b.pv.toe(),this._870=h,this._2365=g);delete l.changed},a=function(d,
e,h){function n(b,a){var d=0;if(0===a.length)for(var e=0;e<b.length;e++)a.push(e);for(e=0;e<a.length;e++)a[e]<b.length&&3===b[a[e]].data("info").s&&d++;return d}function l(b){if(b._6306){var a=b._8746();if(0===a.length)return!1;for(var d=0;d<a.length;d++){var e=b._6306[a[d]];if(void 0==e||3!==e.data("info").s)return!1}return!0}return!1}function x(b,a,d,e){b="tlL"+b.x+","+b.y;b+="S"+d.x+","+d.y+"Sz"+a.width+","+a.height;if(!1!==e.get_IsVector()){var f=e.get_RenderingSettings();a=f.get_Resolution();
d=f.get_InterpolationMode();f=f.get_SmoothingMode();b+="Rs"+a.x+","+a.y+","+d.valueOf()+","+f.valueOf()}e=e.get_DecodingSettings();void 0!=e&&e.get_IsColorManagementEnabled()&&(b+="Cm");return b}function p(b,a){if(a.image!==b._67||a.scale.x!==b._9308||a.scale.y!==b._2677||b._9957!==a.size.width||b._5185!==a.size.height)return!1;var d=b._67.get_RenderingSettings(),e=b._67.get_DecodingSettings();return d.equals(a.renderingSettings)&&(void 0!=e&&e.equals(a.decodingSettings)||void 0==e&&e==a.decodingSettings)}
function C(b,a){var d,e=-1;if(p(b,a))for(var f=a.pos,h=0;h<b._6306.length;h++){var g=b._6306[h].data("info").loc;if(g.x===f.x&&g.y===f.y){d=b._6306[h];e=h;break}}return{t:d,i:e}}var r=a.prototype;r._9133=function(b,a){};r._7181=function(){return this._6419};r._5597=function(b){this._6419!==b&&(this._6419=b,this._9351=!0,this._4755())};r._3041=function(){return this._4736};r._3660=function(b){this._4736=b};r._7942=function(){return{x:this._9308,y:this._2677}};r._3697=function(b,a){if(this._9308!==
b||this._2677!==a)this._9308=b,this._2677=a,this._9351=!0,this._9698()};r._6509=function(){return{width:this._9957,height:this._5185}};r._7992=function(b,a){if(this._5185!==a||this._9957!==b)this._9957=b,this._5185=a,this._9698()};r._5030=function(){return this._4661};r._5781=function(b){this._4661=b};r._3462=function(){return this._9910};r._9135=function(b){this._9910=b};r._9438=function(){(void 0==this._8166||this._9351)&&this._1814();return{x:this._8166.x,y:this._8166.y}};r._2006=function(b){t._6002._5276(this._1576,
b)||(this._1576=b,this._9351=!0,this._4755())};r._2105=function(b){t._6002._5276(this._2781,b)||(this._2781=b,this._1026())};r._1307=function(){return this._8974};r._9873=function(b){b===this._8974||void 0!=b&&b.equals(this._8974)||(this._8974=b,this._1026())};r._9619=function(b){this._7119.equals(b)||(this._7119=b,this._9351=!0,this._4755())};r._5705=function(b){this._67=b;this._9351=!0;this._6920=0;this._5285=3;this._3375(!1);return this._652()};r._1878=function(){return this._67.get_IsBad()};r._8996=
function(){return this._9985&&!this._1878()};r._3375=function(b){this._9985!==b&&(this._9985=b)&&(b={rect:this._1453(),image:this._67},this._9638("_9133",b))};r._1056=function(){return void 0==this._1988&&0===this._6920};r._1814=function(){var b=this._8942(!0),a=b.width,b=b.height,d=this._1576.x,e=this._1576.y,f=this._1576.width,h=this._1576.height,a=a<f?this._7119.contains(4)?d:this._7119.contains(8)?d+f-a:d+(f-a)/2:d,b=b<h?this._7119.contains(1)?e:this._7119.contains(2)?e+h-b:e+(h-b)/2:e;this._8166=
{x:Math.round(a),y:Math.round(b)}};r._1048=function(){this._1541++};r._7439=function(b){void 0==b&&(b=!1);b?this._1541=0:this._1541--;0===this._1541?this._1026():0>this._1541&&(this._1541=0)};r._117=function(){return 0!==this._1541};r._3961=function(b){var a=this._1453();return t._6002._9066(a,b)};r._9255=function(){this._3916=!1;var b=this._1453();return t._6002._6349(b,this._2781)?this._3916=!0:!1};r._1026=function(){if(!this._9210&&void 0!=this._67.get_Size()&&0===this._1541){var b=this._2781;
if(0!==b.width&&0!==b.height){this._5875=this._2060=!1;var a=this._1878();if(this._9351||a)this._1814(),this._9351=!1;b=this._9255();if(a&&void 0!=this._6306){b&&this._2611();var d=this._8942(),a=d.width,d=d.height,e=this._6306[0];void 0!=e&&e.attr({width:a,height:d});a=this._1598();g._2905._9025(this._795,a);this._6117();b&&(this._3375(!0),this._502())}else 1===this._5285?(d=this._1056(),b&&!d&&this._2611(),a=this._1598(),void 0!=this._6306&&g._2905._9025(this._795,a),void 0!=this._1988&&g._2905._9025(this._306,
a),b&&!d&&this._3375(!0)):2<=this._5285&&(2===this._5285&&this._3938(),this._8088()),this._6117(),b&&(b=this._1227(),this._5565(),!b&&l(this)&&(this._2611(),this._502())),0!==this._5285&&this._5166();this._5285=0}else this._3916=!1}};r._3815=function(b){void 0==b&&(b=!1);var a=0,d=0,e=this._67.get_Size();void 0!=e&&(a=e.width,d=e.height,this._67.get_IsBad()||0===a||0===d)&&(d=this._1134.height,e=this._1576.height,a=Math.min(this._1134.width,this._1576.width),d=Math.min(d,e));!b||90!==this._6419&&
270!==this._6419||(b=a,a=d,d=b);return{width:a,height:d}};r._8942=function(b){void 0==b&&(b=!1);var a=0,d=0,e=this._67.get_Size();void 0!=e&&(a=e.width,d=e.height,this._67.get_IsBad()||0===a||0===d?(d=this._1134.height*this._2677,e=this._1576.height,a=Math.min(this._1134.width*this._9308,this._1576.width),d=Math.min(d,e)):(a*=this._9308,d*=this._2677));!b||90!==this._6419&&270!==this._6419||(b=a,a=d,d=b);return{width:a,height:d}};r._1453=function(){var b=this._8942(!0),a=this._9438();return{x:a.x,
y:a.y,width:b.width,height:b.height}};r._143=function(b){if(!this._3916)return t._6002._3358();var a=this._585(b);return{x:a.x,y:a.y,width:b.width*this._9308,height:b.height*this._9308}};r._585=function(b){if(!this._3916)return{x:0,y:0};var a=this._9438();return{x:a.x+(b.x-this._2781.x)*this._9308,y:a.y+(b.y-this._2781.y)*this._2677}};r._8088=function(){var b=this._9957,a=this._5185,d=this._9308,e=this._2677,f=this._8942(),h=f.width,k=f.height,f=b/d,l=a/e,n=Math.floor(k/a),v=Math.floor(h/b),r=v,x=
n,h=Math.round(h-b*v);Math.round(h/d);0<h&&r++;k=Math.round(k-a*n);Math.round(k/e);0<k&&x++;this._92=r;this._1760=x;var s=x*r;this._1531();var p=this._3063,t=this._4202;this._6306=t.set();var C=0,A=0,nb=this._1598();if(void 0==this._6778){var G=t.rect(0,0,0,0);$(p).prepend(G.node);this._6778=G}void 0==this._1382&&(G=t.rect(0,0,0,0),p.appendChild(G.node),this._1382=G);G=this._1382;p=this._795;void 0==p&&(p=this._1766(),$(p).insertBefore(G.node),this._795=p);for(g._2905._9025(p,nb);A<x;){for(var nb=
A*l,G=A*a,H=r+C;C<H&&C<s;){var Z=(C-A*r)*f,Q=t.image(" ",(C-A*r)*b,G,C!=v+A*r?b:h,A!=n?a:k);Q.node.removeAttribute("href");this._6306.push(Q);Q.data({info:{loc:{x:Z,y:nb},s:0}});p.appendChild(Q.node);C++}A++}this._6306.s={x:d,y:e};this._6920=0};r._3938=function(){var b=this._8746();if(void 0!=this._6306){if(void 0==this._1988){var a=n(this._6306,b);0<a?this._3952():this._6623()}else{var a=n(this._6306,b),b=n(this._1988,b),d=this._9308;a>b?(this._9261(),this._3952()):a===b&&0!==a&&Math.abs(this._6306.s.x-
d)<Math.abs(this._1988.s.x-d)?(this._9261(),this._3952()):this._6623()}void 0!=this._1988&&this._4770()}else this._9261()};r._3952=function(){this._1988=this._6306;this._306=this._795;this._306.id=this._67.get_Guid();this._795=void 0};r._9261=function(){this._6342();void 0!=this._306&&this._306.remove();this._1988=this._306=void 0};r._6623=function(){void 0!=this._795&&this._795.remove();this._mainbLayer=this._795=void 0};r._5166=function(){var b=this._306;if(void 0!=b&&0!==this._6920){var a=this._4202,
d=a.canvas,e=$(d).children("defs")[0],f=b.id+"clip",h=$(e).children("#"+f)[0],g;void 0==h&&(h=document.createElementNS(d.namespaceURI,"clipPath"),g=a.path(),h.appendChild(g.node),h.id=f,e.appendChild(h),$(b).css("clip-path","url(#"+f+")"),g=g.node);void 0==g&&(g=$(h).children()[0]);b=this._6306;if(void 0!=b){a=new pb._898;for(d=0;d<b.length;d++)e=b[d],3!==e.data("info").s&&a._5812({x:e.attr("x"),y:e.attr("y"),width:this._9957,height:this._5185});g.setAttribute("d",a._1761())}}};r._6342=function(){var b=
this._306;if(void 0!=b){var a=$(this._4202.canvas).children("defs")[0],d=b.id+"clip";$(a).children("#"+d).remove();$(b).css("clip-path","")}};r._4770=function(){var b=this._1988;if(0!==b.length){var a=this._7942(),d=this._8942(),e=a.x/b.s.x,f=a.y/b.s.y;this._2611();var h=this._1598();g._2905._9025(this._306,h);for(h=0;h<b.length;){var k=b[h];if(void 0!=k.attrs&&" "!==k.attrs.src){var l=k.attr("width"),n=k.attr("height"),v=k.attr("x"),r=k.attr("y"),l=l*e,n=n*f;l>d.width&&(l=d.width);n>d.height&&(n=
d.height);k.attr({x:Math.floor(v*e),y:Math.floor(r*f),width:Math.ceil(l),height:Math.ceil(n)});h++}else k.remove(),b.splice(h,1)}b.s=a;this._3375(!0)}};r._1598=function(){var b=new t.WebMatrixJS,a=this._8942(),d=this._9438(),e=d.x,d=d.y,f=a.width,a=a.height;b.rotate(this._6419);switch(this._6419){case 0:b.translate(e,d);break;case 90:b.translate(a+e,d);break;case 180:b.translate(f+e,a+d);break;case 270:b.translate(e,f+d)}b._4793=Math.round(b._4793);b._9273=Math.round(b._9273);return b};r._8451=function(){var b=
this._1598(),a=b._4793,d=b._9273,e=this._9308,f=this._2677;if(90===this._6419||270===this._6419)var h=e,e=f,f=h;b.scale(e,f);b._4793=Math.round(a);b._9273=Math.round(d);return b};r._5565=function(){if(!this._9210){for(var b=this._8746(),a=-1,d=0;d<b.length;d++){var e=this._6306[b[d]];if(void 0!=e&&0===e.data("info").s){a=b[d];break}}-1===a||this._3483||this._1097(a)}};r._8746=function(){if(void 0==this._6306)return[];var b=this._92,a=this._1760,d=this._9957,e=this._5185,f={x:this._2781.x,y:this._2781.y,
width:this._2781.width,height:this._2781.height};if(0===f.width||0===f.height)return[];var h=this._1598();h.invert();h.transformRectangle(f);f=t._6002._3895(f);0>f.x&&(f.x=0);0>f.y&&(f.y=0);var h=Math.floor(f.y/e),g=e-f.y%e;0==f.y&&(g=0);var k=0;0<g&&g<=e&&0!=f.y&&(k=1);f.height-=g;0>f.height&&(f.height=0);k+=Math.floor(f.height/e);0<f.height%e&&k++;k>a&&(k=a);a=Math.floor(f.x/d);g=d-f.x%d;0==f.x&&(g=0);e=0;0<g&&g<=d&&0!=f.x&&(e=1);f.width-=g;0>f.width&&(f.width=0);e+=Math.floor(f.width/d);0<f.width%
d&&e++;e>b&&(e=b);d=h+k;f=a+e;k=this._6306.length;for(e=[];h<d;h++)for(g=a;g<f;g++){var l=h*b+g;l<k&&e.push(l)}return e};r._1097=function(b){function a(b,d,e){v._43(b)}function d(b,a,f){if(b.blocked)v._3483=!1,e.s=0,v._5565();else if(a=v,void 0==C(a,b).t)a._3483=!1,a._5565();else if(void 0!=a._1988&&(a._1988=void 0),f=a._1453(),t._6002._6314(f),a._8166=a._1814(),a._3483=!1,f=a._6306,a._6306=a._4202.set(),f.remove(),a._92=1,a._1760=1,a._6920=1,a._9638("imagePaintingException",b),void 0!=b.fileId){f=
a._1598();var h=a._8942(),k=h.width,h=h.height;a._2611();b=a._4202.image(b.fileId,0,0,k,h);a._6306.push(b);a._795.appendChild(b.node);b.data("info",{loc:{x:0,y:0},s:3});g._2905._9025(a._795,f);a._3375(!0);a._502()}}var e=this._6306[b].data("info"),f=e.loc;b=this._67;var h=f.x,f=f.y,k=this._9957,l=this._5185,n=this._7942(),v=this;e.s=1;this._4661?b.renderTileWithNeighbours(h,f,k,l,n,this._9910,a,d):b.renderTile(h,f,k,l,n,this._4661,this._9910,a,d);this._3483=!0};r._43=function(b){var a=void 0==b.a;
if(a){var d=this._4736;if(void 0!=d){var e=b.image,f=x(b.pos,b.size,b.scale,e);d.containsImageData(e,f)||d.addImageData(e,f,b.fileId)}}if(this._9210)this._3483=!1;else{var d=C(this,b),h=d.t,g=d.i;if(void 0!=h){var k=this,n=b.fileId;/^data:image\/[a-zA-Z]+;base64,/.test(n)||(n+="?"+b.image.gi());var v=0;h.attr({src:n});var r=new Image;r.onerror=function(d){if(10>v)setTimeout(function(){h.attr({src:n});r.src=n},250),v++;else{h.data("info").s=0;if(!a&&(d=k._4736,void 0!=d)){var e=b.image,f=x({loc:b.pos},
b.size,b.scale,e);d._1929(e.get_Guid(),f)}k._5565()}};r.onload=function(d){function e(){if(!k._9210&&void 0!=k._6306)if(p(k,b)){var d=r.height;0!==r.width&&0!==d&&k._3375(!0);k._9210||(k._1056()&&k._2611(),h.data("info").s=3,d=k._6306.length,k._6920++,k._9638("imageTilePainted",{tileCount:d,renderedTileCount:k._6920,tileIndex:g,image:k._67}),k._6920===d?k._9261():k._5166(),l(k)&&k._502())}else a&&k._5565()}this.onerror=this.onload=null;if(void 0!=window.requestAnimationFrame){var f=function(){requestAnimationFrame(e)};
requestAnimationFrame(function(){requestAnimationFrame(f)})}else e()};r.src=n;h.image=r;h.data("info").s=2}this._3483=!1;a&&this._5565()}};r._1227=function(){var b=this._4736,a=!1;if(void 0!=b){var d=this._67;if(void 0!=d&&void 0!=this._6306)for(var e=0;e<this._6306.length;e++){var f=this._6306[e].data("info");if(0===f.s){var f=f.loc,h=this._7942(),g={width:this._9957,height:this._5185},k=x(f,g,h,d),k=b.getImageData(d,k);void 0!=k&&(a={fileId:k,image:d,pos:f,scale:h,size:g,renderingSettings:d.get_RenderingSettings().clone(),
a:!1},f=d.get_DecodingSettings(),void 0!=f&&(a.decodingSettings=f.clone()),this._43(a),a=!0)}else 3===f.s&&this._3375(!0)}}return a};r._2611=function(){this._2060||(this._9638("imagePainting",{image:this._67}),this._2060=!0)};r._502=function(){this._5875||(this._9638("imagePainted",{image:this._67}),this._5875=!0)};r._9638=function(b,a){$(this).triggerHandler(b,a)};r._4638=function(d){b.pv.c(d,a);if(void 0!=d._6306&&!d._67.get_IsBad()){var e=this._9308/d._9308,f=this._2677/d._2677;this._1531();var h=
this._306;void 0!=h?$(h.children).remove():(h=this._1766(),h.id=this._67.get_Guid(),this._306=h,void 0!=this._6778?$(h).insertAfter(this._6778.node):$(this._3063).prepend(h));for(var k=this._4202.set(),l=0;l<d._6306.length;l++){var n=d._6306[l],v=k.paper.image(n.attr("src"),n.attr("x")*e,n.attr("y")*f,n.attr("width")*e,n.attr("height")*f);v.data("info",n.data("info"));k.push(v);h.appendChild(v.node)}k.s={x:d._9308,y:d._2677};this._1988=k;d=this._1598();g._2905._9025(h,d)}};r._4755=function(){0===
this._5285&&(this._5285=1);this._1026()};r._9698=function(){this._3375(!1);3!==this._5285&&(this._5285=2);this._6920=0;this._1026()};r._193=function(){var b=this._6778,a;void 0!=this._8974?(a=this._1453(),a.fill=this._8974._8493,a.stroke="none"):a={width:0,height:0};void 0!=b&&b.attr(a)};r._9604=function(){var b=this._1382,a,d=this._8974;if(void 0!=d){var e=d._870;if(0!==e){a=this._1453();var f=e/2,h={x:a.x+f,y:a.y+f,width:Math.ceil(a.width-e),height:Math.ceil(a.height-e)},f=!0;if(0>h.width||0>h.height)f=
!1,h=a;a=h;f?(a.fill="none",a.stroke=d._8393):(a.fill=d._8393,a.stroke="none")}else a={};a["stroke-width"]=e}else a={width:0,height:0};void 0!=b&&b.attr(a)};r._6117=function(){this._193();this._9604()};r._652=function(){this._306=this._795=this._1382=this._6778=this._1988=this._6306=void 0;var b=this._3063;this._3063=void 0;return b};r._1163=function(){$(this).off();this._2781=t._6002._3358();this._9351=!0;this._5285=0;this._3916=!1;this._5285=2;this._9210=!0;this._3375(!1);return this._652()};r._9287=
function(){this._9210=!1};r._1531=function(){if(void 0==this._3063){var b=this._4202.canvas,a=this._1766();b.appendChild(a);this._3063=a}};r._1766=function(){return document.createElementNS(this._4202.canvas.namespaceURI,"g")};this._4202=d;this._67=e;this._3063;this._795;this._306;this._6778;this._1382;this._6306;this._1988;this._8166;this._5185=this._9957=this._2677=this._9308=0;this._4661=!0;this._9910=new b.WebImageTypeEnumJS(1);this._4736;this._4546;this._1760=this._92=this._6419=0;this._3483=
!1;this._6920=0;this._1576=t._6002._3358();this._2781=t._6002._3358();this._7119=new s.WebImageAnchorTypeEnumJS(0);this._5285=this._1541=0;this._8974;this._1134=h;this._9985=!1;this._9210=!0;this._3916=this._9351=!1;this._9301=b.WebImagingEnviromentJS.guid();this._5875=this._2060=!0;delete r._9133},h=function(d){function f(b,a){var d={x:a.pageX,y:a.pageY},e=b._6979(d),f=b._400(e),h=-1;a.which?h=a.which:a.button&&(a.button&1?h=1:a.button&4?h=2:a.button&2&&(h=3));-1==h&&void 0!=a.sourceEvent&&"touchstart"===
a.sourceEvent.type&&(h=1);return{ps:d,pc:e,pv:f,e:a,b:h,handled:!1,active:!1}}function v(b,a){var d=b.data.v,e;e=void 0!=a?a.get_Images():d.get_Images();for(var f=0;f<e.get_Count();f++)C(d,e.get_Image(f));d._9638("_6699",a)}function n(b,a){var d=b.data.v,e;e=void 0!=a?a.get_Images():d.get_Images();for(var f=0;f<e.get_Count();f++)p(d,e.get_Image(f));f=-1;void 0!=a?(f=a._4191,-1===f&&0<e.get_Count()&&(f=0)):0<e.get_Count()&&(f=0);d._4191=f;d._9638("_4758",a);d._9907()}function l(b){b.data.v.set_MasterViewer()}
function x(b,a){var d=b.data.v,e=[],f=[];switch(a.actionName){case "set":e.push(a.previousImage);case "insert":f.push(a.image);break;case "insertRange":f=a.images;break;case "removeAt":e.push(a.image);break;case "clear":case "removeRange":e=a.images}for(var h=0;h<f.length;h++){var g=f[h];void 0!=d._4546&&g.set_RenderingSettings(d._4546);p(d,g)}for(var f=d.get_ImageCacheManager(),w=void 0!=f&&d.get_SyncCacheWithImages(),h=0;h<e.length;h++)g=e[h],C(d,g),w&&f.contains(g)&&f.clearImageCache(g);d._9638("_9787",
a)}function p(b,d){if(void 0==b._8174)$(d.evm).on("icd."+b._9301,{v:b},r);b._6020[d.get_Guid()]=new a(b._6195,d,b._1134)}function C(b,a){var d=a.get_Guid(),e=b._6020[d];void 0==b._7577&&(b._7577=[]);e=e._1163();void 0!=e&&b._7577.push(e);delete b._6020[d];$(a.evm).off("icd."+b._9301);I(b,a)}function r(b,a){var d=b.data.v,e=a.i,f=d.get_ImageCacheManager();void 0!=f&&f.contains(e)&&f.clearImageCache(e);f=d.get_FocusedImage();e===f&&H(d);f=d._6020[e.get_Guid()];void 0!=f&&(void 0==d._7577&&(d._7577=
[]),e=f._5705(e),d._7577.push(e),-1!==d._3379.indexOf(f)&&d._9907());d._9638("_4485",a)}function u(b,a){var d=b.data.v,e=d._4191,f=d._5580(a);d._9638("_5748",a);f&&d._9907();d._4191!==e&&d._9638("focusedIndexChanged",{newFocusedIndex:d._4191,previouslyFocusedIndex:e})}function D(b){b=b.data.v;b.get_Images().setRenderingSettings(b._4546)}function A(b,a){var d=b.data.v,e=a.newFocusedIndex;-1!==e&&e!==d._4191&&d.set_FocusedIndex(e)}function B(b,a){b.data.v.set_ImageRotationAngle(a)}function ha(b,a){var d=
b.data.v,e;for(e in d._6020)d._6020[e]._3660(a);d._9638("_6092",a)}function H(b,a){var d;void 0!=b._6431&&(d=b._6431._67);d!==a&&void 0!=b._3785&&b._3785.reset()}function K(b){b._4088="fi"}function E(b,a){var d=b._4088;if(void 0==d||"fi"===d){if(b.get_IsAutoScrollToFocusedImageEnabled()&&void 0!=b._6431){var d=b._6431._1453(),e=0,f=0;b._1695?(void 0==a&&(a=b._9749()),f=(d.height-a.height)/2,e=d.x+(d.width-a.width)/2,f=d.y+f):(e=d.x,f=d.y);return{x:e,y:f}}return b._3368()}return d}function Aa(b,a){var d=
b._5570(a);b._3368();var e=b._2390,f=d.b,h=b._8898(),g=Math.max(h.width,f.width),f=Math.max(h.height,f.height);if(e.width!==g||e.height!==f)e=b._9732,void 0!=e&&(h={width:g,height:f},b._2390=h,e.css(h),b._6195.setSize(g,f),b._6195.renderfix(),b._9270.setSize(g,f),$(b._9270.canvas).parent().css(h),e=b._8023,b._334&&$(e).css("overflow-x","auto"),b._5502&&$(e).css("overflow-y","auto"),h=b._8898(),g<=h.width&&b._334&&(e[0].scrollLeft=0,$(e).css("overflow-x","hidden")),f<=h.height&&b._5502&&(e[0].scrollTop=
0,$(e).css("overflow-y","hidden")));return d.r}function T(b,a){void 0==b._7577&&(b._7577=[]);for(var d=0;d<b._3379.length;d++){var e=b._3379[d];$(e).off();-1===a.indexOf(e._67)&&(e=e._1163(),void 0!=e&&b._7577.push(e))}0===b._7577.length&&(b._7577=void 0);b._6431=void 0;b._3379=[]}function L(b,a){J(b);var d=b._2318;if(void 0!=d)for(var e=d.width,f=d.width,h=b._9732,g=0;g<b._3379.length;g++){var w=b._3379[g],z=w._67.get_Guid();if(w._1056()){var y=a[g];void 0==b._9758[z]?(d=$(b._2318).clone(),w={position:"absolute",
"pointer-events":"none"},$(d).css(w),$(d).insertAfter(h),b._9758[z]=d):d=b._9758[z];w=e;z=f;w>y.width&&(w=y.width);z>y.height&&(z=y.height);w={top:y.y+(y.height-z)/2,left:y.x+(y.width-w)/2,width:w,height:z};$(d).css(w)}}}function I(b,a){var d;d="string"===typeof a?a:a.get_Guid();var e=b._9758[d];void 0!=e&&($(e).remove(),delete b._9758[d])}function J(b){var a=[];if(void 0!=b._2318)for(var d=0;d<b._3379.length;d++)a.push(b._3379[d]._67.get_Guid());for(var e in b._9758)-1===a.indexOf(e)&&I(b,e)}function ca(b,
a,d,e,f){a._1048();a._5597(b._6419);a._3660(b.get_ImageCacheManager());a._7992(b._9957,b._5185);a._5781(b._4661);a._9135(b._9910);var h=a._67;void 0!=h&&(h=Y(b,h),a._3697(h.x,h.y));a._2006(d);void 0==e&&(e=b._9749());a._2105(e);a._9619(b._7119);a._9873(f);a._9287();a._7439()}function Y(b,a){var d=b._5899/100,e=1,f=1,h=b._7490(a),g=96/h.rx,h=96/h.ry,w=b._5778/96,z=b._3440/96;switch(b._9162.valueOf()){case 5:f=e=1;break;case 2:case 3:case 1:e=d*g*w;f=d*h*w;break;case 4:e=g*w;f=h*z;break;case 6:e=d*
g*w,f=d*h*z}return{x:e,y:f}}function ya(b,a){var d={v:b};$(a).on("imagePainting imageTilePainted imagePainted imagePaintingException",d,U);$(a).on("_9133",d,ea)}function U(b,a){var d=b.data.v,e=b.type;"imagePainting"!==e&&"imagePaintingException"!==e||I(d,this._67);d._9638(e,a)}function ea(b,a){var d=b.data.v;d._4617();d._558(this._67)}function G(b,a){a.active?b._6923||(b._6775(b._9732),b._5355(document),b._6923=!0):b._6923&&(b._6775(document),b._5355(b._9732),b._6923=!1)}function Ba(b){var a="";
window.PointerEvent?a+=" pointerdown."+b+" MSPointerDown."+b:("ontouchstart"in window&&(a+=" touchstart."+b),a+=" mousedown."+b);return a}function Z(b){var a="";window.PointerEvent?a+=" pointermove."+b+" MSPointerMove."+b:("ontouchstart"in window&&(a+=" touchmove."+b),a+=" mousemove."+b);return a}function Q(b){var a="";window.PointerEvent?a+=" pointerup."+b+" MSPointerUp."+b:("ontouchstart"in window&&(a+=" touchend."+b),a+=" mouseup."+b);return a}function ia(b){var a=b._7283;b._6765.width!=a.clientWidth||
b._6765.height!=a.clientHeight?(b._6765={width:a.clientWidth,height:a.clientHeight},b._9893=1):(0<b._9893&&4>b._9893&&b._9893++,4===b._9893&&(b._9893=0,b.update()))}function M(b){b._1270();b._6765=b._8898();b._9907()}function fa(b){b=b.data.v;var a=b._9749();if(void 0!=b._6431&&!t._6002._5276(a,b._6431._2781)){for(var d=0;d<b._3379.length;d++)b._3379[d]._1048(),b._3379[d]._2105(a);if(0===b._1541)for(d=0;d<b._3379.length;d++)b._3379[d]._7439()}}function ga(b,a){$(a._3265).on("changed."+b._9301,function(){if(b._2362()||
b._4659){var a=b._6431;void 0!=a&&(0===b._1541?a._1026():b._3980())}})}function ja(b,a){$(a._3265).on("changed."+b._9301,function(){if(b._2362())if(0===b._1541)for(var a=0;a<b._3379.length;a++){var d=b._3379[a];d!==b._6431&&d._1026()}else b._3980()})}var m=h.prototype;m.focusedIndexChanged=function(b,a){};m.imageInfoLoading=function(b,a){};m.imageInfoLoaded=function(b,a){};m.imageInfoLoadingException=function(b,a){};m.imagePainting=function(b,a){};m.imageTilePainted=function(b,a){};m.imagePainted=
function(b,a){};m.imagePaintingException=function(b,a){};m.zoomChanged=function(b,a){};m.visualToolChanged=function(b,a){};m.imageRotating=function(b,a){};m.imageRotated=function(b,a){};m.disposed=function(b){};m._9787=function(b,a){};m._5748=function(b,a){};m._4485=function(b,a){};m._6699=function(b,a){};m._4758=function(b,a){};m._2669=function(b,a){};m._6092=function(b,a){};m.get_Images=function(){this._1270();var b=this._8174;return void 0==b?this._4826:b.get_Images()};m.get_VisualTool=function(){this._1270();
return this._3785};m.set_VisualTool=function(a){this._1270();void 0!=a&&b.pv.c(a,qb.WebVisualToolJS);if(this._3785!==a){var d=this._3785;void 0!=this._3785&&(this._3785._8656(),this._3785=void 0);void 0!==a&&(this._3785=a,a.reset(),a._7012(this),0!==this._1541&&a.set_IsEnabled(!1));this._9638("visualToolChanged",{visualTool:a,previousVisualTool:d})}};m.get_MasterViewer=function(){this._1270();return this._8174};m.set_MasterViewer=function(a){this._1270();if(a!==this&&this._8174!==a){if(void 0!=a){b.pv.ic(a,
h)||b.pv.ic(a,g.WebThumbnailViewerJS)||b.pv.tae();a._8174===this&&a.set_MasterViewer();for(var d=a;void 0!=(d=d._8174);)d===this&&b.pv.te("MasterViewer cannot refers to itself.")}this._6573();this._8174=a;this._9314()}};m.get_CenterImage=function(){this._1270();return this._1695};m.set_CenterImage=function(a){this._1270();b.pv.b(a);this._1695!==a&&(this._1695=a)&&(K(this),0===this._1541&&void 0!=this._6431&&(a=E(this),this._5512(a.x,a.y)))};m.get_TileWidth=function(){b.pv.te("This property is obsolete from version 8.8. Use the 'get_TileSize' property instead.")};
m.get_TileHeight=function(){b.pv.te("This property is obsolete from version 8.8. Use the 'get_TileSize' property instead.")};m.get_TileSize=function(){return{width:this._9957,height:this._5185}};m.set_TileSize=function(a,d){this._1270();var e,f;void 0==d?(e=a.width,f=a.height):(e=a,f=d);b.pv.n(e,f);32>e&&(e=32);2048<e&&(e=2048);32>f&&(f=32);2048<f&&(f=2048);if(e!==this._9957||f!==this._5185)this._9957=e,this._5185=f,this._3980()};m.get_FocusedIndex=function(){this._1270();return this._4191};m.set_FocusedIndex=
function(a){b.pv.n(a);(0>a||a>this.get_Images().get_Count()-1)&&b.pv.toe();var d=this._4191;if(a!==d){this._4191=a;if(null!=this._8174)try{this._8174.set_FocusedIndex(a)}catch(e){}this._1408(d,a);this._9638("focusedIndexChanged",{newFocusedIndex:a,previouslyFocusedIndex:d})}};m.get_Zoom=function(){this._1270();return this._5899};m.set_Zoom=function(a){6===this.get_ImageSizeMode().valueOf()&&(b.pv.n(a),(1>a||1E3<a)&&b.pv.te("Zoom must be from 1% to 1000%."),9E-4>Math.abs(a-this._5899)||(this._5899=
a,this._3980()))};m.get_ImageSizeMode=function(){this._1270();return this._9162};m.set_ImageSizeMode=function(a){this._1270();a=b.pv.e(a,s.WebImageSizeModeEnumJS);a.equals(this._9162)||(this._9162=a,this._3980())};m.get_ImageRotationAngle=function(){this._1270();return this._6419};m.set_ImageRotationAngle=function(a){this._1270();b.pv.n(a);a=t._6002._4218(a);0!==a&&90!==a&&180!==a&&270!==a&&b.pv.te("Argument value exception.");var d=this._6419;a!==d&&(this._9638("imageRotating",{currentAngle:d,newAngle:a}),
this._6419=a,this._3980(),void 0!=this._8174&&this._8174.set_ImageRotationAngle(a),this._9638("imageRotated",a))};m.get_ImageInfo=function(b){var a=this.get_Images().get_Image(b);b=a.get_Size();a=a.get_Resolution();return void 0==b||void 0==a?void 0:{size:b,resolution:a}};m.get_UseCache=function(){this._1270();return this._4661};m.set_UseCache=function(a){this._1270();b.pv.b(a);if(a!==this._4661){this._4661=a;for(var d in this._6020)this._6020[d]._5781(a)}};m.get_TilesFormat=function(){this._1270();
return this._9910};m.set_TilesFormat=function(a){this._1270();a=b.pv.e(a,b.WebImageTypeEnumJS);if(!this._9910.equals(a)){this._9910=a;for(var d in this._6020)this._6020[d]._9135(a)}};m.get_FocusedImage=function(){var b=this.get_Images();if(0<=this._4191&&this._4191<b.get_Count())return b.get_Image(this._4191)};m.get_HScroll=function(){this._1270();return this._334};m.set_HScroll=function(a){this._1270();b.pv.b(a);this._334!==a&&(a=(this._334=a)?"auto":"hidden",$(this._8023).css("overflow-x",a),M(this))};
m.get_VScroll=function(){this._1270();return this._5502};m.set_VScroll=function(a){this._1270();b.pv.b(a);this._5502!==a&&(a=(this._5502=a)?"auto":"hidden",$(this._8023).css("overflow-y",a),M(this))};m.get_RenderingSettings=function(){this._1270();return this._4546};m.set_RenderingSettings=function(a){this._1270();void 0!=a&&b.pv.c(a,b.WebRenderingSettingsJS);if(!(this._4546==a||void 0!=this._4546&&this._4546.equals(a))){var d=this._9301;void 0!=this._4546&&$(this._4546.evm).off("changed."+d);this._4546=
a;void 0!=this._4546&&($(this._4546.evm).on("changed."+d,{v:this},D),this.get_Images().setRenderingSettings(this._4546))}};m.get_ImageCacheManager=function(){this._1270();var b=this._8174;return void 0==b?this._4736:b.get_ImageCacheManager()};m.set_ImageCacheManager=function(a){this._1270();void 0!=a&&b.pv.c(a,t.WebImageCacheManagerJS);void 0!=this._8174&&b.pv.te("Can not change cache manager of slave viewer.");if(this._4736!==a){this._4736=a;for(var d in this._6020)this._6020[d]._3660(a);this._9638("_6092",
a)}};m.get_SyncCacheWithImages=function(){this._1270();var b=this._8174;return void 0!=b?b.get_SyncCacheWithImages():this._4882};m.set_SyncCacheWithImages=function(a){this._1270();b.pv.b(a);void 0!=this._8174&&b.pv.te("Can not change cache property of slave viewer.");this._4882=a};m.get_ControlId=function(){this._1270();return this._7283.id};m.get_Control=function(){return this._7283};m.get_DisplayMode=function(){this._1270();var b=12,a=this._1839.valueOf(),d=this._7402.valueOf();if(2===a)if(1===
this._403)b=1;else if(2===d)switch(this._403){case 2:b=4;break;case 3:b=8}else{if(1===d)switch(this._403){case 2:b=5;break;case 3:b=9}}else if(1===a)if(2===d)switch(this._403){case 1:b=2;break;case 2:b=6;break;case 3:b=10}else if(1===d)switch(this._403){case 1:b=3;break;case 2:b=7;break;case 3:b=11}return new s.WebImageViewerDisplayModeEnumJS(b)};m.set_DisplayMode=function(a){a=b.pv.e(a,s.WebImageViewerDisplayModeEnumJS);if(!a.equals(this.get_DisplayMode())){var d=this._5424;switch(a.valueOf()){case 1:this._6909(d,
1,2,2);break;case 2:this._6909(d,1,2,1);break;case 3:this._6909(d,1,1,1);break;case 4:this._6909(d,2,2,2);break;case 5:this._6909(d,2,1,2);break;case 6:this._6909(d,2,2,1);break;case 7:this._6909(d,2,1,1);break;case 8:this._6909(d,3,2,2);break;case 9:this._6909(d,3,1,2);break;case 10:this._6909(d,3,2,1);break;case 11:this._6909(d,3,1,1)}}};m.get_MultipageDisplayImagePadding=function(){this._1270();return[].concat(this._5424)};m.set_MultipageDisplayImagePadding=function(a,d,e,f){this._1270();void 0==
f&&("object"===typeof a?(f=a.bottom,d=a.top,e=a.right,a=a.left):f=d=e=a);b.pv.n(a,d,e,f);(0>a||0>d||0>e||0>f)&&b.pv.toe();var h=this._5424;if(h[0]!==a||h[1]!==d||h[2]!==e||h[3]!==f)this._5424=[a,d,e,f],this._2362()&&(K(this),this._3980())};m.get_MultipageDisplayLayoutDirection=function(){this._1270();return this._7402};m.set_MultipageDisplayLayoutDirection=function(a){this._1270();a=b.pv.e(a,s.WebImageLayoutDirectionEnumJS);a.equals(this._7402)||(this._7402=a,this._2362()&&(K(this),this._3980()))};
m.get_MultipageDisplayRowCount=function(){this._1270();return this._403};m.set_MultipageDisplayRowCount=function(a){this._1270();b.pv.n(a);a!==this._403&&(1>a&&b.pv.toe(),this._403=a,K(this),this._3980())};m.get_MultipageDisplayMode=function(){this._1270();return this._1839};m.set_MultipageDisplayMode=function(a){this._1270();a=b.pv.e(a,s.WebImageViewerMultipageDisplayModeEnumJS);a.equals(this._1839)||(this._1839=a,K(this),this._3980())};m.get_IsMultipageDisplayMode=function(){this._1270();return this._2362()};
m.get_IsAutoScrollToFocusedImageEnabled=function(){this._1270();return 0===this._6938};m.get_FocusedImageAppearance=function(){this._1270();return this._7842};m.set_FocusedImageAppearance=function(a){this._1270();b.pv.c(a,e);this._7842.equals(a)||($(this._7842._3265).off("changed."+this._9301),this._7842=a,ga(this,a),(this._2362()||this._4659)&&this._3980())};m.get_ImageAppearance=function(){this._1270();return this._8974};m.set_ImageAppearance=function(a){this._1270();b.pv.c(a,e);this._8974.equals(a)||
($(this._8974._3265).off("changed."+this._9301),this._8974=a,ja(this,a),this._2362()&&this._3980())};m.get_UseImageAppearancesInSinglePageMode=function(){this._1270();return this._4659};m.set_UseImageAppearancesInSinglePageMode=function(a){this._1270();b.pv.b(a);this._4659!==a&&(this._4659=a,this._2362()||this._3980())};m.get_ImageAnchor=function(){this._1270();return this._7119};m.set_ImageAnchor=function(a){this._1270();a=b.pv.e(a,s.WebImageAnchorTypeEnumJS);a.equals(this._7119)||(this._7119=a,
this._3980())};m.get_ProgressImage=function(){this._1270();return this._2318};m.set_ProgressImage=function(a){this._1270();void 0!=a&&b.pv.c(a,Image);var d=this._2318;if(d!==a){var e=!1;if(void 0!=a){e=a.src;if(void 0!=d&&e===d.src)return;e=!0}this._2318=a;if(e){a=[];for(d=0;d<this._3379.length;d++)a[d]=this._3379[d]._1576;L(this,a)}else J(this)}};m.get_ContextMenuFunc=function(){this._1270();return this._2731};m.set_ContextMenuFunc=function(a){this._1270();void 0!=a&&b.pv.f(a);this._2731=a;if(void 0!=
this._9732){var d=this;this._9732[0].oncontextmenu=function(b){b.cancelable=!0;b.preventDefault?b.preventDefault():b.returnValue=!1;b.stopPropagation();var a=d._3785;if(void 0!=a&&a.get_DisableContextMenu())return!1;var e;void 0!=d._2731&&(e=d._2731(b));return void 0!=e?e:!1}}};m.get_IsDisposed=function(){return this._3699};m._2362=function(){return 2!==this._1839.valueOf()||1!==this._403};m._803=function(){return this._5792};m._3368=function(){var b=this._8023[0];return void 0!=b?{x:b.scrollLeft,
y:b.scrollTop}:{x:0,y:0}};m._5512=function(b,a){var d=this._8023[0];if(void 0!=d){var e=this._8898();this._2390.width<=e.width&&(b=0);this._2390.height<=e.height&&(a=0);d.scrollTop=a;d.scrollLeft=b}};m._5121=function(){var b=this._8023[0];return void 0!=b?{width:b.clientWidth,height:b.clientHeight}:{width:0,height:0}};m._8898=function(){var b=this._7283;return void 0!=b?{width:b.clientWidth,height:b.clientHeight}:{width:0,height:0}};m._9749=function(){var b=this._3368(),a=this._5121();return{x:b.x,
y:b.y,width:a.width,height:a.height}};m._2136=function(){return{width:this._2390.width,height:this._2390.height}};m._6964=function(){var b=this.get_FocusedImage();if(void 0==b)return t._6002._3358();b=this._7490(b);return{width:b.w,height:b.h}};m._8968=function(b){this._5801!==b&&(this._5801=b,this._2675||this._8023.css("cursor",b))};m._8026=function(b){this._8023.attr("title",b)};m._7585=function(){return{width:this._1134.width,height:this._1134.height}};m._358=function(a,d){void 0==d&&(d=a.height,
a=a.width);b.pv.n(a,d);this._1134={width:a,height:d}};m._1403=function(){return{x:this._189.x,y:this._189.y}};m._472=function(a,d){void 0==d&&(d=a.y,a=a.x);b.pv.n(a,d);this._189={x:a,y:d}};m.renderImages=function(a,d,e,f,h){function g(){var b=l[m],a=b.get_Size(),d=b.get_Resolution();void 0!=a&&void 0!=d?(a=Y(z,b),r.cancelRendering||b.renderTiles(z._9957,z._5185,a,z._9910,k,w)):b.getImageInfo(g,w)}function k(b,a,e){m++;m===v?d&&d():(r.rendered=m,f&&f(r),r.cancelRendering?h&&h():g())}function w(b,a,
d){e&&e(b.errorMessage)}this._1270();0!==this._1541&&b.pv.te("Method cannot be executed because initialization is not finished.");b.pv.ad(a,b.pv.n);if(this._4661){var z=this,y=this.get_Images(),l=[];if(0===a.length)l=y.toArray();else for(var n=0;n<a.length;n++)l.push(y.get_Image(a[n]));var v=l.length,m=0,r={rendered:0,total:v,cancelRendering:!1};g()}};m.beginInit=function(){this._1270();this._1541++;void 0==this._4133&&this._1441();1===this._1541&&void 0!=this._3785&&this._3785.set_IsEnabled(!1)};
m.endInit=function(){this._1270();this._1541--;0===this._1541?(this._3740(),void 0!=this._3785&&this._3785.set_IsEnabled(!0)):0>this._1541&&(this._1541=0)};m.update=function(){M(this)};m.invalidate=function(){this._1270();this._558(this.get_FocusedImage())};m.transformPointFromScreenToControl=function(b,a){return this._6979(b,a)};m.transformPointFromControlToScreen=function(b,a){return this._2117(b,a)};m.transformPointFromScreenToViewer=function(b,a){var d=this._6979(b,a);return this._400(d)};m.transformPointFromViewerToScreen=
function(b,a){var d=this._8109(b,a);return this._2117(d)};m.transformPointFromControlToViewer=function(b,a){return this._400(b,a)};m.transformPointFromViewerToControl=function(b,a){return this._8109(b,a)};m.transformPointFromControlToImage=function(b,a){var d=this._400(b,a);return this._55(d)};m.transformPointFromImageToControl=function(b,a){var d=this._4579(b,a);return this._8109(d)};m.transformPointFromViewerToImage=function(b,a){return this._55(b,a)};m.transformPointFromImageToViewer=function(b,
a){return this._4579(b,a)};m.scrollTo=function(a,d){this._1270();b.pv.n(a,d);0>d&&(d=0);0>a&&(a=0);this._5512(a,d)};m.scrollToImagePoint=function(a,d){this._1270();b.pv.n(a,d);var e=this._5121(),f=this._8451().transformPoint({x:a,y:d});this._5512(f.x-e.width/2,f.y-e.height/2)};m.focus=function(){this._1270();var b=$(this._7283);b.blur();b.focus()};m.disableAutoScrollToFocusedImage=function(){this._1270();this._6938++};m.enableAutoScrollToFocusedImage=function(){this._1270();this._6938--};m.getImageIndexByLocation=
function(b){this._1270();for(var a,d=0;d<this._3379.length;d++)if(this._3379[d]._3961(b)){a=this._3379[d]._67;break}return void 0!=a?this.get_Images().indexOf(a):-1};m.getImageByLocation=function(b){b=this.getImageIndexByLocation(b);var a=this.get_Images();if(0<=b&&b<a.get_Count())return a.get_Image(b)};m.setFocusedIndexByLocation=function(b,a){var d=this.getImageIndexByLocation(b);if(0<=d&&d!==this._4191)try{return a&&this.disableAutoScrollToFocusedImage(),this.set_FocusedIndex(d),!0}finally{a&&
this.enableAutoScrollToFocusedImage()}return!1};m.setFocusedIndexAsync=function(a,d){this._1270();0===this._1541&&this._6724||b.pv.te("Invalid operation exception.");b.pv.n(a);void 0!=d&&b.pv.f(d);if(this._4191!==a){if(void 0!=d){var e=function(){h._6724=!0;void 0!=d&&d()},f=this.get_Images().get_Image(a),f=this._1346(f),h=this,g=this._8898();if(0===g.width||0===g.height||f._9985)$(this).one("focusedIndexChanged",e);else $(f).one("_9133",e);this._6724=!1}this.set_FocusedIndex(a)}else void 0!=d&&d()};
m.getNearestImage=function(b){if(0!=this.get_Images().get_Count()){if(!this._2362())return this.get_FocusedImage();for(var a=this._9295(),d,e=0,f,h=0;h<a.length;h++){f=a[h];var g=this._5520(f);if(h==a.length-1&&b.x>=g.x&&b.y>=g.y||t._6002._9066(g,b))return f;g=t._6002._9282(g);g=t._6002._7501(g,b);if(void 0==d||e>g)e=g,d=f}return d}};m.zoomToRectangle=function(a){b.pv.r(a);0>=a.width||0>=a.height?this.scrollToImagePoint(a.x,a.y):this._1868(a)};m.dispose=function(){this._1270();clearInterval(this._8427);
var b="."+this._9301;$(this._4826.evm).off(b);for(var a=0;a<this._4826.get_Count();a++){var d=this._4826.get_Image(a);$(d.evm).off(b)}if(void 0!=this._8174){$(this._8174._1981).off(b);for(var e=this.get_Images(),a=0;a<e.get_Count();a++)d=e.get_Image(a),$(d.evm).off(b);this._8174=void 0}this._4191=-1;this._4736=void 0;$(this._8974._3265).off(b);$(this._7842._3265).off(b);this._6775(document);$(this._7283).empty();this._8023=this._7283=void 0;this._5994=this._5801="";this._7577=this._9270=this._6195=
this._9732=void 0;this._9758={};this._2318=void 0;for(b in this._6020)this._6020[b]._1163();this._6020={};this._3379=[];this._3785=this._6431=void 0;this._9638("disposed");this._3699=!0;$(this).off();$(this._1981).off()};m._1868=function(b,a){this._1270();var d={x:b.x,y:b.y,width:b.width,height:b.height};this._8451(a).transformRectangle(d);var d=t._6002._6314(d),e=this._5121(),d=Math.min(e.width/d.width,e.height/d.height);this.set_ImageSizeMode(6);d*=this._5899;1>d&&(d=1);1E3<d&&(d=1E3);this.set_Zoom(d);
d=t._6002._9282(b);this.scrollToImagePoint(d.x,d.y)};m._5520=function(b,a){var d=this.get_FocusedImage();void 0==b?b=d:"boolean"===typeof b&&(a=b,b=d);d=this._1346(b);if(void 0!=d){d=d._1453();if(a){var e=this._9749(),d=t._6002._4366(d,e);d.x-=e.x;d.y-=e.y}return d}return t._6002._3358()};m._6148=function(){var b=this.get_FocusedImage();if(void 0==b)return t._6002._3358();var a=this._7905(b),d=this._5121(),d={x:0,y:0,width:d.width,height:d.height};a.transformRectangle(d);d=t._6002._6314(d);b=b.get_Size();
return t._6002._4366(d,{x:0,y:0,width:b.width,height:b.height})};m._5217=function(b){if(!(0>this._4191)){var a=b;"mousedown"!=b.type&&(b="touchstart"==b.type?b.originalEvent.touches[0]:b.originalEvent,b.sourceEvent=a);b=f(this,b);b.t="mouseDown";var d=this._3785;this._2362()&&(void 0!=d&&d._5390(b)||this.setFocusedIndexByLocation(b.pv,!0));void 0!=d&&d._774()&&(this._2246(),d._5217(b),this._3997(),b.handled&&(a.cancelable=!0,a.preventDefault?a.preventDefault():a.returnValue=!1),G(this,b))}};m._8012=
function(b){if(!(0>this._4191)){if("mousemove"!=b.type){var a=b;b="touchmove"==b.type?b.originalEvent.touches[0]:b.originalEvent;b.sourceEvent=a}b=f(this,b);b.t="mouseMove";a=this._3785;void 0!=a&&a._774()&&(this._2246(),a._8012(b),this._3997(),G(this,b))}};m._946=function(b){if(!(0>this._4191)){var a=this._3785;if(void 0!=a&&a._774()){if("mouseup"!=b.type){var d=b;b="touchend"==b.type?b.originalEvent.changedTouches[0]:b.originalEvent;b.sourceEvent=d}b=f(this,b);this._2246();var d=b.ps,e=(new Date).getTime(),
h=this._9075?e-this._9075:0,g=this._7417?t._6002._7501(this._7417,d):100;250>h&&30<h&&10>g?(d=this._5121(),d.x=0,d.y=0,t._6002._9066(d,b.pc)&&(b.t="doubleClick",a._988(b),b.handled=!1,b.active=!1)):(this._7417=d,this._9075=e);b.t="mouseUp";a._946(b);this._3997();G(this,b)}}};m._6979=function(b,a){var d=this._7540(b,a),e=$(this._7283).offset();return{x:d.x-e.left,y:d.y-e.top}};m._2117=function(b,a){var d=this._7540(b,a),e=$(this._7283).offset();return{x:d.x+e.left,y:d.y+e.top}};m._400=function(b,a){var d=
this._7540(b,a),e=this._3368();return{x:d.x+e.x,y:d.y+e.y}};m._8109=function(b,a){var d=this._7540(b,a),e=this._3368();return{x:d.x-e.x,y:d.y-e.y}};m._55=function(b,a){var d=this._7985(b,a);return this._7905().transformPoint(d)};m._4579=function(b,a){var d=this._7985(b,a);return this._8451().transformPoint(d)};m._8451=function(b){void 0==b&&(b=this.get_FocusedImage());b=this._1346(b);return void 0!=b?b._8451():new t.WebMatrixJS};m._7905=function(b){return this._8451(b).invert()};m._7885=function(b,
a){if(b===a||void 0==b||void 0==a)return new t.WebMatrixJS;var d=this._8451(b),e=this._7905(a);return t.WebMatrixJS.multiplyMatrix(d,e)};m._7540=function(a,d){this._1270();void 0==d&&(d=a.y,a=a.x);b.pv.n(a,d);return{x:a,y:d}};m._7985=function(a,d){var e=this._7540(a,d);-1===this._4191&&b.pv.te("ImageViewer does not have image.");return e};m._1270=function(){this._3699&&b.pv.te("Viewer is disposed.")};m._9295=function(b){void 0==b&&(b=!1);for(var a=[],d=0;d<this._3379.length;d++){var e=this._3379[d];
b?e._9255()&&a.push(e._67):a.push(e._67)}return a};m._4576=function(b){b=this._1346(b);if(void 0!=b)return b._9255()};m._1346=function(b){if(void 0!=b)return this._6020[b.get_Guid()]};m._9907=function(){this._4654=2;this._3740()};m._3980=function(){0===this._4654&&(this._4654=1);this._3740()};m._3740=function(){if(0===this._1541)if(1!==this._4654||this._2623()||(this._4654=0),this._4133=void 0,0<this._4654)this._4389(),this._4654=0;else{if(void 0!=this._6431&&this._6431._117())for(var b=0;b<this._3379.length;b++)this._3379[b]._7439(!0);
void 0!=this._4088&&(b=E(this),this._5512(b.x,b.y),this._4088=void 0)}};m._2246=function(){this._5994=this._5801;this._2675=!0};m._3997=function(){this._2675=!1;this._5994!==this._5801&&this._8023.css("cursor",this._5801);this._5994=""};m._1408=function(b,a){if(0===this._1541){var d=!1;if(2===this._1839.valueOf()){var e=this._403;1===e?d=!0:Math.floor(b/e)!==Math.floor(a/e)&&(d=!0)}if(d)this._9907();else if(void 0!=this._3785&&this._3785.reset(),""===this._7757){d=this.get_FocusedImage();d=this._1346(d);
e=this._6431;e._1048();d._1048();e._9873(this._8974);d._9873(this._7842);this._6431=d;var f=this._3368(),h=this._9749(),g=E(this,h);g.x=Math.floor(g.x);g.y=Math.floor(g.y);if(g.x!==f.x||g.y!==f.y)for(h.x=g.x,h.y=g.y,f=0;f<this._3379.length;f++)this._3379[f]._2105(h);this._5512(g.x,g.y);this._9638("_2669",{dz:1,sp:this._3368(),ic:!1});e._7439();d._7439()}else K(this)}};m._6573=function(){var b=this._8174;v({data:{v:this}},b);void 0!=b&&$(b._1981).off("."+this._9301);this.set_VisualTool()};m._9314=
function(){var b=this._8174;if(void 0!=b){var a=this._9301,d={v:this},e=b._1981;$(e).on("_9787."+a,d,x);$(e).on("_5748."+a,d,u);$(e).on("_4485."+a,d,r);$(e).on("focusedIndexChanged."+a,d,A);$(e).on("imageRotated."+a,d,B);$(e).on("_6092."+a,d,ha);$(e).on("_6699."+a,d,v);$(e).on("_4758."+a,d,n);$(e).on("disposed."+a,d,l)}n({data:{v:this}},b)};m._5580=function(b){var a=!1;1===this._1839.valueOf()&&(a=!0);switch(b.actionName){case "clear":this._4191=-1;a=!0;break;case "insert":case "insertRange":var d=
b.imageIndex,e=1;"insertRange"===b.actionName&&(e=b.images.length);this._1477(d,e);break;case "removeAt":case "removeRange":d=[],"removeRange"===b.actionName?d=b.imagesIndexes:d.push(b.imageIndex),this._8194(d)}if(!a){b=this._9295();d=this._36();if(b.length!==d.length)return!0;for(e=0;e<d.length;e++)if(d[e]!==b[e])return!0}return a};m._1477=function(b,a){var d=this.get_Images().get_Count();a===d?this._4191=0:this._4191>=b&&(this._4191+=a)};m._8194=function(b){var a=this.get_Images().get_Count();if(0===
a)this._4191=-1;else{for(var d=!1,e=0;this._4191>=b[e];){if(this._4191===b[e]){d=!0;break}e++}this._4191-=e;d&&a==this._4191&&this._4191--}};m._6909=function(a,d,e,f){this._5424=a;this._403=d;this._7402=b.pv.e(e,s.WebImageLayoutDirectionEnumJS);this._1839=b.pv.e(f,s.WebImageViewerMultipageDisplayModeEnumJS);K(this);this._3980()};m._4389=function(){this.get_Images();var a=this.get_FocusedImage();H(this,a);var d=this._36();this._2362();for(var e=[],a=0;a<d.length;a++){var f=d[a];void 0!=f&&void 0==
f.get_Size()&&e.push(f)}var h=b.WebImagingEnviromentJS.guid();this._7757=h;if(0===e.length)this._121(d,h);else{for(var f=function(b){v?n._4389():n._121(d,h)},g=function(b){b.blocked?v=!0:n._9638("imageInfoLoadingException",b)},k=function(b){n._9638("imageInfoLoaded",{image:b.image})},w=[],a=0;a<e.length;a++){for(var z=e[a].get_Source(),y=!0,l=0;l<w.length;l++)if(z.equals(w[l])){y=!1;break}y&&w.push(z)}for(var n=this,v=!1,a=0;a<w.length;a++)w[a].get_ImageService().bi();for(a=0;a<e.length;a++)e[a].getImageInfo(k,
g),this._9638("imageInfoLoading",{image:e[a]});for(a=0;a<w.length;a++)if(e=w[a].get_ImageService().ei(),void 0!=e)for(l=0;l<e.length;l++)if(g=e[l].request,b.pv.ic(g,b.WebCompositeRequestJS)&&"GetImagesInfo"===g.get_ActionName())$(g).one("compositeError compositeSuccess",f)}};m._121=function(a,d){if(this._7757===d&&0===this._1541){0===this._5792&&(this._5792=b.WebImagingEnviromentJS.get_ScrollSize(this._7283));if(this._2362()){if(!(0<this._1541)){var e=this._6431,f=!1;if(0<a.length){var h=this._9347,
g=this._3368(),k=Aa(this,a),w=1;if(this._5899!==h&&(w=this._5899/h,this._9638("zoomChanged",{zoom:this._5899,differenceScale:w,scroll:g}),void 0!=e&&"fi"!==this._4088)){var z=-1,h=this.getNearestImage(g);void 0!=h&&(z=this.get_Images().indexOf(h));var y=h=0;if(-1!=z){y=0;1==this._1839.valueOf()&&(y=Math.trunc(z/this._403));var z=z%this._403,l=this._5424;2==this._7402.valueOf()?(h=l[0]*(z+1)+l[2]*z,y=l[1]*(y+1)+l[3]*y):(h=l[0]*(y+1)+l[2]*y,y=l[1]*(z+1)+l[3]*z)}this._1770((g.x-h)*w+h,(g.y-y)*w+y)}h=
this._9749();z=this.get_FocusedImage();b:if(this._3379.length!==a.length)y=!1;else{for(y=0;y<a.length;y++)if(this._3379[y]._67!==a[y]){y=!1;break b}y=!0}if(!y){T(this,a);for(y=0;y<a.length;y++)f=a[y],void 0!=f&&(f=this._6020[f.get_Guid()],ya(this,f),this._3379[y]=f);f=!0}L(this,k);for(var n=this._8974,y=0;y<this._3379.length;y++){var v=n,l=this._3379[y];l._67===z&&(this._6431=l,v=this._7842);l._1048();ca(this,l,k[y],h,v)}this._9638("_2669",{dz:w,sp:g,ic:f});this._6431===e&&void 0==this._4088&&this._1770(g);
e=E(this,h);e.x=Math.floor(e.x);e.y=Math.floor(e.y);if(e.x!==g.x||e.y!==g.y)for(h.x=e.x,h.y=e.y,y=0;y<this._3379.length;y++)this._3379[y]._2105(h);g=!0;for(y=0;y<this._3379.length;y++)l=this._3379[y],g&&(g=l._9985),l._7439(!0);this._5512(e.x,e.y);g&&this._4617()}else Aa(this,a),T(this,a),this._4617(),this._9638("_2669",{dz:this._5899/this._9347,sp:this._3368(),ic:!0});this._4088=void 0}}else if(!(0<this._1541)){e=!1;k=this._6431;if(0<a.length){z=this._9347;g=this._3368();w=Aa(this,a);f=1;this._5899!==
z&&(f=this._5899/z,z=this._3368(),this._9638("zoomChanged",{zoom:this._5899,differenceScale:f,scroll:z}),void 0!=k&&this._1770(z.x*f,z.y*f));y=a[0];if(1!==this._3379.length||this._3379[0]._67!==y)e=!0,T(this,a);z=this._9749();0===this._3379.length&&(y=this._1346(y),ya(this,y),this._3379[0]=y);this._6431=this._3379[0];L(this,w);this._4659&&(h=this._7842);this._6431._1048();ca(this,this._6431,w[0],z,h);this._9638("_2669",{dz:f,sp:g,ic:e});this._6431===k&&void 0==this._4088&&this._1770(g);e=E(this,z);
e.x=Math.floor(e.x);e.y=Math.floor(e.y);if(e.x!==g.x||e.y!==g.y)z.x=e.x,z.y=e.y,this._6431._2105(z);g=this._6431._9985;this._6431._7439(!0);this._5512(e.x,e.y);g&&this._4617()}else Aa(this,a),T(this,a),this._4617(),this._9638("_2669",{dz:this._5899/this._9347,sp:this._3368(),ic:!0});this._4088=void 0}this._7757=""}};m._1770=function(b,a){"fi"!==this._4088&&(this._4088=void 0!=a?{x:b,y:a}:b)};m._36=function(){var b=this.get_Images(),a=b.get_Count();if(0===a)return[];var d=this._2362();if(!d)return b=
b.get_Image(this._4191),void 0!=b?[b]:[];var e=this._1839.valueOf();if(1===e)return b.toArray();var f=this._403,h=0;d&&1!==e&&(h=Math.floor(this._4191/f));d=Array(f);for(e=0;e<f;e++){var g=h*f+e;if(g>=a)break;d[e]=b.get_Image(g)}return d};m._5570=function(a){var d=[],e=t._6002._3358();if(0===a.length)return{b:e,r:d};var f=this._5424;this._2362()||(f=[0,0,0,0]);var h=this._1839.valueOf(),g=this._8898(),k=g.width,w=g.height,e={x:0,y:0,width:k,height:w},h=1===h?Math.min(a.length,this._403):a.length,
z=this._5899,y=this._9162.valueOf(),l=this._7402.valueOf();if(2===l){var d=this._5595(a,h,f,k,w),k=d.w,w=d.h,z=d.z,d=d.r,l=k>g.width,n=w>g.height;if(n){if(k=g.width-this._5792,w=g.height,d=this._5595(a,h,f,k,w),k=d.w,w=d.h,z=d.z,d=d.r,l=k>g.width-this._5792)k=g.width-this._5792,w=g.height-this._5792,d=this._5595(a,h,f,k,w),k=d.w,w=d.h,z=d.z,d=d.r}else!l||2!==y&&6!==y&&4!==y||(w=g.height-this._5792,k=g.width,d=this._5595(a,h,f,k,w),k=d.w,w=d.h,z=d.z,d=d.r)}else if(1===l)if(d=this._1138(a,h,f,k,w),
k=d.w,w=d.h,z=d.z,d=d.r,l=k>g.width,n=w>g.height,l){if(w=g.height-this._5792,k=g.width,d=this._1138(a,h,f,k,w),k=d.w,w=d.h,z=d.z,d=d.r,n=w>g.height-this._5792)k=g.width-this._5792,w=g.height-this._5792,d=this._1138(a,h,f,k,w),k=d.w,w=d.h,z=d.z,d=d.r}else!n||3!==y&&6!==y&&4!==y||(k=g.width-this._5792,w=g.height,d=this._1138(a,h,f,k,w),k=d.w,w=d.h,z=d.z,d=d.r);else b.pv.te("Invalid operation");0>=z?(e.width=0,e.height=0):(e.width=k,e.height=w);this._9347=this._5899=z;return{b:e,r:d}};m._5595=function(a,
d,e,f,h){var g=this._9162.valueOf(),k=5===g,w=this._5402(a,0,a.length,!k),z=w.w,y=w.h,l=e[0]+e[2],n=e[1]+e[3],v=z*d,m;switch(g){case 1:m=Math.min((f-l*d)/v,(h-n)/y);break;case 2:m=(h-n)/y;break;case 3:m=(f-l*d)/v;break;case 6:m=this._5899/100;break;case 4:case 5:m=1;break;default:b.pv.te("Invalid operation")}0>m&&(m=0);var r=1,p=1;if(6===g||4===g)r=this._5778/96,p=this._3440/96;for(var x=[],v=Math.round(v*m*r+l*d),s=0,u=0;u<a.length;u+=d){for(var w=this._5402(a,u,d,!k),y=w.h,w=Math.round(z*m*r)+l,
y=Math.round(y*m*p)+n,t=0;t<d&&u+t<a.length;t++){var C={x:t*w,y:s,width:w,height:y};C.x+=e[0];C.y+=e[1];C.width-=l;0>C.width&&(C.width=0);C.height-=n;0>C.height&&(C.height=0);x[u+t]=C}s+=y}a=Math.ceil(s);this._2362()?this._3400(f,h,v,a,x):x[0]={x:0,y:0,width:Math.max(f,v),height:Math.max(h,a)};f=100*m;6!==g&&4!==g&&(f/=this._5778/96);return{w:v,h:a,z:f,r:x}};m._1138=function(a,d,e,f,h){var g=this._9162.valueOf(),k=5===g,w=this._5402(a,0,a.length,!k),z=w.w,y=w.h,l=e[0]+e[2],n=e[1]+e[3],v=y*d,m;switch(g){case 1:m=
Math.min((f-l)/z,(h-n*d)/v);break;case 2:m=(h-n*d)/v;break;case 3:m=(f-l)/z;break;case 6:m=this._5899/100;break;case 4:case 5:m=1;break;default:b.pv.te("Invalid operation")}0>m&&(m=0);var r=1,x=1;if(6===g||4===g)r=this._5778/96,x=this._3440/96;for(var p=[],s=0,v=Math.round(v*m*x+n*d),u=0;u<a.length;u+=d){for(var w=this._5402(a,u,d,!k),z=w.w,z=Math.round(z*m*r)+l,w=Math.round(y*m*x)+n,C=0;C<d&&u+C<a.length;C++){var t={x:s,y:C*w,width:z,height:w};t.x+=e[0];t.y+=e[1];t.width-=l;0>t.width&&(t.width=0);
t.height-=n;0>t.height&&(t.height=0);p[u+C]=t}s+=z}a=Math.ceil(s);this._2362()?this._3400(f,h,a,v,p):p[0]={x:0,y:0,width:Math.max(f,a),height:Math.max(h,v)};f=100*m;6!==g&&4!==g&&(f/=this._5778/96);return{w:a,h:v,z:f,r:p}};m._5402=function(b,a,d,e){for(var f=0,h=0,g=0;g<d&&a+g<b.length;g++){var w=b[a+g];if(void 0!=w){var w=this._7490(w),k=w.w,y=w.h;e&&(k*=this._5778/w.rx,y*=this._3440/w.ry);k>f&&(f=k);y>h&&(h=y)}}if(90===this._6419||270===this._6419)b=f,f=h,h=b;return{w:f,h:h}};m._7490=function(b){var a=
b.get_Resolution(),d=b.get_Size(),e;void 0==a||0===a.x||0===a.y?(b=this._189.x,a=this._189.y):(b=a.x,a=a.y);void 0==d||0===d.width||0===d.height?(e=this._1134.width,d=this._1134.height):(e=d.width,d=d.height);return{rx:b,ry:a,w:e,h:d}};m._3400=function(b,a,d,e,f){switch(this._7119.valueOf()){case 4:case 7:b=0;a=Math.max(0,(a-e)/2);break;case 6:b=0;a=Math.max(0,a-e);break;case 5:a=b=0;break;case 8:case 11:b=Math.max(0,b-d);a=Math.max(0,(a-e)/2);break;case 10:b=Math.max(0,b-d);a=Math.max(0,a-e);break;
case 9:b=Math.max(0,b-d);a=0;break;case 1:case 13:b=Math.max(0,(b-d)/2);a=0;break;case 2:case 14:b=Math.max(0,(b-d)/2);a=Math.max(0,a-e);break;default:b=Math.max(0,(b-d)/2),a=Math.max(0,(a-e)/2)}if(0!=b||0!=a)for(e=0;e<f.length;e++)f[e].x+=b,f[e].y+=a};m._4617=function(){var b=this._7577;if(void 0!=b){for(var a=b.length-1;0<=a;a--)$(b[a]).remove();this._7577=void 0}};m._558=function(b){var a=this._3785;if(0!==this._3379.length&&void 0!=a){var a=this.get_FocusedImage(),d;b!==a&&(d=this._5520(b));this._9953(b,
d)}};m._9953=function(b,a){if(void 0!=b){var d=this._1346(b);if(void 0!=d&&d._8996())return this._3785._5567(d._8451(),b,a)}};m._4297=function(b){var a=this;$(b).on(Ba(a._9301),function(b){a._5217(b)})};m._8591=function(b){$(b).off(Ba(this._9301))};m._5355=function(b){var a=this,d=a._9301;$(b).on(Z(d),function(b){a._8012(b)});$(b).on(Q(d),function(b){a._946(b)})};m._6775=function(b){var a=this._9301;$(b).off(Z(a));$(b).off(Q(a))};m._9638=function(b,a){$(this._1981).triggerHandler(b,a);$(this).triggerHandler(b,
a)};m._1441=function(){var b={};b._9957=this._9957;b._5185=this._5185;b._5899=this._5899;b._9162=this._9162.valueOf();b._6419=this._6419;b._5424=[].concat(this._5424);b._7402=this._7402.valueOf();b._403=this._403;b._1839=this._1839.valueOf();b._7119=this._7119.valueOf();b._4659=this._4659;b._7842=this._7842.clone();b._8974=this._8974.clone();b._isMultipage=this._2362();this._4133=b};m._2623=function(){var b=this._4133;if(void 0==b)return!0;var a=this._2362(),d=!b._7842.equals(this._7842),e=b._4659!==
this._4659;return b._9957!==this._9957||b._5185!==this._5185||b._6419!==this._6419||a!==b._isMultipage||b._7119!==this._7119.valueOf()||b._9162!==this._9162.valueOf()||b._5899!==this._5899||!a&&(e||d&&this._4659)||a&&(a=this._5424,e=b._5424,a=a[0]!==e[0]||a[1]!==e[1]||a[2]!==e[2]||a[3]!==e[3],e=!b._8974.equals(this._8974),a||b._7402!==this._7402.valueOf()||b._1839!==this._1839.valueOf()||b._403!==this._403||d||e)?!0:!1};var N;"string"===typeof d?N=document.getElementById(d):(b.pv.ic(d,$)&&(d=d[0]),
void 0!=d.tagName&&(N=d));void 0==N&&b.pv.te("The parent DOM element for viewer is not found.");"DIV"!==N.tagName&&b.pv.te("The parent DOM element for viewer must be a DIV element.");N.style.setProperty("position","relative","important");this._7283=N;this._9301=b.WebImagingEnviromentJS.guid();this._2390;this._6765={width:N.clientWidth,height:N.clientHeight};this._5792=b.WebImagingEnviromentJS.get_ScrollSize(N);this._5778=b.WebImagingEnviromentJS.getScreenDpi().dpiX;0===this._5778&&(this._5778=96);
this._3440=b.WebImagingEnviromentJS.getScreenDpi().dpiY;0===this._3440&&(this._3440=96);this._4654=this._1541=0;this._6831="WebImageViewer";this._4826=new b.WebImageCollectionJS;this._8174=this._3785=void 0;this._1695=!1;this._5185=this._9957=1024;this._4191=-1;this._9347=this._5899=100;this._9162=new s.WebImageSizeModeEnumJS(4);this._7577=this._9270=this._6195=this._4088=void 0;this._9893=0;this._8427=void 0;this._6755=250;this._6419=0;this._5502=this._334=!0;this._4546;this._4661=!0;this._9910=
new b.WebImageTypeEnumJS(1);this._5994=this._5801="";this._2675=!1;this._1981={};this._4736;this._4882=!0;this.set_ImageCacheManager(new t.WebImageCacheManagerJS);this._6431;this._3379=[];this._6020={};this._7757="";this._6724=!0;this._7842=new e("rgba(255,255,255,0)","rgba(0,0,0,1)",1,"solid");this._8974=new e("rgba(255,255,255,0)","rgba(255,255,255,0)",0,"solid");this._4659=!1;this._5424=[4,4,4,4];this._7402=new s.WebImageLayoutDirectionEnumJS(2);this._403=1;this._1839=new s.WebImageViewerMultipageDisplayModeEnumJS(2);
this._6938=0;this._7119=new s.WebImageAnchorTypeEnumJS(0);this._1134={width:100,height:100};this._189={x:96,y:96};this._4133;this._8023;this._9732;this._2318=void 0;this._9758={};this._2731;d={v:this};N=this._9301;$(this._4826.evm).on("changing."+N,d,x);$(this._4826.evm).on("changed."+N,d,u);ga(this,this._7842);ja(this,this._8974);(function(b){var a=b._7283,d=a.clientWidth,e=a.clientHeight,f=$("<div>");$(a).prepend(f);a={width:"100%",height:"100%",position:"absolute"};a["overflow-x"]=b._334?"auto":
"hidden";a["overflow-y"]=b._5502?"auto":"hidden";f.css(a);$(f).on("scroll",{v:b},fa);b._8023=f;a=$("<div>").appendTo(f);b._9732=a;$(a).css("touch-action","none");b._2390={width:d,height:e};b._4297(a);b._5355(a);f=Raphael(f[0],d,e);$(f.canvas).css({position:"absolute",left:0,top:0});b._6195=f;f.renderfix();f=$("<div>").appendTo(a);$(f).css({overflow:"hidden",width:d,height:e});f=Raphael(f[0],d,e);$(f.canvas).css({left:0,top:0,"touch-action":"none"});b._9270=f;void 0!=b._3785&&b._3785._4975();b._6765=
{width:d,height:e};b._8427=setInterval(ia,b._6755,b)})(this);this.set_ContextMenuFunc();this._6923=!1;this._7417;this._9075;delete m.focusedIndexChanged;delete m.imageRotating;delete m.imageRotated;delete m.zoomChanged;delete m.imageInfoLoaded;delete m.imageTilePainted;delete m.imagePainted;delete m.visualToolChanged;delete m.imageInfoLoadingException;delete m.imagePaintingException;delete m.imagePainting;delete m.imageInfoLoading;delete m._9787;delete m._5748;delete m._4485;delete m._6699;delete m._4758;
delete m.disposed;delete m._2669;delete m._6092};g.WebImageAppearanceJS=e;g._7977=a;g.WebImageViewerJS=h;var d=function(a){function e(b,a,d){if(d.width!==b._6859||d.height!==b._2916)return!1;a=b.get_Images().get_Image(a);b=a.get_RenderingSettings();a=a.get_DecodingSettings();return b.equals(d.renderingSettings)&&(void 0!=a&&a.equals(d.decodingSettings)||void 0==a&&a==d.decodingSettings)}function h(b,a){var d=$(b._9270.canvas.parentNode).offset(),d={x:a.pageX-d.left,y:a.pageY-d.top};return{pv:d,ps:d,
e:a,b:n(a)}}function n(b){var a=-1;b.which?a=b.which:b.button&&(b.button&1?a=1:b.button&4?a=2:b.button&2&&(a=3));-1==a&&void 0!=b.sourceEvent&&"touchstart"===b.sourceEvent.type&&(a=1);return a}function l(b,a){var d=b.data.v,e;e=void 0!=a?a.get_Images():d.get_Images();u(d,e.toArray());d._6080();d._9638("_6699",a)}function x(b,a){var d=b.data.v,e=(void 0!=a?a.get_Images():d.get_Images()).toArray();A(d,e);d._9638("_4758",a);d._184(0,e);e=-1;void 0!=a&&(e=a._4191);d._4191=e;-1!==e&&d.scrollTo(e);d._1016||
G(d)}function p(b){b.data.v.set_MasterViewer()}function C(b,a){b.data.v._9638("_6092",a)}function r(b,a){var d=b.data.v,e=[],f=[];switch(a.actionName){case "set":e.push(a.previousImage);case "insert":f.push(a.image);break;case "insertRange":f=a.images;break;case "removeAt":e.push(a.image);break;case "clear":case "removeRange":e=a.images}if(0!==e.length){u(d,e);for(var h=d.get_ImageCacheManager(),g=void 0!=h&&d.get_SyncCacheWithImages(),k=0;k<e.length;k++){var l=e[k];g&&h.contains(l)&&h.clearImageCache(l)}}A(d,
f);d._9638("_9787",a)}function u(b,a){for(var d=0;d<a.length;d++)$(a[d].evm).off("."+b._9301)}function A(b,a){if(void 0==b._8174)for(var d=0;d<a.length;d++)$(a[d].evm).on("icd."+b._9301,{v:b},F)}function F(b,a){var d=b.data.v,e=a.i,f=d.get_ImageCacheManager();void 0!=f&&f.contains(e)&&f.clearImageCache(e);f=d.get_Images().indexOf(e.get_Guid());d._4859(f,e,e);G(d);d._9638("_4485",a)}function B(b,a,d){b=document.getElementById(d._9301+"_ThumbnailStyleSheet").sheet.cssRules[b];void 0!=b&&(b=b.style,
b.background=a._8117,b.border=a._2365,b.marginLeft=-a._1594+"px",b.marginTop=-a._1594+"px")}function H(b,a){var d=b.data.v,e=d._4191;d._5580(a);d._1016||G(d);d._9638("_5748",a);d._4191!==e&&d._9638("focusedIndexChanged",{newFocusedIndex:d._4191,previouslyFocusedIndex:e})}function I(b,a){var d=b.data.v,e=a.newFocusedIndex;-1!=e&&d.set_FocusedIndex(e)}function K(b){b._8023.find(".selected").removeClass("selected")}function E(b,a){for(var d=0;d<b._8616.length;d++)if(b._8616[d]===a)return!0;return!1}
function J(b){var a="";window.PointerEvent?a+=" pointerdown."+b+" MSPointerDown."+b:("ontouchstart"in window&&(a+=" touchstart."+b),a+=" mousedown."+b);return a}function T(b){var a="";window.PointerEvent?a+=" pointermove."+b+" MSPointerMove."+b:("ontouchstart"in window&&(a+=" touchmove."+b),a+=" mousemove."+b);return a}function L(b){var a="";window.PointerEvent?a+=" pointerup."+b+" MSPointerUp."+b:("ontouchstart"in window&&(a+=" touchend."+b),a+=" mouseup."+b);return a}function R(b,a,d,e){var f=$("<div>");
f.css("float","left");f.css("position","relative");f.css("margin-top",b);f.css("margin-left",b);f.css("width",a);f.css("height",d);b=$("<div>",{id:e}).appendTo(f);$(b).css("width",a);$(b).css("height",d);$(b).addClass("border");$(b).addClass("notReady");return{border:b,main:f}}function P(b){var a=b._7283;if(a.clientWidth!=b._6765.width||a.clientHeight!=b._6765.height){0!==b._6765.width&&0!==b._6765.height||Q(b);var d=b.get_Images().get_Count();b._6765={width:a.clientWidth,height:a.clientHeight};ya(b,
d);U(b);b._1016||G(b);4===b._8944.valueOf()&&Y(b,d)}}function ca(b,a){if(void 0==b._9270){var d=b._8023[0],d=$("<div>").appendTo(d);$(d).css({top:"0px",left:"0px",position:"absolute",width:a.width,height:a.height,overflow:"hidden","pointer-events":"none",display:"none"});b._9270=Raphael(d[0],a.width,a.height);$(b._9270.canvas).css({top:0,left:0,"pointer-events":"none"})}else b._9270.setSize(a.width,a.height),$(b._9270.canvas).parent().css({width:a.width,height:a.height})}function Y(b,a){var d=b._2005,
e=b._5726(),f=e.width,e=e.height,h=b._4286,g=b._8944.valueOf(),k=-1,l=-1;ya(b,a);switch(g){case 1:k=f;l=e*a+h*a;d.css("left","50%");d.css("top","0px");d.css("margin-left",-k/2-h);d.css("margin-top",0);d.css("margin-bottom",h);break;case 2:l=e;k=(f+h)*a;d.css("top","50%");d.css("left","0px");d.css("margin-top",-l/2-h);d.css("margin-left",0);d.css("margin-right",0);break;case 4:g=b._7283;k=(f+h)*b._3106+h;l=(e+h)*b._8335;d.css("top","0px");k>g.clientWidth?(d.css("left","0px"),d.css("margin-left",h)):
(g.clientWidth-k)/2<h?(d.css("left","0px"),d.css("margin-left",h)):(d.css("left","50%"),d.css("margin-left",-k/2));d.css("margin-top",0);d.css("margin-bottom",h);break;case 3:d.css({"margin-left":h,left:"0px",top:"0px","margin-top":0,"margin-bottom":h})}-1!=k?d.css({width:k,height:l}):d.css({width:"",height:""})}function ya(a,d){if(0===d)a._8335=a._3106=0;else{0===a._5792&&(a._5792=b.WebImagingEnviromentJS.get_ScrollSize(a._7283));var e;switch(a.get_ThumbnailFlowStyle().valueOf()){case 1:e=1;break;
case 2:e=d;break;case 4:e=Math.min(a.get_ThumbnailFixedColumnCount(),d);break;case 3:e=a._7283;var f=a._5726().width,h=0;ea(a,"y")&&(h=a._5792);e=Math.floor((e.clientWidth-a.get_ThumbnailMargin()-h)/(f+a.get_ThumbnailMargin()));e=0<e?Math.min(e,d):1}a._3106=e;a._8335=Math.ceil(d/e)}}function U(b){var a=b._2136(),d=b._7283,e=d.clientHeight,d=d.clientWidth,f=0,h=0;switch(b._6419){case 0:f=b._9755;h=b._587;break;case 90:f=b._9982;h=b._9755;break;case 180:f=b._7368;h=b._9982;break;case 270:f=b._587,h=
b._7368}3===b._8944.valueOf()&&(f*=-1);b=b._8023;a.width+f>d?b.css("overflow-x","auto"):b.css("overflow-x","hidden");a.height+h>e?b.css("overflow-y","auto"):b.css("overflow-y","hidden")}function ea(b,a){var d=b._8023,e=d.css("overflow"),f;f="undefined"==typeof a||"y"==a?d.css("overflow-y"):d.css("overflow-x");return(d="undefined"==typeof a||"y"==a?d.get(0).scrollHeight>d.innerHeight():d.get(0).scrollWidth>d.innerWidth())&&("auto"==e||"visible"==e||"auto"==f||"visible"==f)||"scroll"==e||"scroll"==
f}function G(b){var a=b.get_GenerateOnlyVisibleThumbnails(),d=b.get_ImageCacheManager();if(void 0!=d){for(var e=[],f=0;f<b._5752.length;f++)1!==b._5752[f]&&e.push(f);for(var h=b._6859,g=b._2916,k=b.get_Images(),f=0;f<e.length;f++){var l=k.get_Image(e[f]),n=Z(h,g,l),n=d.getImageData(l,n);void 0!=n&&(n={fileId:n,image:l,width:h,height:g,renderingSettings:l.get_RenderingSettings().clone()},l=l.get_DecodingSettings(),void 0!=l&&(n.decodingSettings=l.clone()),b._9470(n))}}d=Ba(b);if(0!=d.length)for(e=
b.get_Images(),f=0;f<d.length;f++)h=d[f],g=e.get_Image(h).get_Guid(),g=$(b._7283).find("#"+g),0==b._5752[h]&&(ia(b,g,h),h=b,n=g,void 0!=h._2318&&(g=h._2318.width,k=h._2318.height,l=h._5726(),h=$($(h._2318).clone()).appendTo(n),$(h).css({position:"absolute","pointer-events":"none",top:(l.height-k)/2,left:(l.width-g)/2})));if(!b._1016)if(a)0==d.length?b._9638("visibleThumbnailsPainted"):fa(d,b);else if(a=b._8023[0],d=a.clientHeight,0!==a.clientWidth&&0!==d){a=[];for(d=0;d<b._5752.length;d++)1!==b._5752[d]&&
a.push(d);0===a.length&&b._9638("visibleThumbnailsPainted");fa(a,b)}}function Ba(b){var a=b.get_Images().get_Count();if(0===a)return[];var d=b.get_ThumbnailMargin(),e=b.get_ThumbnailPadding(),f=b._5726(),h=f.width,f=f.height,g=b._8023[0],k=g.clientWidth,l=g.clientHeight;if(0===k||0===l)return[];var n=g.scrollTop,g=g.scrollLeft,m=h+d,v=b._3106,q=g+k,r=n+l,p;p=n<d+e[0]?0:Math.floor(n/(f+d));l=Math.ceil(l/f)+p+1;l>b._8335&&(l=b._8335);m=g<d+e[3]?0:Math.floor(g/m);k=Math.ceil(k/h)+m+1;k>b._3106&&(k=b._3106);
var x=b._2005.children("div");if(0===x.length)return[];for(var s=$(x[p*v+m]).position(),x=s.left,s=s.top,u=0,t=0,C=0,B=0,A=[],D=p;D<l;D++){D!=p?(C+=f+d,B=C+f+e[2]):(C=s,B=C+f+e[0]+e[2]);for(var E=m;E<k;E++){var u=E!=m?u+(h+d):x,t=u+h+e[1],F=D*v+E;F<a&&(1<g-t||1>q-u||1<n-B||1>r-C||1==b._5752[F]||A.push(F))}}return A}function Z(b,a,d){b="thS"+b+","+a;if(!1!==d.get_IsVector()){var e=d.get_RenderingSettings();a=e.get_Resolution();var f=e.get_InterpolationMode(),e=e.get_SmoothingMode();b+="Rs"+a.x+","+
a.y+","+f.valueOf()+","+e.valueOf()}d=d.get_DecodingSettings();void 0!=d&&d.get_IsColorManagementEnabled()&&(b+="Cm");return b}function Q(b){if(0!==b._1515){for(var a=0;a<b._5752.length;a++)0!==b._5752[a]&&(b._9638("thumbnailPainting",a),2===b._1515&&b._9638("thumbnailPainted",a));b._1515=0}}function ia(b,a,d){currentImage=$("<img>").appendTo(a);currentImage.css({width:b._6859*b._3928.valueOf()/100,height:b._2916*b._3928.valueOf()/100,display:"block",position:"absolute","margin-left":b._9755,"margin-top":b._587,
"margin-right":b._7368,"margin-bottom":b._9982,"user-select":"none","-webkit-user-select":"none","-moz-user-select":"none"});0!==b._6419&&currentImage.css(b._4907());a={v:b};currentImage.on("click",a,ja);currentImage.contextmenu(a,N);currentImage.mouseover(a,m);currentImage.mouseout(a,W);currentImage.on(J(b._9301),a,S);b._5752[d]=2;b._9638("thumbnailPainting",d);return currentImage}function M(b,a,d){for(;-1!==b.indexOf(a);)b=b.replace(a,d);return b}function fa(a,d){function e(b){d._9470(b)}function f(b){if(!b.blocked){null!=
b.fileId&&d._9470(b);var a=d.get_Images().indexOf(b.image);d._9638("imageRenderingException",{response:b,thumbnailIndex:a})}}function h(b){d._1016=!1;G(d)}if(0!==d._1541)d._4654=!0;else{for(var g=d._6859,k=d._2916,l=d.get_Images(),n=[],m=[],v=0;v<a.length;v++){var q=l.get_Image(a[v]);n.push(q);for(var r=q.get_Source(),p=!0,q=0;q<m.length;q++)if(r.equals(m[q])){p=!1;break}p&&m.push(r)}for(v=0;v<m.length;v++)m[v].get_ImageService().bi();0!==m.length&&(d._1016=!0);for(v=0;v<n.length;v++)n[v].renderThumbnail(g,
k,d._4661,d._4704,e,f);for(v=0;v<m.length;v++)if(g=m[v].get_ImageService().ei(),void 0!=g)for(q=0;q<g.length;q++)if(k=g[q].request,b.pv.ic(k,b.WebCompositeRequestJS)&&"RenderThumbnails"===k.get_ActionName())$(k).one("compositeError compositeSuccess",h)}}function ga(b){var a=b.data.v;G(a);a._9638("scrollChanged",b)}function ja(b){var a=b.data.v,d=$(this).parent()[0].id,d=a.get_Images().indexOf(d);a._4191!=d?a.set_FocusedIndex(d):a.set_SelectedIndices(d);a._9638("thumbnailClick",{thumbnailIndex:d,originalEvent:b})}
function m(b){var a=b.data.v,d=$(this).parent()[0].id,d=a.get_Images().indexOf(d);if(!E(a,d))if(a.get_FocusOnHover())a.set_FocusedIndex(d);else{var e="";d==a._4191&&(e+="focused");a._374(d,e+" hovered")}a._9638("thumbnailMouseover",{thumbnailIndex:d,originalEvent:b})}function N(b){var a=b.data.v,d=$(this).parent()[0].id,d=a.get_Images().indexOf(d);a._9638("thumbnailContextMenu",{thumbnailIndex:d,originalEvent:b})}function S(b){var a=b.data.v,d=$(this).parent()[0].id,d=a.get_Images().indexOf(d),e=
n(b);0===e||1===e?(a._1860=!0,a.set_SelectedIndices([d])):0===a._8616.length&&a.set_SelectedIndices([d]);a._9638("thumbnailMousedown",{thumbnailIndex:d,originalEvent:b})}function W(b){var a=b.data.v,d=$(this).parent()[0].id,d=a.get_Images().indexOf(d),e="",e=d==a._4191?e+"focused":1===a._5752[d]?e+"normal":e+"notReady";E(a,d)&&(e+=" selected");a._374(d,e);a._9638("thumbnailMouseout",{thumbnailIndex:d,originalEvent:b})}function X(b,a){b.data.v.set_ImageRotationAngle(a)}function ua(b){b._6859=b._6507.width;
b._2916=b._6507.height;b._8944=b._8655;b._7415=b._8734;b._3928=b._3618;b._587=b._9206[0];b._7368=b._9206[1];b._9982=b._9206[2];b._9755=b._9206[3];b._4286=b._2286;b._6419=b._9723}function ka(b){b.cancelable=!0;b.preventDefault?b.preventDefault():b.returnValue=!1}var q=d.prototype;q.focusedIndexChanged=function(b,a){};q.imageRotating=function(b,a){};q.imageRotated=function(b,a){};q.thumbnailRendered=function(b,a){};q.thumbnailPainting=function(b,a){};q.thumbnailPainted=function(b,a){};q.visibleThumbnailsPainted=
function(b){};q.imageRenderingException=function(b,a){};q.scrollChanged=function(b,a){};q.thumbnailClick=function(b,a){};q.thumbnailMouseover=function(b,a){};q.thumbnailContextMenu=function(b,a){};q.thumbnailMousedown=function(b,a){};q.thumbnailMouseout=function(b,a){};q.disposed=function(b){};q._9787=function(b,a){};q._5748=function(b,a){};q._4485=function(b,a){};q._6699=function(b,a){};q._4758=function(b,a){};q._8210=function(b){};q._6092=function(b,a){};q.get_Images=function(){this._1270();var b=
this._8174;return void 0==b?this._4826:b.get_Images()};q.get_FocusedIndex=function(){this._1270();return this._4191};q.set_FocusedIndex=function(a){b.pv.n(a);(-1>a||a>this.get_Images().get_Count()-1)&&b.pv.toe();var d=this._4191;if(a!==d&&(-1!==d&&(1===this._5752[d]?this._374(d,"normal"):this._374(d,"notReady")),this._4191=a,-1!==a&&(this._374(a,"focused"),this.scrollTo(a),this.set_SelectedIndices(a)),this._9638("focusedIndexChanged",{newFocusedIndex:a,previouslyFocusedIndex:d}),null!=this._8174))try{this._8174.set_FocusedIndex(a)}catch(e){}};
q.get_MasterViewer=function(){this._1270();return this._8174};q.set_MasterViewer=function(a){this._1270();if(a!=this&&this._8174!==a){if(void 0!=a){b.pv.ic(a,g.WebImageViewerJS)||b.pv.ic(a,d)||b.pv.tae();a._8174===this&&a.set_MasterViewer();for(var e=a;void 0!=(e=e._8174);)e===this&&b.pv.te("MasterViewer cannot refers to itself.")}this._6573();this._8174=a;this._9314()}};q.get_ProgressImage=function(){this._1270();return this._2318};q.set_ProgressImage=function(a){this._1270();void 0!=a&&b.pv.c(a,
Image);this._2318=a};q.get_ProgressIndicatorUrl=function(){return this._2318};q.set_ProgressIndicatorUrl=function(b){var a=new Image;a.src=b;this.set_ProgressImage(a)};q.get_ThumbnailWidth=function(){b.pv.te("This property is obsolete from version 8.8. Use the 'get_ThumbnailSize' property instead.")};q.get_ThumbnailHeight=function(){b.pv.te("This property is obsolete from version 8.8. Use the 'get_ThumbnailSize' property instead.")};q.get_ThumbnailSize=function(){this._1270();var b=this._6859,a=this._2916;
0!==this._1541&&(b=this._6507.width,a=this._6507.height);return{width:b,height:a}};q.set_ThumbnailSize=function(a,d){this._1270();var e,f;void 0==d?(e=a.width,f=a.height):(e=a,f=d);b.pv.n(e,f);32>e&&(e=32);1024<e&&(e=1024);32>f&&(f=32);1024<f&&(f=1024);var h=this.get_ThumbnailSize();if(h.width!==e||h.height!==f)this._4654=!0,this._6507={width:e,height:f},0===this._1541&&this.update()};q.get_ThumbnailFlowStyle=function(){this._1270();return 0!==this._1541?this._8655:this._8944};q.set_ThumbnailFlowStyle=
function(a){this._1270();a=b.pv.e(a,s.WebThumbnailFlowStyleEnumJS);a.equals(this.get_ThumbnailFlowStyle())||(this._4654=!0,this._8655=a,0===this._1541&&this.update())};q.get_ThumbnailColumnCount=function(){this._1270();return this._3106};q.get_ThumbnailFixedColumnCount=function(){this._1270();return 0!==this._1541?this._8734:this._7415};q.set_ThumbnailFixedColumnCount=function(a){this._1270();b.pv.n(a);0>=a&&b.pv.toe();a!==this.get_ThumbnailFixedColumnCount()&&(this._4654=!0,this._8734=a,0===this._1541&&
this.update())};q.get_ThumbnailScale=function(){this._1270();return 0!==this._1541?this._3618:this._3928};q.set_ThumbnailScale=function(a){this._1270();a=b.pv.e(a,s.WebThumbnailScaleEnumJS);a.equals(this.get_ThumbnailScale())||(this._4654=!0,this._3618=a,0===this._1541&&this.update())};q.get_GenerateOnlyVisibleThumbnails=function(){this._1270();return this._1427};q.set_GenerateOnlyVisibleThumbnails=function(a){this._1270();b.pv.b(a);if(this._1427!==a)if(this._1427=a)this._8023.on("scroll",{v:this},
ga);else this._8023.off("scroll"),0<this.get_Images().get_Count()&&G(this)};q.get_FocusOnHover=function(){this._1270();return this._2918};q.set_FocusOnHover=function(a){this._1270();b.pv.b(a);this._2918=a};q.get_ThumbnailMargin=function(){this._1270();return 0!==this._1541?this._2286:this._4286};q.set_ThumbnailMargin=function(a){this._1270();b.pv.n(a);0>a&&(a=0);a!==this.get_ThumbnailMargin()&&(this._4654=!0,this._2286=a,0===this._1541&&this.update())};q.get_ThumbnailPadding=function(){this._1270();
var b=[this._587,this._7368,this._9982,this._9755];0!==this._1541&&(b=[].concat(this._9206));return b};q.set_ThumbnailPadding=function(a){this._1270();var d=[];void 0!=a.length?(b.pv.ad(a,b.pv.n),4!==a.length&&b.pv.tae(),d[0]=0<=a[0]?a[0]:0,d[1]=0<=a[1]?a[1]:0,d[2]=0<=a[2]?a[2]:0,d[3]=0<=a[3]?a[3]:0):(b.pv.n(a),0>a&&(a=0),d[0]=d[1]=d[2]=d[3]=a);a=this.get_ThumbnailPadding();if(a[0]!==d[0]||a[1]!==d[1]||a[2]!==d[2]||a[3]!==d[3])this._4654=!0,this._9206=d,0===this._1541&&this.update()};q.get_SelectedIndices=
function(){this._1270();return[].concat(this._8616)};q.set_SelectedIndices=function(a){this._1270();if(void 0==a)this._8616=[],K(this);else{var d=[];if(void 0!=a.length)if(this._5611)for(var e=0;e<a.length;e++)-1===d.indexOf(a[e])&&d.push(a[e]);else d.push(a[0]);else"number"==typeof a&&d.push(a);var f=this.get_Images().get_Count();b.pv.ad(d,function(a){b.pv.n(a);(0>a||a>=f)&&b.pv.toe()});this._8616=d;K(this);for(e=0;e<d.length;e++)this._374(d[e],"selected")}};q.get_MultiSelect=function(){this._1270();
return this._5611};q.set_MultiSelect=function(a){this._1270();b.pv.b(a);this._5611=a};q.get_ImageInfo=function(b){var a=this.get_Images().get_Image(b);b=a.get_Size();a=a.get_Resolution();return void 0==b||void 0==a?void 0:{size:b,resolution:a}};q.get_ImageRotationAngle=function(){this._1270();return 0!==this._1541?this._9723:this._6419};q.set_ImageRotationAngle=function(a){this._1270();b.pv.n(a);a=t._6002._4218(a);0!==a&&90!==a&&180!==a&&270!==a&&b.pv.te("Argument value exception.");var d=this.get_ImageRotationAngle();
a!==d&&(this._9638("imageRotating",{currentAngle:d,newAngle:a}),this._4654=!0,this._9723=a,0===this._1541&&this.update(),void 0!=this._8174&&this._8174.set_ImageRotationAngle(a),this._9638("imageRotated",a))};q.get_ThumbnailCanvas=function(a){b.pv.n(a);var d=this.get_Images();(0>a||a>d.get_Count())&&b.pv.toe();a=d.get_Image(a).get_Guid();a=$("#"+a).parent();d=$(a).children("svg");0===d.length?(d=this._5726(),a=Raphael(a[0],d.width,d.height),$(a.canvas).css({"pointer-events":"none",position:"absolute",
left:0,top:0,"z-index":10}),a.canvas._raphael=a):a=d[0]._raphael;return a};q.get_UseCache=function(){this._1270();return this._4661};q.set_UseCache=function(a){this._1270();b.pv.b(a);this._4661=a};q.get_ThumbnailsFormat=function(){this._1270();return this._4704};q.set_ThumbnailsFormat=function(a){this._1270();this._4704=b.pv.e(a,b.WebImageTypeEnumJS)};q.get_NormalThumbnailAppearance=function(){this._1270();return this._5886};q.set_NormalThumbnailAppearance=function(a){this._1270();b.pv.c(a,s.WebThumbnailAppearanceJS);
this._5886.equals(a)||(this._5886=a,B(0,this._5886,this))};q.get_FocusedThumbnailAppearance=function(){this._1270();return this._9728};q.set_FocusedThumbnailAppearance=function(a){this._1270();b.pv.c(a,s.WebThumbnailAppearanceJS);this._9728.equals(a)||(this._9728=a,B(1,this._9728,this))};q.get_HoveredThumbnailAppearance=function(){this._1270();return this._3595};q.set_HoveredThumbnailAppearance=function(a){this._1270();b.pv.c(a,s.WebThumbnailAppearanceJS);this._3595.equals(a)||(this._3595=a,B(2,this._3595,
this))};q.get_NotReadyThumbnailAppearance=function(){this._1270();return this._8045};q.set_NotReadyThumbnailAppearance=function(a){this._1270();b.pv.c(a,s.WebThumbnailAppearanceJS);this._8045.equals(a)||(this._8045=a,B(3,this._8045,this))};q.get_SelectedThumbnailAppearance=function(){this._1270();return this._7099};q.set_SelectedThumbnailAppearance=function(a){this._1270();b.pv.c(a,s.WebThumbnailAppearanceJS);this._7099.equals(a)||(this._7099=a,B(4,this._7099,this))};q.get_ImageCacheManager=function(){this._1270();
var b=this._8174;return void 0==b?this._4736:b.get_ImageCacheManager()};q.set_ImageCacheManager=function(a){this._1270();void 0!=a&&b.pv.c(a,t.WebImageCacheManagerJS);void 0!=this._8174&&b.pv.te("Cannot change cache manager of slave viewer.");this._4736!==a&&(this._4736=a,this._9638("_6092",a))};q.get_SyncCacheWithImages=function(){this._1270();var b=this._8174;return void 0!=b?b.get_SyncCacheWithImages():this._4882};q.set_SyncCacheWithImages=function(a){this._1270();b.pv.b(a);void 0!=this._8174&&
b.pv.te("Can not change cache property of slave viewer.");this._4882=a};q.get_ControlId=function(){this._1270();return this._7283.id};q.get_Control=function(){return this._7283};q.get_ContextMenuFunc=function(){this._1270();return this._2731};q.set_ContextMenuFunc=function(a){this._1270();void 0!=a&&b.pv.f(a);this._2731=a;if(void 0!=this._8023){var d=this;d._8023[0].oncontextmenu=function(b){ka(b);b.stopPropagation();var a;void 0!=d._2731&&(a=d._2731(b));return void 0!=a?a:!1}}};q.get_IsDisposed=
function(){return this._3699};q.get_DisplayThumbnailCaption=function(){this._1270();return this._2056};q.set_DisplayThumbnailCaption=function(a){this._1270();b.pv.b(a);this._2056!==a&&((this._2056=a)?this._5702():this._2005.find("div.caption").remove())};q.get_ThumbnailCaptionFormat=function(){this._1270();return this._607};q.set_ThumbnailCaptionFormat=function(a){this._1270();b.pv.s(a);this._607!==a&&(this._607=a,this._2056&&this._945(!0,!0))};q.get_ThumbnailCaptionAnchor=function(){this._1270();
return this._5803};q.set_ThumbnailCaptionAnchor=function(a){this._1270();a=b.pv.e(a,s.WebImageAnchorTypeEnumJS);a.equals(this._5803)||(this._5803=a,this._2056&&this._945(!1,!0))};q._3368=function(){var b=this._8023[0];return{y:b.scrollTop,x:b.scrollLeft}};q._5512=function(b,a){var d=this._8023[0];d.scrollTop=a;d.scrollLeft=b};q.beginInit=function(){this._1270();this._1541++};q.endInit=function(){this._1270();this._1541--;0===this._1541?(this._4654&&this.update(),this._4654=!1):0>this._1541&&(this._1541=
0)};q.scrollTo=function(a){b.pv.n(a);var d=this.get_Images();if(!(0>a||a>d.get_Count())){var e=!1;try{var f=d.get_Image(a).get_Guid(),h=$("#"+f).parent(),g=$(h).position(),k=this._8023[0],l=this._5726(),n=g.top+this._587,m=n+l.height,v=k.scrollTop,q=v+k.clientHeight;a=0;if(m<=q&&n>=v)a=v;else{if(m>q||n>q)a=m-q+v+2*this._4286+this._587+this._9982;n<v&&(a=n-this._4286+this._587)}var r=k.scrollLeft,p=r+k.clientWidth,x=g.left+this._9755,s=x+l.width,g=0;if(s<=p&&x>=r)g=r;else{if(s>p||x>p)g=s-p+r+2*this._4286+
this._9755+this._7368;x<r&&(g=x-this._4286+this._9755)}k.scrollTop=a;k.scrollLeft=g}catch(u){e=!0}this._1016||e||G(this)}};q.update=function(){var b=this.get_Images().get_Count();if(0<b){if(0===this._1541&&this._4654){var a=this._6507.width!==this._6859||this._6507.height!==this._2916,d=!this._3928.equals(this._3618),e=this._2286!==this._4286,f=this._9206[0]!==this._587||this._9206[1]!==this._7368||this._9206[2]!==this._9982||this._9206[3]!==this._9755,h=this._9723!==this._6419,g=!1;if(a||d)var d=
this._3618.valueOf()/100,g=this._6507.height*d,k=this._3928.valueOf()/100,l=this._2916*k,g=this._6507.width*d!==this._6859*k||g!==l;d=this._5726();ua(this);k=this._5726();d=d.width!==k.width||d.height!==k.height;Y(this,b);b=g;g=this._2005;if(void 0!=g&&(g=g.children("div"),k=$(g).children("div"),l=this._4286,e&&g.css({"margin-left":l,"margin-top":l}),d||b||f||h)&&(e=this._5726(),d&&this._5892(g,k,e.width,e.height),k=$(k).children("img:nth-child(1)"),0!==k.length&&(f&&this._6740(k,this._587,this._7368,
this._9982,this._9755),b&&(f=this._3928.valueOf()/100,this._6376(k,this._6859*f,this._2916*f)),0!==this._6419?this._3810(k):h&&this._3431(k)),d))for(h=$(g).children("svg"),f=0;f<h.length;f++)h[f]._raphael.clear(),h[f]._raphael.setSize(e.width,e.height);h=0;a?h=1:d&&(h=2);this._1515=h;d&&(h=this._2005.find(".border").children("img:nth-child(2)"),0!=h.length&&(f=this._5726(),d=$(h[0]).width(),e=$(h[0]).height(),d=(f.width-d)/2,h.css("top",(f.height-e)/2),h.css("left",d)),this._945(!1,!0));if(a)for(a=
0;a<this.get_Images().get_Count();a++)1==this._5752[a]&&(this._5752[a]=2);this._4654=!1}a=this._8023[0];0!==a.clientHeight&&0!==a.clientWidth&&Q(this);U(this);this._9638("_8210");this._1016||G(this)}else 0===this._1541&&(ua(this),this._4654=!1,this._9638("_8210"))};q.invalidate=function(b){this._1270();this._8163&&this._8163._5567(this._8451())};q.focus=function(){this._1270();$(this._7283).focus()};q.dispose=function(){this._1270();clearInterval(this._8427);this._2373=this._8335=this._3106=void 0;
this._5752=[];this._4191=-1;this._8616=[];this._1016=!1;this._4736=this._2318=this._8163=void 0;var b="."+this._9301;$(this._4826.evm).off(b);for(var a=0;a<this._4826.get_Count();a++){var d=this._4826.get_Image(a);$(d.evm).off(b)}if(void 0!=this._8174){$(this._8174._1981).off(b);for(var e=this.get_Images(),a=0;a<e.get_Count();a++)d=e.get_Image(a),$(d.evm).off(b);this._8174=void 0}this._4414();$("head #"+(this._9301+"_ThumbnailStyleSheet")).remove();$(this._7283).empty();this._9270=this._2005=this._8023=
this._7283=void 0;this._9638("disposed");this._3699=!0;$(this).off();$(this._1981).off()};q._2136=function(){var b=this._8023[0];return{width:b.scrollWidth,height:b.scrollHeight}};q._6964=function(){return this._2136()};q._8729=function(){try{void 0==this._8163&&(this._8163=new qb._4042,this._8023.find("img").css("z-index",2),this._8163._7012(this),0!=this._8616.length&&this.set_SelectedIndices(this._8616))}catch(b){}};q._9470=function(b){function a(){p._9638("thumbnailRendered",{thumbnailId:g,thumbnailIndex:k});
p._9638("thumbnailPainted",k)}function d(){if(10>x)setTimeout(function(){m.src=q},250),x++;else{if(void 0!=r){var b=Z(p._6859,p._2916,h);r._1929(g,b)}p._5752[k]=2;G(p)}}if(!this._9210){var h=b.image,g=h.get_Guid(),k=this.get_Images().indexOf(h);if(-1!==k&&e(this,k,b))if(1===this._5752[k])G(this);else{var l=$(this._7283).find("#"+g)[0],n=$(l).children("img"),v=n[1];void 0!=v&&$(v).remove();var m=n[0];void 0==m&&(m=ia(this,l,k));var q=b.fileId;/^data:image\/[a-zA-Z]+;base64,/.test(q)||(q+="?"+b.image.gi());
var r=this.get_ImageCacheManager(),p=this,x=0;m.onload=a;m.onerror=d;m.src=q;this._2056&&0===$(l).find(".caption").length&&this._5644(l,k);void 0!=r&&(l=Z(this._6859,this._2916,b.image),r.containsImageData(h,l)||r.addImageData(h,l,b.fileId));this._4191==k?this._374(k,"focused"):this._374(k,"normal");E(this,k)&&this._374(k,"selected");this._5752[k]=1}}};q._5217=function(a){var d=this._8163;if(void 0!=d&&d._5725){var e=a;"mousedown"!=a.type&&(a="touchstart"==a.type?a.originalEvent.touches[0]:a.originalEvent,
a.sourceEvent=e);var e=this._8023,f=a,g=this._8023;0===this._5792&&(this._5792=b.WebImagingEnviromentJS.get_ScrollSize(this._7283));var k=ea(this,"y"),l=ea(this,"x"),n=f.pageX,f=f.pageY,m=$(g).offset(),q,r,p,x;r=q=!1;k&&(k=m.top,p=m.left+$(g).width(),x=k+$(g).height(),r=p-this._5792,r=f>=k&&f<=x&&n>=r&&n<p);l&&(l=m.top+$(g).height(),m=m.left,q=l-this._5792,g=m+$(g).width(),q=f>=q&&f<=l&&n>=m&&n<g);q||r?e.css("touch-action","pan-x pan-y"):(ka(a),e.css("touch-action","none"),ca(this,this._2136()),$(this._9270.canvas).parent().css("display",
"block"),this._239(),a=h(this,a),d._5217(a));this.focus()}};q._8012=function(b){ka(b);var a=this._8163;if(void 0!=a&&a._5725){if("mousemove"!=b.type){var d=b;b="touchmove"==b.type?b.originalEvent.touches[0]:b.originalEvent;b.sourceEvent=d}b=h(this,b);a._8012(b)}};q._946=function(b){var a=this._8163;if(void 0!=a&&a._5725){if("mouseup"!=b.type){var d=b;b="touchend"==b.type?b.originalEvent.changedTouches[0]:b.originalEvent;b.sourceEvent=d}b=h(this,b);a._946(b);$(this._9270.canvas).parent().css("display",
"none");ca(this,{width:0,height:0});this._4414()}};q._988=function(b){ka(b)};q._8451=function(b){return new t.WebMatrixJS};q._7905=function(b){return this._8451(b).invert()};q._1270=function(){this._3699&&b.pv.te("Viewer is disposed.")};q._9638=function(b,a){$(this._1981).triggerHandler(b,a);$(this).triggerHandler(b,a)};q._6573=function(){var b=this._8174;l({data:{v:this}},b);void 0!=b&&$(b._1981).off("."+this._9301)};q._9314=function(){var b=this._8174;if(void 0!=b){var a=this._9301,d={v:this},e=
b._1981;$(e).on("_9787."+a,d,r);$(e).on("_5748."+a,d,H);$(e).on("_4485."+a,d,F);$(e).on("focusedIndexChanged."+a,d,I);$(e).on("imageRotated."+a,d,X);$(e).on("_6092."+a,d,C);$(e).on("_6699."+a,d,l);$(e).on("_4758."+a,d,x);$(e).on("disposed."+a,d,p)}x({data:{v:this}},b)};q._5580=function(b){switch(b.actionName){case "clear":this._6080();break;case "set":this._4859(b.imageIndex,b.image,b.previousImage);break;case "removeAt":case "removeRange":var a=[],d=[];"removeRange"===b.actionName?(a=b.imagesIndexes,
d=b.images):(a.push(b.imageIndex),d.push(b.image));this._4561(a,d);this._945(!0,!1,a[0]);break;case "insert":case "insertRange":a=b.imageIndex,d=[],"insert"===b.actionName?d.push(b.image):d=b.images,this._184(a,d),this._945(!0,!1,a+d.length)}};q._6080=function(){this._4191=-1;this._2005.children().remove();this._5752=[];this._8616=[];Y(this,0)};q._4859=function(b,a,d){var e=d.get_Guid(),e=$("#"+e);a!==d&&e.attr("id",a.get_Guid());e.find(".caption").remove();1==this._5752[b]&&(this._5752[b]=2)};q._4561=
function(b,a){for(var d=0;d<a.length;d++){var e=a[d].get_Guid();$("#"+e).parent().remove()}for(d=b.length-1;0<=d;d--)this._5752.splice(b[d],1);for(d=0;d<this._8616.length;){for(var f=!1,e=0;e<b.length;e++)if(this._8616[d]===b[e]){this._8616.splice(d,1);f=!0;break}f||d++}for(var f=!1,h=0,g=[],d=0;d<this._8616.length;d++)g.push(0);for(d=0;d<b.length;d++){for(e=0;e<this._8616.length;e++)this._8616[e]>b[d]&&(g[e]+=1);this._4191>b[d]?h++:this._4191===b[d]&&(f=!0)}for(d=0;d<this._8616.length;d++)this._8616[d]-=
g[d];this._4191-=h;f&&(0===this.get_Images().get_Count()?this._4191=-1:(this._4191==this.get_Images().get_Count()&&this._4191--,this._374(this._4191,"focused"),-1!=this._8616.indexOf(this._4191)&&this._374(this._4191,"selected")));Y(this,this.get_Images().get_Count())};q._184=function(b,a){for(var d=this._5726(),e=d.width,f=d.height,d=[],h=0;h<a.length;h++){var g=a[h].get_Guid();d.push(R(this._4286,e,f,g))}h=this.get_Images();e=h.get_Count();if(e==a.length)for(h=0;h<d.length;h++)$(d[h].main).appendTo(this._2005);
else for(b<e-a.length?(h=h.get_Image(b+a.length).get_Guid(),h=$("#"+h).parent(),$(d[0].main).insertBefore(h)):(h=h.get_Image(b-1).get_Guid(),h=$("#"+h).parent(),$(d[0].main).insertAfter(h)),h=1;h<d.length;h++)$(d[h].main).insertAfter(d[h-1].main);for(h=0;h<d.length;h++)this._5752.splice(b+h,0,0);this._4191>=b&&(this._4191+=a.length);for(h=0;h<this._8616.length;h++)this._8616[h]>=b&&(this._8616[h]+=a.length);-1==this._4191&&0===b&&(this._4191=b,this._374(b,"focused"));Y(this,e);U(this);e!==a.length&&
this.scrollTo(this._4191)};q._374=function(b,a){var d=this.get_Images();0<=b&&b<d.get_Count()&&(d=d.get_Image(b).get_Guid(),d=$(this._7283).find("#"+d),0!=d.length&&(d=d[0],"selected"!==a?($(d).removeClass(),$(d).addClass("border "+a)):($(d).addClass("border"),b===this._4191&&$(d).addClass("focused"),$(d).addClass(a))))};q._5791=function(){var b=this,a=b._9301;$(b._7283).on(J(a),function(a){b._5217(a)})};q._7031=function(){var b=this._9301;$(this._7283).off(J(b))};q._239=function(){var b=this,a=b._9301;
$(document).on(T(a),function(a){b._8012(a)});$(document).on(L(a),function(a){b._946(a)})};q._4414=function(){var b=this._9301;$(document).off(T(b));$(document).off(L(b))};q._5892=function(b,a,d,e){d={width:d,height:e};b.css(d);a.css(d)};q._6740=function(b,a,d,e,f){b.css({"margin-top":a,"margin-right":d,"margin-bottom":e,"margin-left":f})};q._6376=function(b,a,d){b.css({width:a,height:d})};q._3810=function(b){var a=this._4907();b.css(a);return a};q._3431=function(b){var a=this._5184();b.css(a);return a};
q._4907=function(){var b=this._6419,a=this._6859*this._3928.valueOf()/100,d=this._2916*this._3928.valueOf()/100,e=0,f=0;switch(b){case 90:e=d;break;case 180:e=a;f=d;break;case 270:f=a}b="translate("+e+"px,"+f+"px) rotate("+b+"deg)";return{transform:b,"-moz-transform":b,"-webkit-transform":b,"-o-transform":b,"-ms-transform":b,"transform-origin":"0px 0px","-moz-transform-origin":"0px 0px","-webkit-transform-origin":"0px 0px","-o-transform-origin":"0px 0px","-ms-transform-origin":"0px 0px"}};q._5184=
function(){return{transform:"","-moz-transform":"","-webkit-transform":"","-o-transform":"","-ms-transform":"","transform-origin":"","-moz-transform-origin":"","-webkit-transform-origin":"","-o-transform-origin":"","-ms-transform-origin":""}};q._5726=function(){var b=this._6859*this._3928.valueOf()/100,a=this._2916*this._3928.valueOf()/100;if(90===this._6419||270===this._6419)var d=b,b=a,a=d;b+=this._7368+this._9755;a+=this._587+this._9982;return{width:b,height:a}};q._5702=function(){for(var b=this._2005.find("div.border"),
a=0;a<this._5752.length;a++)if(1===this._5752[a]){var d=$(b[a]);this._5644(d,a)}};q._5644=function(b,a){if(this._2056){var d=$("<div>").appendTo(b);d.addClass("caption");if(void 0==this._6840){var e=d.css("top"),f=d.css("left"),h=d.css("right"),g=d.css("bottom");this._6840="auto"!==e||"auto"!==f||"auto"!==h||"auto"!==g}d.css({position:"absolute","user-select":"none",cursor:"inherit","pointer-events":"none"});this._3795(d,a,!0,!0)}};q._945=function(b,a,d,e){if(this._2056){void 0==d&&(d=0);var f=this._5752.length;
void 0!=e&&(f=d+e,f>this._5752.length&&(f=this._5752.length));for(e=this._2005.find("div.border");d<f;d++)if(0!==this._5752[d]){var h=$(e[d]).find(".caption");0!==h.length&&this._3795(h,d,b,a)}}};q._3795=function(b,a,d,e){d?(this._4263(b,a),this._7875(b)):e&&this._7875(b)};q._4263=function(b,a){var d=this._607;if(""!==d){var e=this.get_Images().get_Image(a),f=e.get_PageIndex(),h=e.get_ImageId(),g=e.get_Size(),e=e.get_Resolution(),d=M(d,"{FileId}",h),d=M(d,"{PageNumber}",f+1),d=M(d,"{PageIndex}",f),
d=M(d,"{ImageNumber}",a+1),d=M(d,"{ImageIndex}",a);void 0!=g&&(f=g.width,g=g.height,h=f*g/1E6,d=M(d,"{ImageWidthPx}",f),d=M(d,"{ImageHeightPx}",g),d=M(d,"{ImageSizeMpx}",h));void 0!=e&&(d=M(d,"{ImageHRes}",e.x),d=M(d,"{ImageVRes}",e.y))}b.text(d)};q._7875=function(b){if(!this._6840){var a="",d="",e="",f="";b.css({top:a,left:d,right:e,bottom:f});var h=this._5803.valueOf(),g=b.width(),k=b.height(),l=this._5726(),k=(l.height-k)/2,g=(l.width-g)/2,l="center";switch(h){case 15:a=k;d=g;break;case 1:case 13:a=
0;d=g;break;case 2:case 14:d=g;f=0;break;case 4:case 7:l="left";a=k;d=0;break;case 5:l="left";d=a=0;break;case 6:l="left";f=d=0;break;case 8:case 11:l="right";a=k;e=0;break;case 9:l="right";e=a=0;break;case 10:l="right",f=e=0}b.css({top:a,left:d,right:e,bottom:f,"text-align":l})}};var V;"string"===typeof a?V=document.getElementById(a):(b.pv.ic(a,$)&&(a=a[0]),void 0!=a.tagName&&(V=a));void 0==V&&b.pv.te("The parent DOM element for viewer is not found.");"DIV"!==V.tagName&&b.pv.te("The parent DOM element for viewer must be a DIV element.");
this._7283=V;this._9301=b.WebImagingEnviromentJS.guid();this._5792=b.WebImagingEnviromentJS.get_ScrollSize(V);this._2373=this._8335=this._3106=void 0;this._5752=[];this._1541=0;this._4654=!1;this._1515=0;this._8163=void 0;this._1016=!1;this._6831="WebThumbnailViewer";this._8174=void 0;this._4826=new b.WebImageCollectionJS;this._2916=this._6859=100;this._8944=new s.WebThumbnailFlowStyleEnumJS(1);this._7415=2;this._3928=new s.WebThumbnailScaleEnumJS(100);this._4191=-1;this._1427=!0;this._2918=!1;this._4286=
20;this._9755=this._9982=this._7368=this._587=5;this._8616=[];this._5611=!0;this._1860=!1;this._2318=this._9270=void 0;this._6419=0;this._4661=!0;this._4704=new b.WebImageTypeEnumJS(1);this._8427=void 0;this._6755=500;this._4736;this._4882=!0;this.set_ImageCacheManager(new t.WebImageCacheManagerJS);this._8023;this._2005;this._1981={};this._3699=!1;this._6507={width:this._6859,height:this._2916};this._8655=this._8944;this._8734=this._7415;this._3618=this._3928;this._9206=[this._587,this._7368,this._9982,
this._9755];this._2286=this._4286;this._9723=this._6419;this._5886=new s.WebThumbnailAppearanceJS("white","1px solid #eeeeee");this._9728=new s.WebThumbnailAppearanceJS("white","1px dotted gray");this._3595=new s.WebThumbnailAppearanceJS("#BAD2EB","2px solid #BAD2EB");this._8045=new s.WebThumbnailAppearanceJS("black","0px solid black");this._7099=new s.WebThumbnailAppearanceJS("#AAEEFD","1px solid #99DEFD");this._2731;this._2056=!0;this._607="{ImageNumber}";this._5803=new s.WebImageAnchorTypeEnumJS(2);
this._6840=void 0;(function(b){var a=document.createElement("style"),d=b._9301;a.type="text/css";a.id=d+"_ThumbnailStyleSheet";var d=b._5886._5133(),e=b._9728._5133(),f=b._3595._5133(),h=b._8045._5133(),g=b._7099._5133();b=b.get_ControlId();var k="";""!==b&&(k="#"+b);a.innerHTML+=k+" .border.normal{"+d+"}";a.innerHTML+=k+" .border.focused{"+e+"}";a.innerHTML+=k+" .border.hovered{"+f+"}";a.innerHTML+=k+" .border.notReady{"+h+"}";a.innerHTML+=k+" .border.selected{"+g+"}";document.getElementsByTagName("head")[0].appendChild(a)})(this);
a={v:this};V=this._9301;$(this._4826.evm).on("changing."+V,a,r);$(this._4826.evm).on("changed."+V,a,H);$(this._1981).on("_9491",a,function(b){b=b.data.v;b._1860?b._1860=!1:(K(b),b._8616=[])});(function(b){var a=b._7283;b._7031();b._5791();var d=$("<div>");$(a).prepend(d);d.css({width:"100%",height:"100%",position:"relative",overflow:"hidden","touch-action":"none"});b._8023=d;var e=$("<div>").appendTo(d);e.css("position","absolute");b._2005=e;if(b._1427)$(d).on("scroll",{v:b},ga);ca(b,b._2136());U(b);
b._8729();b._6765={width:a.clientWidth,height:a.clientHeight};b._8427=setInterval(P,b._6755,b)})(this);this.set_ContextMenuFunc();delete q.focusedIndexChanged;delete q.imageRotating;delete q.imageRotated;delete q.thumbnailRendered;delete q.thumbnailPainting;delete q.thumbnailPainted;delete q.visibleThumbnailsPainted;delete q.imageRenderingException;delete q.scrollChanged;delete q.thumbnailClick;delete q.thumbnailMouseover;delete q.thumbnailContextMenu;delete q.thumbnailMousedown;delete q.thumbnailMouseout;
delete q._9787;delete q._5748;delete q._4485;delete q._6699;delete q._4758;delete q._8210;delete q._6092;delete q.disposed};g.WebThumbnailViewerJS=d})(p.UI);(function(g){b.WebServiceJS.defaultImageProcessingService=-1;var e=function(){var a=e.prototype;a._6159=function(b,a){};a._8215=function(b,a){};a.get_Type=function(){return this._6831};a.set_Type=function(a){a=b.pv.e(a,s.WebColorBaseJSTypeEnumJS);if(a.valueOf()!==this._6831.valueOf()){$(this._5988).triggerHandler("_6159",{oldValue:this._6831,
newValue:a});var d=this._6831;this._6831=a;switch(a.valueOf()){case 0:this._976=0;this._6832=this._5169=this._4403=this._8204=this._8213=void 0;break;case 1:this._8213=0;this._6832=this._5169=this._4403=this._8204=this._976=void 0;break;case 2:case 3:case 4:case 6:this._5169=this._4403=this._8204=0;this._6832=this._976=this._8213=void 0;break;case 5:case 7:this._6832=this._5169=this._4403=this._8204=0,this._976=this._8213=void 0}$(this._5988).triggerHandler("_8215",{oldValue:d,newValue:a})}};a.get_Index=
function(){return this._976};a.set_Index=function(a){0===this._6831.valueOf()&&(a=parseInt(a),b.pv.n(a),0>a&&(a=0),255<a&&(a=255),this._976=a)};a.get_Luminance=function(){return this._8213};a.set_Luminance=function(a){1===this._6831.valueOf()&&(a=parseInt(a),b.pv.n(a),0>a&&(a=0),65535<a&&(a=65535),this._8213=a)};a.get_Red=function(){return this._8204};a.set_Red=function(a){var d=this._6831.valueOf();if(1!==d&&0!==d){a=parseInt(a);b.pv.n(a);0>a&&(a=0);switch(d){case 2:case 3:31<a&&(a=31);break;case 4:case 5:255<
a&&(a=255);break;case 6:case 7:65535<a&&(a=65535)}this._8204=a}};a.get_Green=function(){return this._4403};a.set_Green=function(a){var d=this._6831.valueOf();if(1!==d&&0!==d){a=parseInt(a);b.pv.n(a);0>a&&(a=0);switch(d){case 2:case 3:31<a&&(a=31);break;case 4:case 5:255<a&&(a=255);break;case 6:case 7:65535<a&&(a=65535)}this._4403=a}};a.get_Blue=function(){return this._5169};a.set_Blue=function(a){var d=this._6831.valueOf();if(1!==d&&0!==d){a=parseInt(a);b.pv.n(a);0>a&&(a=0);switch(d){case 2:case 3:31<
a&&(a=31);break;case 4:case 5:255<a&&(a=255);break;case 6:case 7:65535<a&&(a=65535)}this._5169=a}};a.get_Alpha=function(){return this._6832};a.set_Alpha=function(a){var d=this._6831.valueOf();if(5===d||7===d){a=parseInt(a);b.pv.n(a);0>a&&(a=0);switch(d){case 5:255<a&&(a=255);break;case 7:65535<a&&(a=65535)}this._6832=a}};a.toString=function(){var b=this._6831.toString();switch(b){case "Indexed":b+="("+this._976+")";break;case "Gray16":b+="("+this._8213+")";break;case "RGB555":case "RGB565":case "RGB24":case "RGB48":b+=
"("+this._8204+","+this._4403+","+this._5169+")";break;case "ARGB32":case "ARGB64":b+="("+this._8204+","+this._4403+","+this._5169+","+this._6832+")"}return b};a.clone=function(){var b=new e;b._6831=this._6831;b._976=this._976;b._8213=this._8213;b._8204=this._8204;b._4403=this._4403;b._5169=this._5169;b._6832=this._6832;return b};a.getParams=function(){return{type:this._6831.toString(),index:this._976,luminance:this._8213,red:this._8204,green:this._4403,blue:this._5169,alpha:this._6832}};this._6831=
new s.WebColorBaseJSTypeEnumJS(4);this._976;this._8213;this._5169=this._4403=this._8204=0;this._6832;this._5988={};delete a._6159;delete a._8215},a=function(d,f,ta,h){function g(a,d){var e=d.newValue.valueOf();4!==e&&5!==e&&b.pv.te("Unsupported color type.")}var k=a.prototype;k.get_Radius=function(){return this._9505};k.set_Radius=function(a){b.pv.n(a);0>a&&(a=0);this._9505=a};k.get_Center=function(){return this._170};k.set_Center=function(a){b.pv.c(a,e);var d=a._6831.valueOf();4!==d&&5!==d&&b.pv.te("Unsupported color type.");
$(this._170._5988).off();this._170=a;$(a._5988).on("_6159",g)};k.toString=function(){return"Center="+this._170.toString()+"; Radius="+this._9505};k.clone=function(){var b=new a;b.set_Center(this._170.clone());b._9505=this._9505;return b};k.getParams=function(){return{center:this._170.getParams(),radius:this._9505}};k=new e;k.set_Type("RGB24");void 0!=d&&void 0!=f&&void 0!=ta&&(k.set_Red(d),k.set_Green(f),k.set_Blue(ta));this._170=k;try{this.set_Radius(h)}catch(l){this._9505=0}$(this._170._5988).on("_6159",
g)},h=function(a,d,ta,f){function g(a,d){var e=d.newValue.valueOf();4!==e&&5!==e&&b.pv.te("Unsupported color type.")}var k=h.superclass;k.constructor.call(this,a,d,ta,f);a=h.prototype;a.get_InterpolationRadius=function(){return this._2931};a.set_InterpolationRadius=function(a){b.pv.n(a);0>a&&(a=0);1<a&&(a=1);this._2931=a};a.get_NewColor=function(){return this._6989};a.set_NewColor=function(a){b.pv.c(a,e);var d=a._6831.valueOf();4!==d&&5!==d&&b.pv.te("Unsupported color type.");$(this._6989._5988).off();
this._6989=a;$(a._5988).on("_6159",g)};a.toString=function(){return k.toString.call(this)+"; NewColor="+this._6989.toString()+"; InterpolationRadius="+this._2931};a.clone=function(){var b=new h;b.set_Center(this._170.clone());b._9505=this._9505;b.set_NewColor(this._6989.clone());b._2931=this._2931;return b};a.getParams=function(){var b=k.getParams.call(this);b.newColor=this._6989.getParams();b.interpolationRadius=this._2931;return b};a=new e;a.set_Type("RGB24");this._6989=a;$(this._6989._5988).on("_6159",
g);this._2931=.5};b.extend(h,a);var d=function(a,e,ta,f,h){var g=d.prototype;g.get_Gamma=function(){return this._gamma};g.set_Gamma=function(a){b.pv.n(a);0>a&&(a=0);this._gamma=a};g.get_InputMax=function(){return this._inputMax};g.set_InputMax=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);255<a&&(a=255);this._inputMax=a};g.get_InputMin=function(){return this._inputMin};g.set_InputMin=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);255<a&&(a=255);this._inputMin=a};g.get_OutputMax=function(){return this._outputMax};
g.set_OutputMax=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);255<a&&(a=255);this._outputMax=a};g.get_OutputMin=function(){return this._outputMin};g.set_OutputMin=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);255<a&&(a=255);this._outputMin=a};g.getParams=function(){return{gamma:this._gamma,inputMax:this._inputMax,inputMin:this._inputMin,outputMax:this._outputMax,outputMin:this._outputMin}};void 0==a&&(a=1);this.set_Gamma(a);void 0==e&&(e=255);this.set_InputMax(e);void 0==ta&&(ta=0);this.set_InputMin(ta);
void 0==f&&(f=255);this.set_OutputMax(f);void 0==h&&(h=0);this.set_OutputMin(h)},k=function(){function a(d,e){var f=d;b.pv.ic(f,b.WebEnumItemBase)&&(f=f.valueOf());if(-1===e.indexOf(f))switch(e.push(f),f){case 4:a(2,e);a(1,e);break;case 8:a(2,e);a(1,e);a(4,e);a(9,e);break;case 9:a(2,e);a(1,e);a(4,e);a(8,e);break;case 16:a(9,e);break;case 24:a(8,e);a(9,e);a(14,e);a(15,e);a(32,e);break;case 32:a(24,e);break;case 33:a(8,e);a(24,e);break;case 48:a(16,e);a(24,e);break;case 64:a(33,e),a(48,e)}}this._9218=
[];this._6481=this._7082=this._8706=!1;var d=k.prototype;d.get_ActionName=function(){b.pv.tne()};d.get_CanModifyImage=function(){return this._8706};d.get_SupportedNativePixelFormats=function(){return[].concat(this._9218)};d.get_SupportedPixelFormats=function(){var b=this.get_SupportedNativePixelFormats();return this._7082?b.length===b[0].getAllAvailableNames().length?b:this._4246(b):b};d.get_ExpandSupportedPixelFormats=function(){return this._7082};d.set_ExpandSupportedPixelFormats=function(a){b.pv.b(a);
this._7082=a};d.get_RestoreSourcePixelFormat=function(){return this._6481};d.set_RestoreSourcePixelFormat=function(a){b.pv.b(a);!this._8706&&a&&b.pv.te("Command does not support this property because command cannot modify image.");this._6481=a};d.getParams=function(){return{}};d.checkCommandParams=function(b){return!0};d.execute=function(a,d,e,f){b.pv.c(a,b.WebImageJS);b.pv.ic(d,b.WebServiceJS)?(f=d,e=d=void 0):b.pv.ic(e,b.WebServiceJS)&&(f=e,e=void 0);void 0!=d&&b.pv.f(d,"Success callback must be defined as function.");
void 0!=e&&b.pv.f(e,"Error callback must be defined as function.");void 0==f&&(f=this._7050());b.pv.c(f,b.WebServiceJS);var h=a.get_PixelFormat(),g=this.get_SupportedPixelFormats();if(void 0!==h){for(var k=!1,O=0;O<g.length;O++)if(h.equals(g[O])){k=!0;break}if(!k){k="Please convert the image to supported pixel format first.";if(!this._7082){for(var l=this._4246(g),n=!1,O=0;O<l.length;O++)if(h.equals(l[O])){n=!0;break}n&&(k="Please enable automatic convertation using the 'set_ExpandSupportedPixelFormats' property  or convert an image to the supported pixel format manually.")}h=
this.get_ActionName()+": unsupported pixel format - "+h.toString()+". With current settings the processing command supports only the following pixel formats:";for(O=0;O<g.length;O++)h+=" "+g[O].toString();b.pv.te(h+(".\n"+k))}}return this.checkCommandParams(a)?(this._3071(a,d,e,f),!0):!1};d._8967=function(b){this._9218=this._7636(b)};d._3071=function(a,d,e,f){var h=this,g=this.getParams();g.expandSupportedPixelFormats=h._7082;g.restoreSourcePixelFormat=h._6481;g.imageInfo=a.cto();g.applicationUrl=
window.location.href;var k=a.csto(),O;for(O in k)g[O]=k[O];g={type:"POST",data:g};g=new b.WebRequestJS(this.get_ActionName(),function(b,e,f){h._3185(a,b);d&&d(b,e,f)},function(b,d,f){h._3185(a,b);e&&e(b,d,f)},g);return f.sendRequest(g)};d._7050=function(){return b.WebServiceJS.defaultImageProcessingService};d._3185=function(b,a){a.sourceImage=b};d._4246=function(b){for(var d=[],e=0;e<b.length;e++)a(b[e],d);return this._7636(d)};d._7636=function(a){a.sort(t._6002._525);for(var d=[],e=0;e<a.length;e++)d.push(new b.WebPixelFormatEnumJS(a[e]));
return d}},f=function(){var a=f.superclass;a.constructor.call(this);var d=f.prototype;this._8706=this._3690=!0;d.get_ChangeSource=function(){return this._3690};d.set_ChangeSource=function(a){b.pv.b(a);this._3690=a};d.getParams=function(){return{changeSource:this._3690}};d.execute=function(b,d,e,f){return a.execute.call(this,b,d,e,f)};d._3185=function(d,e){a._3185.call(this,d,e);if(!0===e.success){var f=e.imageInfo.imageId,h=e.imageInfo.pageIndex,g=d.get_PageIndex(),k=d.get_ImageId();if(f===k&&h===
g)e.processedImage=d,d.ci("dc");else{var g=d.get_Source(),O,l;try{O=g.get_ImageService(),l=g.get_AnnotationService()}catch(n){}f=new b.WebImageSourceJS(f,O,l);h=new b.WebImageJS(f,h);e.processedImage=h}}}};b.extend(f,k);var v=function(){v.superclass.constructor.call(this);var a=v.prototype;this._113=t._6002._3358();a.get_Region=function(){return $.extend(!0,{},this._113)};a.set_Region=function(a,d,e,f){a=void 0==d?{x:parseInt(a.x),y:parseInt(a.y),width:parseInt(a.width),height:parseInt(a.height)}:
{x:parseInt(a),y:parseInt(d),width:parseInt(e),height:parseInt(f)};b.pv.r(a);0>a.x&&(a.x=0);0>a.y&&(a.y=0);0>a.width&&(a.width=0);0>a.height&&(a.height=0);this._113=a};a.getParams=function(){return{region:this._113}};a.checkCommandParams=function(b){b=b.get_Size();return void 0==b?!0:this._113.x<=b.width&&this._113.y<=b.height}};b.extend(v,k);var n=function(){var a=n.superclass;a.constructor.call(this);var d=n.prototype;this._113=t._6002._3358();d.get_Region=function(){return $.extend(!0,{},this._113)};
d.set_Region=function(a,d,e,f){a=void 0==d?{x:parseInt(a.x),y:parseInt(a.y),width:parseInt(a.width),height:parseInt(a.height)}:{x:parseInt(a),y:parseInt(d),width:parseInt(e),height:parseInt(f)};b.pv.r(a);0>a.x&&(a.x=0);0>a.y&&(a.y=0);0>a.width&&(a.width=0);0>a.height&&(a.height=0);this._113=a};d.getParams=function(){var b=a.getParams.call(this);b.region=this._113;return b};d.checkCommandParams=function(b){b=b.get_Size();return void 0==b?!0:this._113.x<=b.width&&this._113.y<=b.height}};b.extend(n,
f);var l=function(){var a=l.superclass;a.constructor.call(this);this._2609=new s.WebBinarizationModeEnumJS(0);this._3659=0;this._6906=1;this._348=-115;this._746=0;this._592=384;this._8976=15;this._3044=new s.WebLuminanceComputationModeEnumJS(1);this._8967([1,2,4,8,9,16,24,32,33,48,64]);var d=l.prototype;d.get_ActionName=function(){return"Binarize"};d.get_BinarizationMode=function(){return this._2609};d.set_BinarizationMode=function(a){this._2609=b.pv.e(a,s.WebBinarizationModeEnumJS)};d.get_ConvertToBlackLevel=
function(){return this._3659};d.set_ConvertToBlackLevel=function(a){b.pv.n(a);0>a&&(a=0);1<a&&(a=1);this._3659=a};d.get_ConvertToWhiteLevel=function(){return this._6906};d.set_ConvertToWhiteLevel=function(a){b.pv.n(a);0>a&&(a=0);1<a&&(a=1);this._6906=a};d.get_MaxLevelDifference=function(){return this._348};d.set_MaxLevelDifference=function(a){a=parseInt(a);b.pv.n(a);-765>a&&(a=-765);765<a&&(a=765);this._348=a};d.get_MinLevelDifference=function(){return this._746};d.set_MinLevelDifference=function(a){a=
parseInt(a);b.pv.n(a);-765>a&&(a=-765);765<a&&(a=765);this._746=a};d.get_Threshold=function(){return this._592};d.set_Threshold=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);765<a&&(a=765);this._592=a};d.get_WindowRadius=function(){return this._8976};d.set_WindowRadius=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);256<a&&(a=256);this._8976=a};d.get_LuminanceComputationMode=function(){return this._3044};d.set_LuminanceComputationMode=function(a){this._3044=b.pv.e(a,s.WebLuminanceComputationModeEnumJS)};
d.getParams=function(){var b=a.getParams.call(this);b.binarizationMode=this._2609.valueOf();b.convertToBlackLevel=this._3659;b.convertToWhiteLevel=this._6906;b.maxLevelDifference=this._348;b.minLevelDifference=this._746;b.threshold=this._592;b.windowRadius=this._8976;b.luminanceComputationMode=this._3044.valueOf();return b}};b.extend(l,f);var p=function(){var a=p.superclass;a.constructor.call(this);this._5511=0;this._8967([1,2,4,8,9,16,24,32,33,48,64]);var d=p.prototype;d.get_ActionName=function(){return"ChangeBrightness"};
d.get_Brightness=function(){return this._5511};d.set_Brightness=function(a){a=parseInt(a);b.pv.n(a);-100>a&&(a=-100);100<a&&(a=100);this._5511=a};d.getParams=function(){var b=a.getParams.call(this);b.brightness=this._5511;return b};d.checkCommandParams=function(b){return a.checkCommandParams.call(this,b)&&0!==this._5511}};b.extend(p,n);var A=function(){var a=A.superclass;a.constructor.call(this);this._9559=this._5511=0;this._8967([1,2,4,8,9,16,24,32,33,48,64]);var d=A.prototype;d.get_ActionName=function(){return"ChangeBrightnessContrast"};
d.get_Brightness=function(){return this._5511};d.set_Brightness=function(a){a=parseInt(a);b.pv.n(a);-100>a&&(a=-100);100<a&&(a=100);this._5511=a};d.get_Contrast=function(){return this._9559};d.set_Contrast=function(a){a=parseInt(a);b.pv.n(a);-100>a&&(a=-100);100<a&&(a=100);this._9559=a};d.getParams=function(){var b=a.getParams.call(this);b.brightness=this._5511;b.contrast=this._9559;return b};d.checkCommandParams=function(b){return a.checkCommandParams.call(this,b)&&(0!==this._5511||0!==this._9559)}};
b.extend(A,n);var C=function(){var a=C.superclass;a.constructor.call(this);this._9559=0;this._8967([1,2,4,8,9,16,24,32,33,48,64]);var d=C.prototype;d.get_ActionName=function(){return"ChangeContrast"};d.get_Contrast=function(){return this._9559};d.set_Contrast=function(a){a=parseInt(a);b.pv.n(a);-100>a&&(a=-100);100<a&&(a=100);this._9559=a};d.getParams=function(){var b=a.getParams.call(this);b.contrast=this._9559;return b};d.checkCommandParams=function(b){return a.checkCommandParams.call(this,b)&&
0!==this._9559}};b.extend(C,n);var r=function(){function a(d){b.pv.n(d);0>d&&b.pv.te("Gamma value cannot be less than 0.")}var d=r.superclass;d.constructor.call(this);this._9483=this._4887=this._165=1;this._8967([1,2,4,8,9,16,24,32,33,48,64]);var e=r.prototype;e.get_ActionName=function(){return"ChangeGamma"};e.get_RedGamma=function(){return this._165};e.set_RedGamma=function(b){a(b);this._165=b};e.get_GreenGamma=function(){return this._4887};e.set_GreenGamma=function(b){a(b);this._4887=b};e.get_BlueGamma=
function(){return this._9483};e.set_BlueGamma=function(b){a(b);this._9483=b};e.get_Gamma=function(){return(this._165+this._4887+this._9483)/3};e.set_Gamma=function(b){a(b);this._9483=this._4887=this._165=b};e.getParams=function(){var b=d.getParams.call(this);b.redGamma=this._165;b.greenGamma=this._4887;b.blueGamma=this._9483;return b};e.checkCommandParams=function(b){return d.checkCommandParams.call(this,b)&&(1!==this._165||1!==this._4887||1!==this._9483)}};b.extend(r,n);var u=function(){var a=u.superclass;
a.constructor.call(this);this._8213=this._3615=this._4518=0;this._8967([1,2,4,8,9,16,24,32,33,48,64]);var d=u.prototype;d.get_ActionName=function(){return"ChangeHSL"};d.get_Hue=function(){return this._4518};d.set_Hue=function(a){a=parseInt(a);b.pv.n(a);-180>a&&(a=-180);180<a&&(a=180);this._4518=a};d.get_Saturation=function(){return this._3615};d.set_Saturation=function(a){a=parseInt(a);b.pv.n(a);-100>a&&(a=-100);100<a&&(a=100);this._3615=a};d.get_Luminance=function(){return this._8213};d.set_Luminance=
function(a){a=parseInt(a);b.pv.n(a);-100>a&&(a=-100);100<a&&(a=100);this._8213=a};d.getParams=function(){var b=a.getParams.call(this);b.hue=this._4518;b.saturation=this._3615;b.luminance=this._8213;return b};d.checkCommandParams=function(b){return a.checkCommandParams.call(this,b)&&(0!==this._4518||0!==this._3615||0!==this._8213)}};b.extend(u,n);var D=function(){var a=D.superclass;a.constructor.call(this);this._5575="rgba(0,0,0,1)";this._9597=new s.WebBlendingModeEnumJS(1);this._8967([1,2,4,8,9,24,
32,33]);var d=D.prototype;d.get_ActionName=function(){return"ColorBlend"};d.get_BlendColor=function(){return this._5575};d.set_BlendColor=function(a){b.pv.s(a);this._5575=a};d.get_BlendingMode=function(){return this._9597};d.set_BlendingMode=function(a){this._9597=b.pv.e(a,s.WebBlendingModeEnumJS)};d.getParams=function(){var b=a.getParams.call(this);b.blendColor=this._5575;b.blendingMode=this._9597.valueOf();return b}};b.extend(D,n);var F=function(){function a(d,e){7!==e.newValue.valueOf()&&b.pv.te("Unsupported color type.")}
var d=F.superclass;d.constructor.call(this);var f=new e;f.set_Type(7);f._8204=65535;f._4403=65535;f._5169=65535;f._6832=65535;$(f._5988).on("_6159",a);this._5575=f;this._9597=new s.WebBlendingModeEnumJS(1);this._8967([48,64]);f=F.prototype;f.get_ActionName=function(){return"ColorBlend16"};f.get_BlendColor=function(){return this._5575};f.set_BlendColor=function(d){b.pv.c(d,e);7!==d._6831.valueOf()&&b.pv.te("Unsupported color type.");$(this._5575._5988).off();this._5575=d;$(d._5988).on("_6159",a)};
f.get_BlendingMode=function(){return this._9597};f.set_BlendingMode=function(a){this._9597=b.pv.e(a,s.WebBlendingModeEnumJS)};f.getParams=function(){var b=d.getParams.call(this);b.blendColor=this._5575.getParams();b.blendingMode=this._9597.valueOf();return b}};b.extend(F,n);var B=function(){var a=B.superclass;a.constructor.call(this);this._7342=new s.WebDesaturateMethodEnumJS(2);this._8967([1,2,4,8,9,16,24,32,33,48,64]);var d=B.prototype;d.get_ActionName=function(){return"Desaturate"};d.get_DesaturateMethod=
function(){return this._7342};d.set_DesaturateMethod=function(a){this._7342=b.pv.e(a,s.WebDesaturateMethodEnumJS)};d.getParams=function(){var b=a.getParams.call(this);b.desaturateMethod=this._7342.valueOf();return b}};b.extend(B,n);var H=function(){H.superclass.constructor.call(this);this._8967([8,33,64]);H.prototype.get_ActionName=function(){return"GetAlphaChannelMask"}};b.extend(H,n);var I=function(){I.superclass.constructor.call(this);this._8967([1,2,4,8,9,16,24,32,33,48,64]);I.prototype.get_ActionName=
function(){return"Halftone"}};b.extend(I,f);var K=function(){K.superclass.constructor.call(this);this._8967([1,2,4,8,9,16,24,32,33,48,64]);K.prototype.get_ActionName=function(){return"Invert"}};b.extend(K,n);var E=function(){var a=E.superclass;a.constructor.call(this);this._2954=new d;this._4342=new d;this._4232=new d;this._8967([1,2,4,8,9,16,24,32,33,48,64]);var e=E.prototype;e.get_ActionName=function(){return"Levels"};e.get_RedChannelSettings=function(){return this._2954};e.set_RedChannelSettings=
function(a){b.pv.c(a,d);this._2954=a};e.get_GreenChannelSettings=function(){return this._4342};e.set_GreenChannelSettings=function(a){b.pv.c(a,d);this._4342=a};e.get_BlueChannelSettings=function(){return this._4232};e.set_BlueChannelSettings=function(a){b.pv.c(a,d);this._4232=a};e.getParams=function(){var b=a.getParams.call(this);b.redChannelSettings=this._2954.getParams();b.greenChannelSettings=this._4342.getParams();b.blueChannelSettings=this._4232.getParams();return b}};b.extend(E,n);var J=function(){var a=
J.superclass;a.constructor.call(this);this._7899=6;this._8967([9,16,24,32,33,48,64]);var d=J.prototype;d.get_ActionName=function(){return"Posterize"};d.get_ColorCount=function(){return this._7899};d.set_ColorCount=function(a){a=parseInt(a);b.pv.n(a);2>a&&(a=2);256<a&&(a=256);this._7899=a};d.getParams=function(){var b=a.getParams.call(this);b.colorCount=this._7899;return b}};b.extend(J,f);var T=function(){function a(d){b.pv.n(d);0>d&&b.pv.te("Gamma value cannot be less than 0.")}var d=T.superclass;
d.constructor.call(this);this._1233=256;this._4717=[];this._714=[];this._7413=[];this._8967([2,1,4,8,9,24,32,33]);var e=T.prototype;e.get_ActionName=function(){return"RemapColors"};e.get_RedMap=function(){return this._4717.slice(0)};e.set_RedMap=function(a){this._2658(a);this._4717=a.slice(0)};e.get_GreenMap=function(){return this._714.slice(0)};e.set_GreenMap=function(a){this._2658(a);this._714=a.slice(0)};e.get_BlueMap=function(){return this._7413.slice(0)};e.set_BlueMap=function(a){this._2658(a);
this._7413=a.slice(0)};e.setGamma=function(b){a(b);b=this._7202(b);this._4717=b.slice(0);this._714=b.slice(0);this._7413=b.slice(0)};e.setRedGamma=function(b){a(b);this._4717=this._7202(b)};e.setGreenGamma=function(b){a(b);this._714=this._7202(b)};e.setBlueGamma=function(b){a(b);this._7413=this._7202(b)};e.getParams=function(){var a=d.getParams.call(this);a.redMap=this._4717;a.greenMap=this._714;a.blueMap=this._7413;return a};e._7202=function(a){for(var b=[],d=this._1233-1,e=0;e<=d;++e){var f=Math.round(d*
Math.pow(e/d,1/a));0===a&&e===d&&(f=d);b[e]=f}return b};e._2658=function(a){var d=this._1233-1;b.pv.ad(a,function(a){b.pv.n(a);(0>a||a>d)&&b.pv.toe()});a.length!==this._1233&&b.pv.te("Color map must contain "+this._1233+" elements.")};this.setGamma(1)};b.extend(T,n);var L=function(){function a(d){b.pv.n(d);0>d&&b.pv.te("Gamma value cannot be less than 0.")}var d=T.superclass;d.constructor.call(this);this._1233=65536;this._4717=[];this._714=[];this._7413=[];this._8967([16,48,64]);var e=L.prototype;
L.prototype.get_ActionName=function(){return"RemapColors16"};e.get_RedMap=function(){return this._4717.slice(0)};e.set_RedMap=function(a){this._2658(a);this._4717=a.slice(0)};e.get_GreenMap=function(){return this._714.slice(0)};e.set_GreenMap=function(a){this._2658(a);this._714=a.slice(0)};e.get_BlueMap=function(){return this._7413.slice(0)};e.set_BlueMap=function(a){this._2658(a);this._7413=a.slice(0)};e.setGamma=function(b){a(b);b=this._7202(b);this._4717=b.slice(0);this._714=b.slice(0);this._7413=
b.slice(0)};e.setRedGamma=function(b){a(b);this._4717=this._7202(b)};e.setGreenGamma=function(b){a(b);this._714=this._7202(b)};e.setBlueGamma=function(b){a(b);this._7413=this._7202(b)};e.getParams=function(){var a=d.getParams.call(this);a.redMap=this._4717;a.greenMap=this._714;a.blueMap=this._7413;return a};e._7202=function(a){for(var b=[],d=this._1233-1,e=0;e<=d;++e){var f=Math.round(d*Math.pow(e/d,1/a));0===a&&e===d&&(f=d);b[e]=f}return b};e._2658=function(a){var d=this._1233-1;b.pv.ad(a,function(a){b.pv.n(a);
(0>a||a>d)&&b.pv.toe()});a.length!==this._1233&&b.pv.te("Color map must contain "+this._1233+" elements.")};this.setGamma(1)};b.extend(L,n);var R=function(){R.superclass.constructor.call(this);this._4460=new T;var a=R.prototype;a.get_ActionName=function(){return"Curves"};a.get_SupportedNativePixelFormats=function(){return this._4460.get_SupportedNativePixelFormats()};a.get_RedMap=function(){return this._4460.get_RedMap()};a.set_RedMap=function(a){this._4460.set_RedMap(a)};a.get_GreenMap=function(){return this._4460.get_GreenMap()};
a.set_GreenMap=function(a){this._4460.set_GreenMap(a)};a.get_BlueMap=function(){return this._4460.get_BlueMap()};a.set_BlueMap=function(a){this._4460.set_BlueMap(a)};a.getParams=function(){this._4460._113=this._113;return this._4460.getParams()}};b.extend(R,n);var P=function(){P.superclass.constructor.call(this);this._4460=new L;var a=P.prototype;P.prototype.get_ActionName=function(){return"Curves16"};a.get_SupportedNativePixelFormats=function(){return this._4460.get_SupportedNativePixelFormats()};
a.get_RedMap=function(){return this._4460.get_RedMap()};a.set_RedMap=function(a){this._4460.set_RedMap(a)};a.get_GreenMap=function(){return this._4460.get_GreenMap()};a.set_GreenMap=function(a){this._4460.set_GreenMap(a)};a.get_BlueMap=function(){return this._4460.get_BlueMap()};a.set_BlueMap=function(a){this._4460.set_BlueMap(a)};a.getParams=function(){this._4460._113=this._113;return this._4460.getParams()}};b.extend(P,n);var ca=function(){var a=ca.superclass;a.constructor.call(this);this._1339=
new s.WebColorSpaceTypeEnumJS(2);this._6718=0;this._8418="rgba(255,255,255,1)";this._6989="rgba(0,0,0,1)";this._8967([1,2,4,8,9,16,24,32,33,48,64]);var d=ca.prototype;d.get_ActionName=function(){return"ReplaceColor"};d.get_ColorSpace=function(){return this._1339};d.set_ColorSpace=function(a){a=b.pv.e(a,s.WebColorSpaceTypeEnumJS);var d=a.valueOf();2!==d&&5!==d&&b.pv.te("Supported values are sRGB and CIELab.");this._1339=a};d.get_MaximalColorDifference=function(){return this._6718};d.set_MaximalColorDifference=
function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);this._6718=a};d.get_NewColor=function(){return this._6989};d.set_NewColor=function(a){b.pv.s(a);this._6989=a};d.get_OldColor=function(){return this._8418};d.set_OldColor=function(a){b.pv.s(a);this._8418=a};d.getParams=function(){var b=a.getParams.call(this);b.colorSpace=this._1339.valueOf();b.maximalColorDifference=this._6718;b.oldColor=this._8418;b.newColor=this._6989;return b};d.checkCommandParams=function(b){return a.checkCommandParams.call(this,b)&&
this._8418!==this._6989}};b.extend(ca,n);var Y=function(){var a=Y.superclass;a.constructor.call(this);this._7080="";this._8967([1,2,4,8,9,14,15,16,24,32,33,48,64]);var d=Y.prototype;d.get_ActionName=function(){return"SetAlphaChannelMask"};d.get_Mask=function(){return this._7080};d.set_Mask=function(a){b.pv.s(a);this._7080=a};d.checkCommandParams=function(d){""===this._7080&&b.pv.te("Mask property cannot be empty.");return a.checkCommandParams.call(this,d)};d.getParams=function(){var b=a.getParams.call(this);
b.mask=this._7080;return b}};b.extend(Y,n);var S=function(){var a=S.superclass;a.constructor.call(this);this._1933=255;this._8967([1,2,4,8,33,64]);var d=S.prototype;d.get_ActionName=function(){return"SetAlphaChannelValue"};d.get_AlphaValue=function(){return this._1933};d.set_AlphaValue=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);255<a&&(a=255);this._1933=a};d.getParams=function(){var b=a.getParams.call(this);b.alphaValue=this._1933;return b}};b.extend(S,n);var U=function(){var a=U.superclass;a.constructor.call(this);
this._9822=new b.WebPixelFormatEnumJS(0);this._8967([1,2,4,8,9,14,15,16,24,32,33,48,64]);var d=U.prototype;d.get_ActionName=function(){return"ChangePixelFormat"};d.get_PixelFormat=function(){return this._9822};d.set_PixelFormat=function(a){this._9822=b.pv.e(a,b.WebPixelFormatEnumJS)};d.getParams=function(){var b=a.getParams.call(this);b.pixelFormat=this._9822.valueOf();return b}};b.extend(U,f);var ea=function(){var a=ea.superclass;a.constructor.call(this);this._9822=new b.WebPixelFormatEnumJS(24);
this._6631=!1;this._8967([1,2,4,8,9,14,15,16,24,32,33,48,64]);var d=ea.prototype;d.get_ActionName=function(){return"ChangePixelFormatToBgr"};d.set_PixelFormat=function(a){a=b.pv.e(a,b.WebPixelFormatEnumJS);var d=a.valueOf();14!==d&&15!==d&&24!==d&&32!==d&&33!==d&&48!==d&&64!==d&&b.pv.te("Unsupported pixel format.");this._9822=a};d.get_KeepAlphaChannel=function(){return this._6631};d.set_KeepAlphaChannel=function(a){b.pv.b(a);this._6631=a};d.getParams=function(){var b=a.getParams.call(this);b.keepAlphaChannel=
this._6631;return b}};b.extend(ea,U);var G=function(){G.superclass.constructor.call(this);this._8967([1,2,4,8,9,14,15,16,24,32,33,48,64]);G.prototype.get_ActionName=function(){return"ChangePixelFormatToBlackWhite"}};b.extend(G,l);var W=function(){W.superclass.constructor.call(this);this._9822=new b.WebPixelFormatEnumJS(9);this._8967([1,2,4,8,9,14,15,16,24,32,33,48,64]);var a=W.prototype;a.get_ActionName=function(){return"ChangePixelFormatToGrayscale"};a.set_PixelFormat=function(a){a=b.pv.e(a,b.WebPixelFormatEnumJS);
var d=a.valueOf();9!==d&&16!==d&&b.pv.te("Unsupported pixel format.");this._9822=a}};b.extend(W,U);var Z=function(){var a=Z.superclass;a.constructor.call(this);this._9822=new b.WebPixelFormatEnumJS(8);this._5212=new s.WebPaletteTypeJS(0);this._4423=new s.WebColorQuantizationMethodEnumJS(3);this._6240=!1;this._8967([1,2,4,8,9,14,15,16,24,32,33,48,64]);var d=Z.prototype;d.get_ActionName=function(){return"ChangePixelFormatToPalette"};d.set_PixelFormat=function(a){a=b.pv.e(a,b.WebPixelFormatEnumJS);var d=
a.valueOf();1!==d&&4!==d&&8!==d&&b.pv.te("Unsupported pixel format.");this._9822=a};d.get_Transparency=function(){return this._6240};d.set_Transparency=function(a){b.pv.b(a);this._6240=a};d.get_PaletteType=function(){return this._5212};d.set_PaletteType=function(a){this._5212=b.pv.e(a,s.WebPaletteTypeJS)};d.get_QuantizationMethod=function(){return this._4423};d.set_QuantizationMethod=function(a){this._4423=b.pv.e(a,s.WebColorQuantizationMethodEnumJS)};d.getParams=function(){var b=a.getParams.call(this);
b.transparency=this._6240;b.paletteType=this._5212.valueOf();b.quantizationMethod=this._4423.valueOf();return b}};b.extend(Z,U);var Q=function(){var a=Q.superclass;a.constructor.call(this);this._2790="rgba(0,0,0,1)";this._8967([1,2,4,8,9,14,15,16,24,32,33,48,64]);var d=Q.prototype;d.get_ActionName=function(){return"Clear"};d.get_Color=function(){return this._2790};d.set_Color=function(a){b.pv.s(a);this._2790=a};d.getParams=function(){var b=a.getParams.call(this);b.color=this._2790;return b}};b.extend(Q,
n);var ia=function(){ia.superclass.constructor.call(this);this._8967([1,2,4,8,9,14,15,16,24,32,33,48,64]);var a=ia.prototype;a.get_ActionName=function(){return"Crop"};a.checkCommandParams=function(a){a=a.get_Size();if(void 0==a)return!0;a.x=0;a.y=0;var b=t._6002._4366(a,this._113);return t._6002._1672(b)||t._6002._5276(b,a)?!1:!0}};b.extend(ia,n);var M=function(){var a=M.superclass;a.constructor.call(this);this._3422=new b.WebInterpolationModeEnumJS(7);this._7178=this._8560=96;this._8967([1,2,4,8,
9,14,15,16,24,32,33,48,64]);var d=M.prototype;d.get_ActionName=function(){return"Resample"};d.get_InterpolationMode=function(){return this._3422};d.set_InterpolationMode=function(a){this._3422=b.pv.e(a,b.WebInterpolationModeEnumJS)};d.get_HorizontalResolution=function(){return this._8560};d.set_HorizontalResolution=function(a){b.pv.n(a);1>a&&(a=1);12800<a&&(a=12800);this._8560=a};d.get_VerticalResolution=function(){return this._7178};d.set_VerticalResolution=function(a){b.pv.n(a);1>a&&(a=1);12800<
a&&(a=12800);this._7178=a};d.getParams=function(){var b=a.getParams.call(this);b.interpolationMode=this._3422.valueOf();b.horizontalResolution=this._8560;b.verticalResolution=this._7178;return b}};b.extend(M,f);var fa=function(){var a=fa.superclass;a.constructor.call(this);this._3994={width:100,height:100};this._3422=new b.WebInterpolationModeEnumJS(7);this._6481=this._7082=!0;this._7482=this._7636([8,9,16,24,32,33,48,64]);this._2766=this._7636([9,16,24,32,33,48,64]);this._8407=this._7636([16,33,
48,64]);var d=fa.prototype;d.get_ActionName=function(){return"Resize"};d.get_SupportedNativePixelFormats=function(){var a;switch(this._3422.valueOf()){case 5:a=this._7482;break;case 3:a=this._2766;break;default:a=this._8407}return[].concat(a)};d.get_Size=function(){return $.extend(!0,{},this._3994)};d.set_Size=function(a,d){var e;e=void 0==d?{width:parseInt(a.width),height:parseInt(a.height)}:{width:parseInt(a),height:parseInt(d)};b.pv.sz(e);0>=e.width&&(e.width=1);65535<e.width&&(e.width=65535);
0>=e.height&&(e.height=1);65535<e.height&&(e.height=65535);this._3994=e};d.get_InterpolationMode=function(){return this._3422};d.set_InterpolationMode=function(a){this._3422=b.pv.e(a,b.WebInterpolationModeEnumJS)};d.getParams=function(){var b=a.getParams.call(this);b.interpolationMode=this._3422.valueOf();b.width=this._3994.width;b.height=this._3994.height;return b};d.checkCommandParams=function(a){a=a.get_Size();if(void 0==a)return!0;var b=this._113;return t._6002._1672(b)?this._3994.width!==a.width||
this._3994.height!==a.height:0===b.x&&0===b.y&&b.width===a.width&&b.height===a.height?!1:!0}};b.extend(fa,n);var ga=function(){var a=ga.superclass;a.constructor.call(this);this._8689="rgba(0,0,0,1)";this._2564={width:100,height:100};this._8166={x:0,y:0};this._8967([1,2,4,8,9,14,15,16,24,32,33,48,64]);var d=ga.prototype;d.get_ActionName=function(){return"ResizeCanvas"};d.get_CanvasColor=function(){return this._8689};d.set_CanvasColor=function(a){b.pv.s(a);this._8689=a};d.get_CanvasSize=function(){return $.extend(!0,
{},this._2564)};d.set_CanvasSize=function(a,d){var e;e=void 0==d?{width:parseInt(a.width),height:parseInt(a.height)}:{width:parseInt(a),height:parseInt(d)};b.pv.sz(e);0>=e.width&&(e.width=1);65535<e.width&&(e.width=65535);0>=e.height&&(e.height=1);65535<e.height&&(e.height=65535);this._2564=e};d.get_ImagePosition=function(){return $.extend(!0,{},this._8166)};d.set_ImagePosition=function(a,d){var e;e=void 0==d?{x:parseInt(a.x),y:parseInt(a.y)}:{x:parseInt(a),y:parseInt(d)};b.pv.p(e);this._8166=e};
d.getParams=function(){var b=a.getParams.call(this);b.imagePosition=this._8166;b.width=this._2564.width;b.height=this._2564.height;b.canvasColor=this._8689;return b}};b.extend(ga,f);var ja=function(){var a=ja.superclass;a.constructor.call(this);this._568=!1;this._5319="";this._6240=!1;this._704="rgba(255,255,255,0)";this._8967([1,2,4,8,9,14,15,16,24,32,33,48,64]);var d=ja.prototype;d.get_ActionName=function(){return"Overlay"};d.get_OverlayImage=function(){return this._5319};d.set_OverlayImage=function(a){b.pv.s(a);
this._5319=a};d.get_HasTransparentColor=function(){return this._568};d.set_HasTransparentColor=function(a){b.pv.b(a);this._568=a};d.get_Transparency=function(){return this._6240};d.set_Transparency=function(a){b.pv.b(a);this._6240=a};d.get_TransparentColor=function(){return this._704};d.set_TransparentColor=function(a){b.pv.s(a);this._704=a};d.checkCommandParams=function(d){""===this._5319&&b.pv.te("OverlayImage property cannot be empty.");return a.checkCommandParams.call(this,d)};d.getParams=function(){var b=
a.getParams.call(this);b.hasTransparentColor=this._568;b.overlayImage=this._5319;b.transparency=this._6240;b.transparentColor=this._704;return b}};b.extend(ja,n);var m=function(){var a=m.superclass;a.constructor.call(this);this._2501=this._5319="";this._8967([1,2,4,8,9,16,24,32,33,48,64]);var d=m.prototype;d.get_ActionName=function(){return"OverlayMasked"};d.get_OverlayImage=function(){return this._5319};d.set_OverlayImage=function(a){b.pv.s(a);this._5319=a};d.get_MaskImage=function(){return this._2501};
d.set_MaskImage=function(a){b.pv.s(a);this._2501=a};d.checkCommandParams=function(d){""===this._5319&&b.pv.te("OverlayImage property cannot be empty.");""===this._2501&&b.pv.te("MaskImage property cannot be empty.");return a.checkCommandParams.call(this,d)};d.getParams=function(){var b=a.getParams.call(this);b.overlayImage=this._5319;b.maskImage=this._2501;return b}};b.extend(m,n);var N=function(){var a=N.superclass;a.constructor.call(this);this._5319="";this._9597=new s.WebBlendingModeEnumJS(1);
this._8967([9,16,24,32,33,48,64]);var d=N.prototype;d.get_ActionName=function(){return"OverlayWithBlending"};d.get_OverlayImage=function(){return this._5319};d.set_OverlayImage=function(a){b.pv.s(a);this._5319=a};d.get_BlendingMode=function(){return this._9597};d.set_BlendingMode=function(a){this._9597=b.pv.e(a,s.WebBlendingModeEnumJS)};d.checkCommandParams=function(d){""===this._5319&&b.pv.te("OverlayImage property cannot be empty.");return a.checkCommandParams.call(this,d)};d.getParams=function(){var b=
a.getParams.call(this);b.overlayImage=this._5319;b.blendingMode=this._9597.valueOf();return b}};b.extend(N,n);var X=function(){var a=X.superclass;a.constructor.call(this);this._2790=new e;this._6081=[];this._8967([2,9,24,32,33]);var d=X.prototype;d.get_ActionName=function(){return"FillRectangle"};d.get_Color=function(){return this._2790};d.set_Color=function(a){b.pv.c(a,e);this._2790=a};d.get_Rectangles=function(){for(var a=[],b=0;b<this._6081.length;b++)a[b]={x:this._6081[b].x,y:this._6081[b].y,
width:this._6081[b].width,height:this._6081[b].height};return a};d.set_Rectangles=function(a){b.pv.ad(a,b.pv.r);this._6081=[];for(var d=0;d<a.length;d++)this._6081[d]={x:a[d].x,y:a[d].y,width:a[d].width,height:a[d].height}};d.getParams=function(){var b=a.getParams.call(this);b.rectangles=this._6081;b.color=this._2790.getParams();return b};d.checkCommandParams=function(a){return 0!==this._6081.length}};b.extend(X,f);var ba=function(){var a=ba.superclass;a.constructor.call(this);this._67="";this._8635=
new s.WebImageCompareOperatorEnumJS(0);this._4171;this._8967([1,2,4,8,9,14,15,16,24,32,33,48,64]);var d=ba.prototype;d.get_ActionName=function(){return"ImageComparison"};d.get_Image=function(){return this._67};d.set_Image=function(a){b.pv.s(a);this._67=a};d.get_CompareChannelIndexes=function(){var a=this._4171;return void 0!=a?[].concat(a):a};d.set_CompareChannelIndexes=function(a){void 0!=a&&b.pv.ad(a,b.pv.n);this._4171=a};d.get_CompareOperator=function(){return this._8635};d.set_CompareOperator=
function(a){this._8635=b.pv.e(a,s.WebImageCompareOperatorEnumJS)};d.getParams=function(){var b=a.getParams.call(this);b.image=this._67;b.compareOperator=this._8635.valueOf();b.compareChannelIndexes=this._4171;return b};d.checkCommandParams=function(d){""===this._67&&b.pv.te("Image property cannot be empty.");return a.checkCommandParams.call(this,d)}};b.extend(ba,f);var da=function(){function a(d,e,f,h){d=void 0==e?{x:d.x,y:d.y,width:d.width,height:d.height}:{x:d,y:e,width:f,height:h};b.pv.r(d);0>
d.width&&(d.width=0);0>d.height&&(d.height=0);return d}var d=da.superclass;d.constructor.call(this);this._5319="";this._2841=t._6002._3358();this._1799=t._6002._3358();this._3422=new b.WebInterpolationModeEnumJS(6);this._332="rgba(0,0,0,0)";this._8967([24,32,33]);var e=da.prototype;e.get_ActionName=function(){return"DrawImage"};e.get_OverlayImage=function(){return this._5319};e.set_OverlayImage=function(a){b.pv.s(a);this._5319=a};e.get_SourceRect=function(){return $.extend(!0,{},this._2841)};e.set_SourceRect=
function(b,d,e,f){this._2841=a(b,d,e,f)};e.get_DestRect=function(){return $.extend(!0,{},this._1799)};e.set_DestRect=function(b,d,e,f){this._1799=a(b,d,e,f)};e.get_InterpolationMode=function(){return this._3422};e.set_InterpolationMode=function(a){this._3422=b.pv.e(a,b.WebInterpolationModeEnumJS)};e.get_BackgroundColor=function(){return this._332};e.set_BackgroundColor=function(a){b.pv.s(a);this._332=a};e.checkCommandParams=function(a){""===this._5319&&b.pv.te("OverlayImage property cannot be empty.");
return d.checkCommandParams.call(this,a)};e.getParams=function(){var a=d.getParams.call(this);a.overlayImage=this._5319;a.sourceRect=this._2841;a.destRect=this._1799;a.interpolationMode=this._3422.valueOf();a.backgroundColor=this._332;return a}};b.extend(da,f);var ua=function(){var a=ua.superclass;a.constructor.call(this);this._8967([1,2,4,8,9,16,24,32,33,48,64]);var b=ua.prototype;b.get_ActionName=function(){return"GetBackgroundColor"};b.execute=function(b,d,e,f){return a.execute.call(this,b,d,e,
f)}};b.extend(ua,k);var ka=function(){var a=ka.superclass;a.constructor.call(this);this._8967([1,2,4,8,9,16,24,32,33,48,64]);var b=ka.prototype;b.get_ActionName=function(){return"GetBorderColor"};b.execute=function(b,d,e,f){return a.execute.call(this,b,d,e,f)}};b.extend(ka,k);var q=function(){var a=q.superclass;a.constructor.call(this);this._8135=this._2403=0;this._8967([1,2,4,8,9,16,24,32,33,48,64]);var d=q.prototype;d.get_ActionName=function(){return"GetColorCount"};d.get_MaxColorCount=function(){return this._2403};
d.set_MaxColorCount=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);this._2403=a};d.get_MaxInaccuracy=function(){return this._8135};d.set_MaxInaccuracy=function(a){b.pv.n(a);0>a&&(a=0);442<a&&(a=442);this._8135=a};d.getParams=function(){var b=a.getParams.call(this);b.maxColorCount=this._2403;b.maxInaccuracy=this._8135;return b};d.execute=function(b,d,e,f){return a.execute.call(this,b,d,e,f)}};b.extend(q,v);var V=function(){var a=V.superclass;a.constructor.call(this);this._8454=new s.WebHistogramTypeEnumJS(15);
this._8967([1,2,4,8,9,16,24,32,33,48,64]);var d=V.prototype;d.get_ActionName=function(){return"GetHistogram"};d.get_HistogramType=function(){return this._8454};d.set_HistogramType=function(a){this._8454=b.pv.e(a,s.WebHistogramTypeEnumJS)};d.getParams=function(){var b=a.getParams.call(this);b.histogramType=this._8454.valueOf();return b};d.execute=function(b,d,e,f){return a.execute.call(this,b,d,e,f)}};b.extend(V,v);var w=function(){var a=w.superclass;a.constructor.call(this);this._8967([1,2,4,8,9,
14,15,16,24,32,33,48,64]);var b=w.prototype;b.get_ActionName=function(){return"GetThreshold"};b.execute=function(b,d,e,f){return a.execute.call(this,b,d,e,f)}};b.extend(w,k);var z=function(){var a=z.superclass;a.constructor.call(this);this._1152=.01;this._8967([1,2,4,8,9,16,24,32,33,48,64]);var d=z.prototype;d.get_ActionName=function(){return"IsImageBlank"};d.get_MaxNoiseLevel=function(){return this._1152};d.set_MaxNoiseLevel=function(a){b.pv.n(a);0>a&&(a=0);1<a&&(a=1);this._1152=a};d.getParams=function(){return{maxNoiseLevel:this._1152}};
d.execute=function(b,d,e,f){return a.execute.call(this,b,d,e,f)}};b.extend(z,k);var y=function(){var a=y.superclass;a.constructor.call(this);this._3356=!0;this._2790=new e;this._8967([1,2,4,8,9,16,24,32,33,48,64]);var d=y.prototype;d.get_ActionName=function(){return"HasCertainColor"};d.get_ConsiderAlphaChannel=function(){return this._3356};d.set_ConsiderAlphaChannel=function(a){b.pv.b(a);this._3356=a};d.get_Color=function(){return this._2790};d.set_Color=function(a){b.pv.c(a,e);this._2790=a};d.getParams=
function(){var b=a.getParams.call(this);b.considerAlphaChannel=this._3356;b.color=this._2790.getParams();return b};d.execute=function(b,d,e,f){return a.execute.call(this,b,d,e,f)}};b.extend(y,k);var la=function(){var a=la.superclass;a.constructor.call(this);this._8967([1,2,4,8,9,24,32,33]);var b=la.prototype;b.get_ActionName=function(){return"GetUniqueColor"};b.execute=function(b,d,e,f){return a.execute.call(this,b,d,e,f)}};b.extend(la,v);var ma=function(){var a=ma.superclass;a.constructor.call(this);
this._8135=0;this._8967([8,9,24]);var d=ma.prototype;d.get_ActionName=function(){return"IsImageBlackWhite"};d.get_MaxInaccuracy=function(){return this._8135};d.set_MaxInaccuracy=function(a){b.pv.n(a);0>a&&(a=0);442<a&&(a=442);this._8135=a};d.getParams=function(){return{maxInaccuracy:this._8135}};d.execute=function(b,d,e,f){return a.execute.call(this,b,d,e,f)}};b.extend(ma,k);var na=function(){var a=na.superclass;a.constructor.call(this);this._4552=this._8135=0;this._8967([1,8,24,33]);var d=na.prototype;
d.get_ActionName=function(){return"IsImageGrayscale"};d.get_MaxPercentOfColorPixels=function(){return this._4552};d.set_MaxPercentOfColorPixels=function(a){b.pv.n(a);0>a&&(a=0);1<a&&(a=1);this._4552=a};d.get_MaxInaccuracy=function(){return this._8135};d.set_MaxInaccuracy=function(a){b.pv.n(a);0>a&&(a=0);442<a&&(a=442);this._8135=a};d.getParams=function(){var b=a.getParams.call(this);b.maxInaccuracy=this._8135;b.maxPercentOfColorPixels=this._4552;return b};d.execute=function(b,d,e,f){return a.execute.call(this,
b,d,e,f)}};b.extend(na,v);var oa=function(){var a=oa.superclass;a.constructor.call(this);this._4848=this._5205=this._417=this._238=this._7216=!0;this._8135=0;this._8967([8,9,24]);var d=oa.prototype;d.get_ActionName=function(){return"GetImageColorDepth"};d.get_DetectBlackWhite=function(){return this._7216};d.set_DetectBlackWhite=function(a){b.pv.b(a);this._7216=a};d.get_DetectGrayscale=function(){return this._238};d.set_DetectGrayscale=function(a){b.pv.b(a);this._238=a};d.get_DetectIndexed1=function(){return this._417};
d.set_DetectIndexed1=function(a){b.pv.b(a);this._417=a};d.get_DetectIndexed4=function(){return this._5205};d.set_DetectIndexed4=function(a){b.pv.b(a);this._5205=a};d.get_DetectIndexed8=function(){return this._4848};d.set_DetectIndexed8=function(a){b.pv.b(a);this._4848=a};d.get_MaxInaccuracy=function(){return this._8135};d.set_MaxInaccuracy=function(a){b.pv.n(a);0>a&&(a=0);442<a&&(a=442);this._8135=a};d.getParams=function(){var b=a.getParams.call(this);b.detectBlackWhite=this._7216;b.detectGrayscale=
this._238;b.detectIndexed1=this._417;b.detectIndexed4=this._5205;b.detectIndexed8=this._4848;b.maxInaccuracy=this._8135;return b};d.execute=function(b,d,e,f){return a.execute.call(this,b,d,e,f)};d._3071=function(d,e,f,h){a._3071.call(this,d,function(a){var d;try{d=b.pv.e(a.pixelFormat,b.WebPixelFormatEnumJS)}catch(f){d=new b.WebPixelFormatEnumJS(0)}a.pixelFormat=d;e&&e(a)},f,h)}};b.extend(oa,k);var pa=function(){function a(b){b._3849.get_ActionName=void 0;b._3849.get_ChangeSource=void 0;b._3849.set_ChangeSource=
void 0}var d=pa.superclass;d.constructor.call(this);this._1594=5;this._3224=new s.WebBorderRemovalColorTypeEnumJS(0);this._6149=0;this._3099=new s.WebImageSideEnumJS(15);this._3849=new l;a(this);this._8967([1,2,4,8,9,16,24,32,33,48,64]);var e=pa.prototype;e.get_ActionName=function(){return"GetBorderRect"};e.get_BorderSize=function(){return this._1594};e.set_BorderSize=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);1E3<a&&(a=1E3);this._1594=a};e.get_BorderColorType=function(){return this._3224};e.set_BorderColorType=
function(a){this._3224=b.pv.e(a,s.WebBorderRemovalColorTypeEnumJS)};e.get_MaxBorderNoise=function(){return this._6149};e.set_MaxBorderNoise=function(a){b.pv.n(a);0>a&&(a=0);100<a&&(a=100);this._6149=a};e.get_Side=function(){return this._3099};e.set_Side=function(a){this._3099=b.pv.e(a,s.WebImageSideEnumJS)};e.get_Binarization=function(){return this._3849};e.set_Binarization=function(d){b.pv.c(d,l);this._3849=d;a(this)};e.getParams=function(){var a=d.getParams.call(this);a.borderSize=this._1594;a.borderColorType=
this._3224.valueOf();a.maxBorderNoise=this._6149;a.side=this._3099.valueOf();a.binarization=this._3849.getParams();delete a.binarization.changeSource;return a};e.execute=function(a,b,e,f){return d.execute.call(this,a,b,e,f)}};b.extend(pa,k);var qa=function(){var a=qa.superclass;a.constructor.call(this);this._4516=new s.WebRotateFlipTypeEnumJS(1);this._8967([1,2,4,8,9,14,15,16,24,32,33,48,64]);var d=qa.prototype;d.get_ActionName=function(){return"Flip"};d.get_RotateFlipType=function(){return this._4516};
d.set_RotateFlipType=function(a){this._4516=b.pv.e(a,s.WebRotateFlipTypeEnumJS)};d.getParams=function(){var b=a.getParams.call(this);b.rotateFlipType=this._4516.valueOf();return b};d.checkCommandParams=function(a){return 0!==this._4516.valueOf()}};b.extend(qa,f);var ra=function(){var a=ra.superclass;a.constructor.call(this);this._7256=0;this._3224=new s.WebBorderColorTypeEnumJS(0);this._8393="rgba(0,0,0,1)";this._9209=this._6481=this._7082=!0;this._8967([1,2,4,8,9,16,24,32,33,48,64]);var d=ra.prototype;
d.get_ActionName=function(){return"Rotate"};d.get_Angle=function(){return this._7256};d.set_Angle=function(a){b.pv.n(a);0>a&&(a=0);360<a&&(a=360);this._7256=a};d.get_BorderColorType=function(){return this._3224};d.set_BorderColorType=function(a){this._3224=b.pv.e(a,s.WebBorderColorTypeEnumJS)};d.get_BorderColor=function(){return this._8393};d.set_BorderColor=function(a){b.pv.s(a);this._8393=a};d.get_IsAntialiasingEnabled=function(){return this._9209};d.set_IsAntialiasingEnabled=function(a){b.pv.b(a);
this._9209=a};d.getParams=function(){var b=a.getParams.call(this);b.rotationAngle=this._7256;b.borderColorType=this._3224.valueOf();b.borderColor=this._8393;b.isAntialiasingEnabled=this._9209;return b};d.checkCommandParams=function(a){return 0!==this._7256}};b.extend(ra,f);var Da=function(){var a=Da.superclass;a.constructor.call(this);this._4580=0;this._8493="rgba(0,0,0,0)";this._9874=new s.WebImageProcessingDirectionEnumJS(1);this._8967([1,2,4,8,9,16,24,32,33,48,64]);var d=Da.prototype;d.get_ActionName=
function(){return"Skew"};d.get_Offset=function(){return this._4580};d.set_Offset=function(a){a=parseInt(a);b.pv.n(a);this._4580=a};d.get_BackColor=function(){return this._8493};d.set_BackColor=function(a){b.pv.s(a);this._8493=a};d.get_Direction=function(){return this._9874};d.set_Direction=function(a){a=b.pv.e(a,s.WebImageProcessingDirectionEnumJS);2<a.valueOf()&&b.pv.te("Direction cannot be horizontal and vertical.");this._9874=a};d.getParams=function(){var b=a.getParams.call(this);b.offset=this._4580;
b.backColor=this._8493;b.direction=this._9874.valueOf();return b};d.checkCommandParams=function(b){return a.checkCommandParams.call(this,b)&&0!==this._4580}};b.extend(Da,n);var Ea=function(){var a=Ea.superclass;a.constructor.call(this);this._332="rgba(0,0,0,0)";this._966=[];this._8967([8,9,16,24,32,33,48,64]);var d=Ea.prototype;d.get_ActionName=function(){return"QuadrilateralWarp"};d.get_BackgroundColor=function(){return this._332};d.set_BackgroundColor=function(a){b.pv.s(a);this._332=a};d.get_DestinationPoints=
function(){for(var a=[],b=0;b<this._966.length;b++)a[b]={x:this._966[b].x,y:this._966[b].y};return a};d.set_DestinationPoints=function(a){b.pv.ad(a,b.pv.p);3!==a.length&&4!==a.length&&b.pv.te("Array length is not equal 3 or 4.");a=[].concat(a);3==a.length&&a.push({x:a[2].x+(a[1].x-a[0].x),y:a[1].y+(a[2].y-a[0].y)});if(t._6002._8268(a[0],a[1],a[3],a[2])){this._966=[];for(var d=0;d<a.length;d++)this._966[d]={x:a[d].x,y:a[d].y}}else b.pv.te("The destination points are not convex.")};d.getParams=function(){var b=
a.getParams.call(this);b.backgroundColor=this._332;b.destinationPoints=this._966;return b};d.checkCommandParams=function(d){4!==this._966.length&&b.pv.te("DestinationPoints property has wrong value.");return a.checkCommandParams.call(this,d)}};b.extend(Ea,n);var Fa=function(){var a=Fa.superclass;a.constructor.call(this);this._8493="rgba(0,0,0,0)";this._3422=new b.WebInterpolationModeEnumJS(7);this._3998=t._6002._3358();this._6004=new t.WebMatrixJS;this._553=!0;this._8967([1,2,4,8,9,14,15,16,24,32,
33,48,64]);var d=Fa.prototype;d.get_ActionName=function(){return"MatrixTransform"};d.get_BackColor=function(){return this._8493};d.set_BackColor=function(a){b.pv.s(a);this._8493=a};d.get_CropRect=function(){return $.extend(!0,{},this._3998)};d.set_CropRect=function(a,d,e,f){a=void 0==d?{x:a.x,y:a.y,width:a.width,height:a.height}:{x:a,y:d,width:e,height:f};b.pv.r(a);0>a.x&&(a.x=0);0>a.y&&(a.y=0);0>a.width&&(a.width=0);0>a.height&&(a.height=0);this._3998=a};d.get_InterpolationMode=function(){return this._3422};
d.set_InterpolationMode=function(a){this._3422=b.pv.e(a,b.WebInterpolationModeEnumJS)};d.get_Matrix=function(){return this._6004};d.set_Matrix=function(a){b.pv.c(a,t.WebMatrixJS);this._6004=a};d.get_PreservePixelFormat=function(){return this._553};d.set_PreservePixelFormat=function(a){b.pv.b(a);this._553=a};d.getParams=function(){var b=a.getParams.call(this);b.backColor=this._8493;b.interpolationMode=this._3422.valueOf();b.cropRect=this._3998;b.matrix=this._6004._8273();b.preservePixelFormat=this._553;
return b};d.checkCommandParams=function(b){return a.checkCommandParams.call(this,b)&&!this._6004.compareMatrix(new t.WebMatrixJS)}};b.extend(Fa,f);var Ga=function(){var a=Ga.superclass;a.constructor.call(this);this._4678=new fa;this._7263=this._7013=1;this._6481=this._7082=!0;var d=Ga.prototype;d.get_ActionName=function(){return"ImageScaling"};d.get_SupportedNativePixelFormats=function(){return this._4678.get_SupportedNativePixelFormats()};d.get_ScaleX=function(){return this._7013};d.set_ScaleX=function(a){b.pv.n(a);
0>=a&&b.pv.toe();this._7013=a};d.get_ScaleY=function(){return this._7263};d.set_ScaleY=function(a){b.pv.n(a);0>=a&&b.pv.toe();this._7263=a};d.get_Scale=function(){return this._7013!==this._7263?-1:this._7013};d.set_Scale=function(a){b.pv.n(a);0>=a&&b.pv.toe();this._7263=this._7013=a};d.get_InterpolationMode=function(){return this._4678.get_InterpolationMode()};d.set_InterpolationMode=function(a){this._4678.set_InterpolationMode(a)};d.getParams=function(){var b=a.getParams.call(this);b.scaleX=this._7013;
b.scaleY=this._7263;b.interpolationMode=this._4678._3422.valueOf();return b}};b.extend(Ga,n);var aa=function(){var a=aa.superclass;a.constructor.call(this);this._767=new s.WebColorChannelEnumJS(7);var d=aa.prototype;d.get_ColorChannel=function(){return this._767};d.set_ColorChannel=function(a){this._767=b.pv.e(a,s.WebColorChannelEnumJS)};d.getParams=function(){var b=a.getParams.call(this);b.colorChannel=this._767.valueOf();return b}};b.extend(aa,n);var sa=function(){var a=sa.superclass;a.constructor.call(this);
this._767=new s.WebColorChannelEnumJS(7);this._6310=3;this._9874=new s.WebImageProcessingDirectionEnumJS(3);this._8967([9,24,33]);var d=sa.prototype;d.get_ColorChannel=function(){return this._767};d.set_ColorChannel=function(a){this._767=b.pv.e(a,s.WebColorChannelEnumJS)};d.get_WindowSize=function(){return this._6310};d.set_WindowSize=function(a){a=parseInt(a);b.pv.n(a);1>a&&(a=1);0===a%2&&b.pv.te("Value must be odd.");this._6310=a};d.get_Direction=function(){return this._9874};d.set_Direction=function(a){this._9874=
b.pv.e(a,s.WebImageProcessingDirectionEnumJS)};d.getParams=function(){var b=a.getParams.call(this);b.colorChannel=this._767.valueOf();b.windowSize=this._6310;b.direction=this._9874.valueOf();return b}};b.extend(sa,aa);var Ha=function(){Ha.superclass.constructor.call(this);Ha.prototype.get_ActionName=function(){return"Minimum"}};b.extend(Ha,sa);var Ia=function(){Ia.superclass.constructor.call(this);Ia.prototype.get_ActionName=function(){return"Maximum"}};b.extend(Ia,sa);var Ja=function(){Ja.superclass.constructor.call(this);
Ja.prototype.get_ActionName=function(){return"MidPoint"}};b.extend(Ja,sa);var Ka=function(){Ka.superclass.constructor.call(this);Ka.prototype.get_ActionName=function(){return"Mean"}};b.extend(Ka,sa);var La=function(){La.superclass.constructor.call(this);La.prototype.get_ActionName=function(){return"Median"}};b.extend(La,sa);var za=function(){var a=za.superclass;a.constructor.call(this);this._6310=3;this._9874=new s.WebImageProcessingDirectionEnumJS(1);this._8967([2,9,24,33]);var d=za.prototype;d.get_ActionName=
function(){return"Dilate"};d.get_WindowSize=function(){return this._6310};d.set_WindowSize=function(a){a=parseInt(a);b.pv.n(a);1>a&&(a=1);0===a%2&&b.pv.te("Value must be odd.");this._6310=a};d.get_Direction=function(){return this._9874};d.set_Direction=function(a){this._9874=b.pv.e(a,s.WebImageProcessingDirectionEnumJS)};d.getParams=function(){var b=a.getParams.call(this);b.windowSize=this._6310;b.direction=this._9874.valueOf();return b}};b.extend(za,n);var Ma=function(){Ma.superclass.constructor.call(this);
Ma.prototype.get_ActionName=function(){return"Erode"}};b.extend(Ma,za);var Na=function(){var a=Na.superclass;a.constructor.call(this);this._6310=5;this._8967([9,16,24,32,33,48,64]);var d=Na.prototype;d.get_ActionName=function(){return"Blur"};d.get_WindowSize=function(){return this._6310};d.set_WindowSize=function(a){a=parseInt(a);b.pv.n(a);1>a&&(a=1);255<a&&(a=255);0===a%2&&b.pv.te("Value must be odd.");this._6310=a};d.getParams=function(){var b=a.getParams.call(this);b.windowSize=this._6310;return b}};
b.extend(Na,aa);var Oa=function(){var a=Oa.superclass;a.constructor.call(this);this._6310=5;this._5399=!1;this._2083=.833;this._8967([9,16,24,32,33,48,64]);var d=Oa.prototype;d.get_ActionName=function(){return"GaussianBlur"};d.get_WindowSize=function(){return this._6310};d.set_WindowSize=function(a){a=parseInt(a);b.pv.n(a);3>a&&(a=3);513<a&&(a=513);0===a%2&&b.pv.te("Value must be odd.");this._6310=a};d.get_AutoCalculateSigma=function(){return this._5399};d.set_AutoCalculateSigma=function(a){b.pv.b(a);
this._5399=a};d.get_Sigma=function(){return this._2083};d.set_Sigma=function(a){b.pv.n(a);.6>a&&(a=.6);2.4<a&&(a=2.4);this._2083=a};d.getParams=function(){var b=a.getParams.call(this);b.windowSize=this._6310;b.autoCalculateSigma=this._5399;b.sigma=this._2083;return b}};b.extend(Oa,aa);var Pa=function(){Pa.superclass.constructor.call(this);this._8967([9,16,24,32,33,48,64]);Pa.prototype.get_ActionName=function(){return"EdgeDetection"}};b.extend(Pa,aa);var Qa=function(){var a=Qa.superclass;a.constructor.call(this);
this._5695=2;this._1877=45;this._8967([9,16,24,32,33,48,64]);var d=Qa.prototype;d.get_ActionName=function(){return"Emboss"};d.get_Depth=function(){return this._5695};d.set_Depth=function(a){a=parseInt(a);b.pv.n(a);1>a&&(a=1);10<a&&(a=10);this._5695=a};d.get_LightDirection=function(){return this._1877};d.set_LightDirection=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);360<a&&(a=360);this._1877=a};d.getParams=function(){var b=a.getParams.call(this);b.depth=this._5695;b.lightDirection=this._1877;return b}};
b.extend(Qa,aa);var Ra=function(){var a=Ra.superclass;a.constructor.call(this);this._6184=1;this._8967([9,16,24,32,33,48,64]);var d=Ra.prototype;d.get_ActionName=function(){return"Sharpen"};d.get_Amount=function(){return this._6184};d.set_Amount=function(a){a=parseInt(a);b.pv.n(a);1>a&&(a=1);10<a&&(a=10);this._6184=a};d.getParams=function(){var b=a.getParams.call(this);b.amount=this._6184;return b}};b.extend(Ra,aa);var Sa=function(){var a=Sa.superclass;a.constructor.call(this);this._5270=!1;this._7040=
!0;this._947=0;this._6743=!1;this._8751=100;this._6534=new s.WebNoiseTypeEnumJS(3);this._3807=this._8240=100;this._8967([1,2,4,8,9,16,24,32,33,48,64]);var d=Sa.prototype;d.get_ActionName=function(){return"AddNoise"};d.get_AutoNoiseGeneration=function(){return this._5270};d.set_AutoNoiseGeneration=function(a){b.pv.b(a);this._5270=a};d.get_AutoSeedPercentageGeneration=function(){return this._7040};d.set_AutoSeedPercentageGeneration=function(a){b.pv.b(a);this._7040=a};d.get_Mean=function(){return this._947};
d.set_Mean=function(a){b.pv.n(a);0>a&&(a=0);100<a&&(a=100);this._947=a};d.get_MonochromaticNoise=function(){return this._6743};d.set_MonochromaticNoise=function(a){b.pv.b(a);this._6743=a};d.get_NoisePercentage=function(){return this._8751};d.set_NoisePercentage=function(a){b.pv.n(a);0>a&&(a=0);100<a&&(a=100);this._8751=a};d.get_NoiseType=function(){return this._6534};d.set_NoiseType=function(a){this._6534=b.pv.e(a,s.WebNoiseTypeEnumJS)};d.get_SeedPercentage=function(){return this._8240};d.set_SeedPercentage=
function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);100<a&&(a=100);this._8240=a};d.get_Variance=function(){return this._3807};d.set_Variance=function(a){b.pv.n(a);-1E6>a&&(a=-1E6);1E6<a&&(a=1E6);this._3807=a};d.getParams=function(){var b=a.getParams.call(this);b.autoNoiseGeneration=this._5270;b.autoSeedPercentageGeneration=this._7040;b.mean=this._947;b.monochromaticNoise=this._6743;b.noisePercentage=this._8751;b.noiseType=this._6534.valueOf();b.seedPercentage=this._8240;b.variance=this._3807;return b}};
b.extend(Sa,aa);var Ta=function(){var a=Ta.superclass;a.constructor.call(this);this._1198=3;this._2811=80;this._4199=20;this._8967([9]);var d=Ta.prototype;d.get_ActionName=function(){return"CannyEdgeDetector"};d.get_BlurRadius=function(){return this._1198};d.set_BlurRadius=function(a){a=parseInt(a);b.pv.n(a);1>a&&(a=1);256<a&&(a=256);this._1198=a};d.get_LowThreshold=function(){return this._4199};d.set_LowThreshold=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);255<a&&(a=255);this._4199=a};d.get_HighThreshold=
function(){return this._2811};d.set_HighThreshold=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);255<a&&(a=255);this._2811=a};d.getParams=function(){var b=a.getParams.call(this);b.blurRadius=this._1198;b.highThreshold=this._2811;b.lowThreshold=this._4199;return b}};b.extend(Ta,n);var va=function(){var a=va.superclass;a.constructor.call(this);this._8673=this._10023=.05;this._8967([24,32,33,48,64]);var d=va.prototype;d.get_ActionName=function(){return"AutoColors"};d.get_LowLimit=function(){return this._10023};
d.set_LowLimit=function(a){b.pv.n(a);0>a&&(a=0);100<a&&(a=100);this._10023=a};d.get_HighLimit=function(){return this._8673};d.set_HighLimit=function(a){b.pv.n(a);0>a&&(a=0);100<a&&(a=100);this._8673=a};d.getParams=function(){var b=a.getParams.call(this);b.lowLimit=this._10023;b.highLimit=this._8673;return b}};b.extend(va,f);var Ua=function(){Ua.superclass.constructor.call(this);Ua.prototype.get_ActionName=function(){return"AutoContrast"}};b.extend(Ua,va);var Va=function(){Va.superclass.constructor.call(this);
Va.prototype.get_ActionName=function(){return"AutoLevels"}};b.extend(Va,va);var Wa=function(){var a=Wa.superclass;a.constructor.call(this);this._416=-25;this._7552=this._5828=25;this._1523=-25;this._7182=2;this._6262=15;this._8967([9,16,24,32,33,48,64]);var d=Wa.prototype;d.get_ActionName=function(){return"BevelEdge"};d.get_BottomBrightness=function(){return this._416};d.set_BottomBrightness=function(a){a=parseInt(a);b.pv.n(a);-100>a&&(a=-100);100<a&&(a=100);this._416=a};d.get_TopBrightness=function(){return this._5828};
d.set_TopBrightness=function(a){a=parseInt(a);b.pv.n(a);-100>a&&(a=-100);100<a&&(a=100);this._5828=a};d.get_LeftBrightness=function(){return this._7552};d.set_LeftBrightness=function(a){a=parseInt(a);b.pv.n(a);-100>a&&(a=-100);100<a&&(a=100);this._7552=a};d.get_RightBrightness=function(){return this._1523};d.set_RightBrightness=function(a){a=parseInt(a);b.pv.n(a);-100>a&&(a=-100);100<a&&(a=100);this._1523=a};d.get_Smoothness=function(){return this._7182};d.set_Smoothness=function(a){a=parseInt(a);
b.pv.n(a);0>a&&(a=0);256<a&&(a=256);this._7182=a};d.get_EdgeSize=function(){return this._6262};d.set_EdgeSize=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);this._6262=a};d.getParams=function(){var b=a.getParams.call(this);b.bottomBrightness=this._416;b.topBrightness=this._5828;b.leftBrightness=this._7552;b.rightBrightness=this._1523;b.smoothness=this._7182;b.edgeSize=this._6262;return b};d.checkCommandParams=function(b){return a.checkCommandParams.call(this,b)&&!(0===this._416&&0===this._5828&&0===
this._7552&&0===this._1523||0===this._6262)}};b.extend(Wa,n);var Xa=function(){var a=Xa.superclass;a.constructor.call(this);this._8938="rgba(255,255,255,0)";this._1198=4;this._2790="rgba(0,0,0,1)";this._2332=15;this._1877=45;this._8967([24,32,33,48,64]);var d=Xa.prototype;d.get_ActionName=function(){return"DropShadow"};d.get_BackColorOfShadow=function(){return this._8938};d.set_BackColorOfShadow=function(a){b.pv.s(a);this._8938=a};d.get_BlurRadius=function(){return this._1198};d.set_BlurRadius=function(a){a=
parseInt(a);b.pv.n(a);1>a&&(a=1);256<a&&(a=256);this._1198=a};d.get_Color=function(){return this._2790};d.set_Color=function(a){b.pv.s(a);this._2790=a};d.get_Distance=function(){return this._2332};d.set_Distance=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);this._2332=a};d.get_LightDirection=function(){return this._1877};d.set_LightDirection=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);360<a&&(a=360);this._1877=a};d.getParams=function(){var b=a.getParams.call(this);b.backColorOfShadow=this._8938;
b.blurRadius=this._1198;b.color=this._2790;b.distance=this._2332;b.lightDirection=this._1877;return b}};b.extend(Xa,n);var Ya=function(){var a=Ya.superclass;a.constructor.call(this);this._5695=4;this._7590=45;this._8967([9,16,24,32,33,48,64]);var d=Ya.prototype;d.get_ActionName=function(){return"MotionBlur"};d.get_Depth=function(){return this._5695};d.set_Depth=function(a){a=parseInt(a);b.pv.n(a);1>a&&(a=1);10<a&&(a=10);this._5695=a};d.get_MotionDirection=function(){return this._7590};d.set_MotionDirection=
function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);180<a&&(a=180);this._7590=a};d.getParams=function(){var b=a.getParams.call(this);b.depth=this._5695;b.motionDirection=this._7590;return b}};b.extend(Ya,aa);var Za=function(){var a=Za.superclass;a.constructor.call(this);this._9168=5;this._8967([24,32,33,48,64]);var d=Za.prototype;d.get_ActionName=function(){return"Mosaic"};d.get_TileSize=function(){return this._9168};d.set_TileSize=function(a){a=parseInt(a);b.pv.n(a);1>a&&(a=1);this._9168=a};d.getParams=
function(){var b=a.getParams.call(this);b.tileSize=this._9168;return b}};b.extend(Za,aa);var $a=function(){var a=$a.superclass;a.constructor.call(this);this._8147=50;this._9505=3;this._8967([16,24,32,33,48,64]);var d=$a.prototype;d.get_ActionName=function(){return"OilPainting"};d.get_Radius=function(){return this._9505};d.set_Radius=function(a){a=parseInt(a);b.pv.n(a);1>a&&(a=1);64<a&&(a=64);this._9505=a};d.get_IntensityLevel=function(){return this._8147};d.set_IntensityLevel=function(a){a=parseInt(a);
b.pv.n(a);3>a&&(a=3);255<a&&(a=255);this._8147=a};d.getParams=function(){var b=a.getParams.call(this);b.radius=this._9505;b.intensityLevel=this._8147;return b}};b.extend($a,n);var ab=function(){var a=ab.superclass;a.constructor.call(this);this._2047=5;this._8967([24,32,33,48,64]);var d=ab.prototype;d.get_ActionName=function(){return"Pixelate"};d.get_CellSize=function(){return this._2047};d.set_CellSize=function(a){a=parseInt(a);b.pv.n(a);2>a&&(a=2);100<a&&(a=100);this._2047=a};d.getParams=function(){var b=
a.getParams.call(this);b.cellSize=this._2047;return b}};b.extend(ab,n);var bb=function(){var a=bb.superclass;a.constructor.call(this);this._3615=90;this._7766=70;this._8967([24,32,33,48,64]);var d=bb.prototype;d.get_ActionName=function(){return"RedEyeRemoval"};d.get_Saturation=function(){return this._3615};d.set_Saturation=function(a){a=parseInt(a);b.pv.n(a);50>a&&(a=50);100<a&&(a=100);this._3615=a};d.get_Tolerance=function(){return this._7766};d.set_Tolerance=function(a){a=parseInt(a);b.pv.n(a);
35>a&&(a=35);100<a&&(a=100);this._7766=a};d.getParams=function(){var b=a.getParams.call(this);b.saturation=this._3615;b.tolerance=this._7766;return b}};b.extend(bb,n);var cb=function(){cb.superclass.constructor.call(this);this._8967([24,32,33,48,64]);cb.prototype.get_ActionName=function(){return"Sepia"}};b.extend(cb,n);var db=function(){db.superclass.constructor.call(this);this._8967([24,32,33,48,64]);db.prototype.get_ActionName=function(){return"Solarize"}};b.extend(db,n);var eb=function(){var a=
eb.superclass;a.constructor.call(this);this._2697=8;this._7256=30;this._9168=40;this._8967([24,32,33,48,64]);var d=eb.prototype;d.get_ActionName=function(){return"TileReflection"};d.get_Curvature=function(){return this._2697};d.set_Curvature=function(a){a=parseInt(a);b.pv.n(a);-20>a&&(a=-20);20<a&&(a=20);this._2697=a};d.get_RotationAngle=function(){return this._7256};d.set_RotationAngle=function(a){a=parseInt(a);b.pv.n(a);-45>a&&(a=-45);45<a&&(a=45);this._7256=a};d.get_TileSize=function(){return this._9168};
d.set_TileSize=function(a){a=parseInt(a);b.pv.n(a);2>a&&(a=2);200<a&&(a=200);this._9168=a};d.getParams=function(){var b=a.getParams.call(this);b.curvature=this._2697;b.rotationAngle=this._7256;b.tileSize=this._9168;return b}};b.extend(eb,n);var fb=function(){var a=fb.superclass;a.constructor.call(this);this._7331=1;this._9505=12;this._8447=new s.WebFrequencyFilterTypeEnumJS(2);this._9597=new s.WebBlendingModeEnumJS(9);this._1554=!0;this._8967([24,32,33,9]);var d=fb.prototype;d.get_ActionName=function(){return"ImageSharpening"};
d.get_OverlayAlpha=function(){return this._7331};d.set_OverlayAlpha=function(a){b.pv.n(a);0>a&&(a=0);1<a&&(a=1);this._7331=a};d.get_Radius=function(){return this._9505};d.set_Radius=function(a){b.pv.n(a);0>=a&&b.pv.te("Value must be positive.");this._9505=a};d.get_Filter=function(){return this._8447};d.set_Filter=function(a){this._8447=b.pv.e(a,s.WebFrequencyFilterTypeEnumJS)};d.get_BlendingMode=function(){return this._9597};d.set_BlendingMode=function(a){this._9597=b.pv.e(a,s.WebBlendingModeEnumJS)};
d.get_GrayscaleFiltration=function(){return this._1554};d.set_GrayscaleFiltration=function(a){b.pv.b(a);this._1554=a};d.getParams=function(){var b=a.getParams.call(this);b.overlayAlpha=this._7331;b.radius=this._9505;b.filter=this._8447.valueOf();b.blendingMode=this._9597.valueOf();b.grayscaleFiltration=this._1554;return b}};b.extend(fb,n);var gb=function(){var a=gb.superclass;a.constructor.call(this);this._7331=1;this._9505=7;this._8447=new s.WebFrequencyFilterTypeEnumJS(2);this._9597=new s.WebBlendingModeEnumJS(0);
this._1554=!1;this._8967([24,32,33,9]);var d=gb.prototype;d.get_ActionName=function(){return"ImageSmoothing"};d.get_OverlayAlpha=function(){return this._7331};d.set_OverlayAlpha=function(a){b.pv.n(a);0>a&&(a=0);1<a&&(a=1);this._7331=a};d.get_Radius=function(){return this._9505};d.set_Radius=function(a){b.pv.n(a);0>=a&&b.pv.te("Value must be positive.");this._9505=a};d.get_Filter=function(){return this._8447};d.set_Filter=function(a){this._8447=b.pv.e(a,s.WebFrequencyFilterTypeEnumJS)};d.get_BlendingMode=
function(){return this._9597};d.set_BlendingMode=function(a){this._9597=b.pv.e(a,s.WebBlendingModeEnumJS)};d.get_GrayscaleFiltration=function(){return this._1554};d.set_GrayscaleFiltration=function(a){b.pv.b(a);this._1554=a};d.getParams=function(){var b=a.getParams.call(this);b.overlayAlpha=this._7331;b.radius=this._9505;b.filter=this._8447.valueOf();b.blendingMode=this._9597.valueOf();b.grayscaleFiltration=this._1554;return b}};b.extend(gb,n);var wa=function(){var a=wa.superclass;a.constructor.call(this);
this._7949=.08;this._8967([24,32,33,9]);var d=wa.prototype;d.get_ActionName=function(){b.pv.tne()};d.get_CutoffFrequency=function(){return this._7949};d.set_CutoffFrequency=function(a){b.pv.n(a);0>=a&&b.pv.te("Value must be positive.");this._7949=a};d.getParams=function(){var b=a.getParams.call(this);b.cutoffFrequency=this._7949;return b}};b.extend(wa,n);var hb=function(){hb.superclass.constructor.call(this);hb.prototype.get_ActionName=function(){return"IdealHighpass"}};b.extend(hb,wa);var ib=function(){ib.superclass.constructor.call(this);
ib.prototype.get_ActionName=function(){return"GaussianHighpass"}};b.extend(ib,wa);var jb=function(){var a=jb.superclass;a.constructor.call(this);this._2267=2;var d=jb.prototype;d.get_ActionName=function(){return"ButterworthHighpass"};d.get_Order=function(){return this._2267};d.set_Order=function(a){b.pv.n(a);0>=a&&b.pv.te("Value must be positive.");this._2267=a};d.getParams=function(){var b=a.getParams.call(this);b.order=this._2267;return b}};b.extend(jb,wa);var xa=function(){var a=xa.superclass;
a.constructor.call(this);this._7949=.14;this._8967([24,32,33,9]);var d=xa.prototype;d.get_ActionName=function(){b.pv.tne()};d.get_CutoffFrequency=function(){return this._7949};d.set_CutoffFrequency=function(a){b.pv.n(a);0>=a&&b.pv.te("Value must be positive.");this._7949=a};d.getParams=function(){var b=a.getParams.call(this);b.cutoffFrequency=this._7949;return b}};b.extend(xa,n);var kb=function(){kb.superclass.constructor.call(this);kb.prototype.get_ActionName=function(){return"IdealLowpass"}};b.extend(kb,
xa);var lb=function(){lb.superclass.constructor.call(this);lb.prototype.get_ActionName=function(){return"GaussianLowpass"}};b.extend(lb,xa);var mb=function(){var a=mb.superclass;a.constructor.call(this);this._2267=2;var d=mb.prototype;d.get_ActionName=function(){return"ButterworthLowpass"};d.get_Order=function(){return this._2267};d.set_Order=function(a){b.pv.n(a);0>=a&&b.pv.te("Value must be positive.");this._2267=a};d.getParams=function(){var b=a.getParams.call(this);b.order=this._2267;return b}};
b.extend(mb,xa);g.WebColorBaseJS=e;g.WebColorSphereJS=a;g.WebColorReplaceSphereJS=h;g.WebChannelRemapSettings=d;g.WebImageProcessingCommandBaseJS=k;g.WebImageProcessingCommandWithSourceChangeJS=f;g.WebImageProcessingCommandWithRegionJS=v;g.WebImageProcessingCommandWithRegionAndSourceChangeJS=n;g.WebBinarizeCommandJS=l;g.WebChangePixelFormatCommandJS=U;g.WebChangePixelFormatToBgrCommandJS=ea;g.WebChangePixelFormatToBlackWhiteCommandJS=G;g.WebChangePixelFormatToGrayscaleCommandJS=W;g.WebChangePixelFormatToPaletteCommandJS=
Z;g.WebClearCommandJS=Q;g.WebCropCommandJS=ia;g.WebResampleCommandJS=M;g.WebResizeCommandJS=fa;g.WebResizeCanvasCommandJS=ga;g.WebOverlayCommandJS=ja;g.WebOverlayMaskedCommandJS=m;g.WebOverlayWithBlendingCommandJS=N;g.WebFillRectangleCommandJS=X;g.WebImageComparisonCommandJS=ba;g.WebDrawImageCommandJS=da;g.WebGetBackgroundColorCommandJS=ua;g.WebGetBorderColorCommandJS=ka;g.WebGetColorCountCommandJS=q;g.WebGetHistogramCommandJS=V;g.WebGetThresholdCommandJS=w;g.WebIsImageBlankCommandJS=z;g.WebHasCertainColorCommandJS=
y;g.WebGetUniqueColorCommandJS=la;g.WebIsImageBlackWhiteCommandJS=ma;g.WebIsImageGrayscaleCommandJS=na;g.WebGetImageColorDepthCommandJS=oa;g.WebGetBorderRectCommandJS=pa;g.WebFlipCommandJS=qa;g.WebRotateCommandJS=ra;g.WebSkewCommandJS=Da;g.WebQuadrilateralWarpCommandJS=Ea;g.WebMatrixTransformCommandJS=Fa;g.WebImageScalingCommandJS=Ga;g.WebChangeBrightnessCommandJS=p;g.WebChangeBrightnessContrastCommandJS=A;g.WebChangeContrastCommandJS=C;g.WebChangeGammaCommandJS=r;g.WebChangeHSLCommandJS=u;g.WebColorBlendCommandJS=
D;g.WebColorBlend16CommandJS=F;g.WebCurvesCommandJS=R;g.WebCurves16CommandJS=P;g.WebDesaturateCommandJS=B;g.WebGetAlphaChannelMaskCommandJS=H;g.WebHalftoneCommandJS=I;g.WebInvertCommandJS=K;g.WebLevelsCommandJS=E;g.WebPosterizeCommandJS=J;g.WebRemapColorsCommandJS=T;g.WebRemapColors16CommandJS=L;g.WebReplaceColorCommandJS=ca;g.WebSetAlphaChannelMaskCommandJS=Y;g.WebSetAlphaChannelValueCommandJS=S;g.WebMinimumCommandJS=Ha;g.WebMaximumCommandJS=Ia;g.WebMidPointCommandJS=Ja;g.WebMeanCommandJS=Ka;g.WebMedianCommandJS=
La;g.WebDilateCommandJS=za;g.WebErodeCommandJS=Ma;g.WebBlurCommandJS=Na;g.WebGaussianBlurCommandJS=Oa;g.WebEdgeDetectionCommandJS=Pa;g.WebEmbossCommandJS=Qa;g.WebSharpenCommandJS=Ra;g.WebAddNoiseCommandJS=Sa;g.WebCannyEdgeDetectorCommandJS=Ta;g.WebAutoColorsCommandJS=va;g.WebAutoContrastCommandJS=Ua;g.WebAutoLevelsCommandJS=Va;g.WebBevelEdgeCommandJS=Wa;g.WebDropShadowCommandJS=Xa;g.WebMotionBlurCommandJS=Ya;g.WebMosaicCommandJS=Za;g.WebOilPaintingCommandJS=$a;g.WebPixelateCommandJS=ab;g.WebRedEyeRemovalCommandJS=
bb;g.WebSepiaCommandJS=cb;g.WebSolarizeCommandJS=db;g.WebTileReflectionCommandJS=eb;g.WebImageSharpeningCommandJS=fb;g.WebImageSmoothingCommandJS=gb;g.WebIdealHighpassCommandJS=hb;g.WebGaussianHighpassCommandJS=ib;g.WebButterworthHighpassCommandJS=jb;g.WebIdealLowpassCommandJS=kb;g.WebGaussianLowpassCommandJS=lb;g.WebButterworthLowpassCommandJS=mb})(p.ImageProcessing);var la=function(g,e){var a=la.prototype;a.get_ActionSource=function(){return this._3760};a.get_IsValid=function(){return!0};a.get_Source=
function(){return this._10014};a.get_SourceItems=function(){};a.get_CurrentState=function(){return this._8668};a.set_CurrentState=function(a){this._8668=a};a.dispose=function(){void 0!=this._8668&&b.pv.isf(this._8668.dispose)&&this._8668.dispose()};a.toString=function(){return void 0==this._10014?"":void 0==this._3760?this._10014.toString()+" (original)":this._10014.toString()+": "+this._3760};a.undo=function(){b.pv.tne()};a._9522=function(a){this._10014=a};a._253=function(a,b){if(void 0!=this._6279)for(var e=
Math.min(a.length,b.length),f=0;f<e;f++)this._2562(a[f],b[f])};a._2562=function(a,b){};a._594=function(a){this._8668=a};this._3760=e;this._10014=g;this._8668;this._6279;this._9301=b.WebImagingEnviromentJS.guid()},R=function(b){var e=R.superclass;e.constructor.call(this,void 0,b);b=R.prototype;b.toString=function(){return void 0==this._3760?e.toString.call(this):this._3760.toString()};b.undo=function(){}};b.extend(R,la);var A=function(g){var e=A.superclass;e.constructor.call(this,g);var a=A.prototype;
a.get_IsValid=function(){if(0==this._3561.length)return!0;for(var a=0;a<this._3561.length;a++)if(this._3561[a].get_IsValid())return!0;return!1};a.getActions=function(){this._4017();return this._3561};a.dispose=function(){e.dispose.call(this);for(var a=0;a<this._3561.length;a++)this._3561[a].dispose()};a.toString=function(){return void 0!=this._3760?this._3760.toString():e.toString.call(this)};a.undo=function(){};a._6156=function(a){this._4017();if(void 0==a){if(0!==this._3561.length)return a=this._3561[this._3561.length-
1],b.pv.ic(a,A)&&(a=a._6156()),a}else for(var d=this._3561.length-1;0<=d;d--)if(b.pv.ic(this._3561[d],A)){var e=this._3561[d]._6156(a);if(void 0!=e)return e}else if(this._3561[d]._10014==a)return this._3561[d]};a._8853=function(a,b){this._4017();if(0<this._3561.length){var e=this._3561[this._3561.length-1];if(e._10014==a._10014&&void 0!=b){var f=b.clone();e._594(f)}}void 0!=a&&void 0==a._8668&&void 0!=a._10014&&(f=a._10014.clone(),a._594(f));this._3561.push(a)};a._4591=function(a){this._4017();for(var d=
0;d<this._3561.length;d++)if(b.pv.ic(this._3561[d],A)){if(this._3561[d]._4591(a))return!0}else if(this._3561[d]==a)return!0;return!1};a._9082=function(){var a=[];this._4017();for(var d=0;d<this._3561.length;d++)b.pv.ic(this._3561[d],A)?a.addRange(this._3561[d]._9082()):a.push(this._3561[d]);return a};a._4017=function(){for(var a=this._3561.length-1;0<=a;a--)this._3561[a].get_IsValid()||this._3561.splice(a,1)};this._3561=[];this._3760=g;this._10014=void 0};b.extend(A,la);var W=function(){function g(a,
e){for(var d=0;d<a._3561.length;d++){var k=a._3561[d];if(k===e||b.pv.ic(k,A)&&g(k,e))return!0}return!1}var e=W.prototype;e.changing=function(a,b){};e.changed=function(a,b){};e.navigated=function(a,b){};e.get_IsInitializing=function(){return 0!=this._9065};e.get_IsCompositeActionStarted=function(){return 0!==this._8618.length};e.get_IsEnabled=function(){return this._5725};e.set_IsEnabled=function(a){b.pv.b(a);(this._5725=a)&&this._4017()};e.get_UndoLevel=function(){return this._441-1};e.set_UndoLevel=
function(a){b.pv.n(a);1>a&&b.pv.te("Undo level cannot be less than 1.");a+=1;if(this._441>a){var e=Math.min(this._441,this._3561.length)-a;if(0<e){var d=this._5098,g=[],f=[];if(0<this._3561.length-this._5098){for(var v=Math.min(this._3561.length-this._5098-1,e),n=this._3561.length-v,l=0;l<v;l++)f.push(n+l),g.push(this._3561[n+l]);e-=v}if(0<e){for(l=0;l<e;l++)f.push(l),g.push(this._3561[l]);d-=e}e={type:"removeActions",actions:[].concat(g)};this._1246(e);for(l=f.length-1;0<=l;l--)n=f[l],this._3561[n].dispose(),
this._3561.splice(n,1);this._5098=d;d={type:"removeActions",actions:[].concat(g)};this._3672(d)}}this._441=a};e.get_UndoCount=function(){var a=this.get_CurrentActionIndex();return 1>a?0:a};e.get_UndoDescription=function(){var a=this.get_CurrentActionIndex();return 0==this.get_UndoCount()||-1==a?"":this._3561[a].toString()};e.get_RedoCount=function(){this._4017();return this._3561.length-this._5098-1};e.get_RedoDescription=function(){var a=this.get_CurrentActionIndex();return 0==this.get_RedoCount()||
-1==a?"":this._3561[a+1].toString()};e.get_CurrentActionIndex=function(){this._4017();return this._5098};e.set_CurrentActionIndex=function(a){this._5725&&!this.get_IsInitializing()&&(this._4017(),0>a&&b.pv.te("Index of current undo action cannot be less than 0."),a>this._3561.length&&b.pv.te("Index of current undo action cannot be greater than "+this._3561.length+"."),this.set_CurrentAction(this._3561[a]))};e.get_CurrentAction=function(){var a=this.get_CurrentActionIndex();return-1==a?void 0:this._3561[a]};
e.set_CurrentAction=function(a){if(this._5725&&!this.get_IsInitializing()&&a.get_IsValid()){this._4017();var b=this._5098;this._8411(a);this._5098=this._3561.indexOf(a);this._3439(this._5098-b)}};e._5339=function(){return this._9301};e._2866=function(){this._4017();return 0==this.get_UndoCount()||-1==this._5098?void 0:this._3561[this._5098-1]};e._7679=function(){return this._3561.length};e.beginInit=function(){this._9065++};e.endInit=function(){0==this._9065&&b.pv.te("Invalid operation exception.");
this._9065--};e.containsActionForSourceObject=function(a){for(var e=Math.min(this._5098+1,this._3561.length),d=0;d<e;d++){var g=this._3561[d];if(b.pv.ic(g,A)){if(void 0!=g._6156(a))return!0}else if(this._3561[d]._10014==a)return!0}if(0<this._8618.length)for(d=0;d<this._8618.length;d++)if(void 0!=this._8618[d]._6156(a))return!0;return!1};e.beginCompositeAction=function(a){a=new A(a);a._9522();this._8618.push(a)};e.endCompositeAction=function(){0==this._8618.length&&b.pv.te("Composite action stack length cannot be 0.");
var a=this._8618.pop();0<a._3561.length&&(0===this._8618.length&&0===this._3561.length&&this.addAction(new R(a.toString()+" (original)")),this.addAction(a,void 0))};e.removeCompositeAction=function(){0!=this._8618.length&&this._8618.pop()};e.addAction=function(a,e){if(!this._5725||this.get_IsInitializing())void 0!=a&&a.dispose();else if(void 0==a&&b.pv.te("UndoAction parameter cannot be undefined."),a.get_IsValid())if(0<this._8618.length)this._8618[this._8618.length-1]._8853(a,e);else{this._1246({type:"addActions",
actions:[a]});this.beginInit();this.removeRedoActions();if(-1!=this._5098){var d=this._3561[this._5098];if(d._10014==a._10014&&void 0!=e){var g=e.clone();d._594(g)}}void 0!=a&&void 0==a._8668&&void 0!=a._10014&&(g=a._10014.clone(),a._594(g));this._3561.push(a);this._3561.length>this._441&&this.removeFirstAction();this._5098=this._3561.length-1;this.endInit();this._4017();this._3672({type:"addActions",actions:[a]});this._3439(1)}else a.dispose()};e.removeRedoActions=function(){if(this._5725&&this._5098<
this._3561.length-1){for(var a=[],b=[],d=this._3561.length,e=this._5098+1;e<d;e++)b.push(e),a.push(this._3561[e]);if(0<a.length){e={type:"removeActions",actions:[].concat(a)};this._1246(e);for(e=b.length-1;0<=e;e--)d=b[e],this._3561[d].dispose(),this._3561.splice(d,1);a={type:"removeActions",actions:[].concat(a)};this._3672(a)}}};e.removeFirstAction=function(){if(this._5725&&0!=this._3561.length){var a=this._3561[0];this._1246({type:"removeActions",actions:[a]});this._3561.splice(0,1);a.dispose();
this._3672({type:"removeActions",actions:[a]})}};e.undo=function(a){this._5378(-Math.abs(a))};e.redo=function(a){this._5378(Math.abs(a))};e.getActions=function(){this._4017();return this._3561};e.clear=function(){this._5725&&this._6608(!0)};e.dispose=function(){this._6608(!1);this._3628=void 0};e._185=function(a,b,d,e){var f=this._1826();if(0!==f.length){for(var g=0;g<f.length;g++)this._4070(f[g],a,d);if(void 0!=b&&void 0!=e)for(a=Math.min(b.length,e.length),g=0;g<a;g++)for(d=0;d<f.length;d++)this._4070(f[d],
b[g],e[g])}};e._4904=function(a){this._3628=a};e._2370=function(a){for(var b=!0,d=0;d<a.length;d++)b&=this._7920(a[d]);return b};e._7920=function(a){if(void 0==a)return!1;var b=this._3561.indexOf(a);if(-1==b)return!1;-1!=this._5098&&b<=this._5098&&this._5098--;return this._3561.splice(b,1)?(a.dispose(),!0):!1};e._5260=function(a,b){var d=a._6279;return void 0==d||-1===d.indexOf(b)?!1:!0};e._9307=function(a,e){for(var d=-1,k=0;k<this._3561.length;k++){var f=this._3561[k];if(f===a){d=k;break}else if(b.pv.ic(f,
A)&&g(f,a)){d=k;break}}return-1==d?!0:0==d?e:this.get_CurrentActionIndex()>=d?!1:!0};e._4017=function(){if(!this.get_IsInitializing()&&this._5725){for(var a=[],b=this._5098,d=this._3561.length-1;0<=d;d--){var e=this._3561[d];e.get_IsValid()||(a.push(e),b>=d&&b--)}0<a.length&&([].concat(a),this.beginInit(),this._2370(a),this._5098=b,this.endInit(),a={type:"removeActions",actions:[].concat(a)},this._3672(a))}};e._8411=function(a){this.beginInit();try{b.pv.ic(a,A)&&(a=a._6156());var e=this.get_CurrentAction();
if(b.pv.ic(e,A)){var d=e,e=d._6156();void 0==e&&(e=d)}var g=this._1826();a.get_IsValid()||b.pv.te("Invalid action.");-1==g.indexOf(a)&&b.pv.te("Action is not found.");this._980(e,a);var f=a._10014,v=a._6279;a.undo();var n=a._10014,l=a._6279;void 0==this._3628?this._185(f,v,n,l):this._3628._185(f,v,n,l);this._5098=this._3561.indexOf(a)}finally{this.endInit()}};e._980=function(a,b){if(!this._6752){this._6752=!0;var d=this._1826(),e=d.indexOf(a),f=d.indexOf(b),g=Math.max(e,f),n=Math.min(e,f);if(1<g-
n){for(var l=[],p=!1;g>=n;g--){var p=!1,s=d[g];if(s._10014!=b._10014){for(var t=0;t<l.length;t++){var r=l[t];if(r._10014==s._10014){p=!0;break}}p||l.push(s)}}if(0<l.length)if(e>f){r=l;l=[];for(g=0;g<r.length;g++){p=r[g]._10014;for(t=n-1;0<=t;t--)if(p==d[t]._10014){l.push(d[t]);break}for(t=n;t<d.length;t++)if(p==d[t]._10014){l.push(d[t]);break}}if(0==l.length)for(g=0;g<r.length;g++)for(t=0;t<d.length;t++)if(r[g]._10014==d[t]._10014){l.push(d[t]);break}for(g=l.length-1;0<=g;g--)if(void 0!=l[g]._6279)for(this._8411(l[g]),
t=0;t<l[g]._6279.length;t++)n=l[g]._6279[t],n=this._4027(d,e,n),void 0!=n&&this._8411(n);for(g=l.length-1;0<=g;g--)void 0==l[g]._6279&&this._8411(l[g])}else{for(g=0;g<l.length;g++)void 0!=l[g]._6279&&this._8411(l[g]);for(g=0;g<l.length;g++)void 0==l[g]._6279&&this._8411(l[g])}}if(1==e-f&&a._10014!=b._10014&&(r=this._4027(d,e,a._10014),void 0!=r&&(this._8411(r),void 0!=r._6279)))for(g=0;g<r._6279.length;g++)n=r._6279[g],n=this._4027(d,e,n),void 0!=n&&this._8411(n);this._6752=!1}};e._5378=function(a){this._5725&&
!this.get_IsInitializing()&&0!=a&&(this._4017(),a=Math.min(Math.max(this.get_CurrentActionIndex()+a,0),this._3561.length-1),this.set_CurrentAction(this._3561[a]))};e._4070=function(a,e,d){var g=!1;if(b.pv.ic(a,A))for(var f=0;f<a._3561.length;f++)g|=this._4070(a._3561[f],e,d);a._10014===e&&(a._9522(d),g=!0);this._5260(a,e)&&(a._2562(e,d),g=!0);return g};e._6608=function(a){var b;a&&(b={type:"clearActions",actions:[].concat(this._3561)},this._1246(b),b={type:"clearActions",actions:[].concat(this._3561)});
for(var d=0;d<this._3561.length;d++)this._3561[d].dispose();this._3561=[];this._5098=-1;a&&this._3672(b)};e._4027=function(a,e,d){for(--e;0<=e;e--){var g=a[e];if(b.pv.ic(g,A)){if(g=g._6156(d),void 0!=g)return g}else if(g._10014==d)return g}};e._1826=function(){for(var a=[],e=0;e<this._3561.length;e++)a[e]=this._3561[e];for(e=0;e<a.length;e++)if(b.pv.ic(a[e],A)){var d=a[e];a.splice(e,1);for(var d=d._9082(),g=e,f=0;f<d.length;f++)a.splice(g,0,d[f]),g++;e+=d.length-1}return a};e._1246=function(a){$(this).triggerHandler("changing",
a)};e._3672=function(a){$(this).triggerHandler("changed",a)};e._3439=function(a){$(this).triggerHandler("navigated",a)};this._9301=b.WebImagingEnviromentJS.guid();this._5725=!0;this._441=6;this._5098=-1;this._3561=[];this._9065=0;this._6752=!1;this._8618=[];this._3628;delete e.changing;delete e.changed;delete e.navigated},wb=function(b,e,a){this._8113=b;this._8238=e;this._6098=a},sb=function(){var g=sb.prototype;g._4547=function(b,a){};g._10015=function(e){this._2445(e);b.pv.ic(e,A)&&void 0!=this._5338[e._9301]&&
this._149(e,!0);this._4003()};g._7920=function(e){if(-1!==this._2502.indexOf(e))b.pv.ic(e,A)&&delete this._5338[e._9301],this._1260(e),void 0!=this._6244[e._9301]&&(this._6244[e._9301]._8113._7920(e),delete this._6244[e._9301]),b.pv.ic(e,A)&&this._149(e,!1),this._4003();else{var a=this._2921[e._9301];void 0!=a&&(delete this._2921[e._9301],a._3561.splice(a._3561.indexOf(e),1),delete this._6244[e._9301],0==a._3561.length&&this._7920(a))}};g._414=function(b){for(var a=[],g=0;g<this._2502.length;g++)for(var d=
this._2502[g],k=0;k<b.length;k++)if(this._8676(d,b[k])){a.push(d);break}return this._906(a)};g._8676=function(e,a){if(b.pv.ic(e,A)&&void 0!=this._5338[e._9301])for(var g=0;g<e._3561.length;g++){if(this._8676(e._3561[g],a))return!0}else if(g=this._6244[e._9301],void 0!=g&&g._8113===a)return!0;return!1};g._7477=function(b,a){var g=new wb(a,a._2866(),a.get_CurrentAction());this._6244[b._9301]=g};g._4916=function(b){this._5338[b._9301]=!1};g._2445=function(b){this._2502.push(b)};g._1260=function(b){this._2502.splice(this._2502.indexOf(b),
1)};g._5111=function(b){var a=[];this._1059(a,b);return a};g._1059=function(e,a){var g=b.pv.ic(a,A);if(!g||g&&void 0==this._5338[a._9301])e.push(this._6244[a._9301]);else for(g=0;g<a._3561.length;g++)this._1059(e,a._3561[g])};g._8396=function(e,a){for(var g=0;g<a.length;g++){var d=a[g];if(b.pv.ic(d,A)){if(this._8396(e,d._3561))return!0}else if(this._6244[d._9301]._8113===e)return!0}return!1};g._908=function(e){if(0!=e.length){for(var a=e.length-1;0<=a;a--){var g=e[a];if(void 0!=this._5338[g._9301]){if(!this._9307(g,
!0))return g}else{var d=this._6244[g._9301];if(void 0!=d){if(!d._8113._9307(g,!0))return g}else if(b.pv.ic(g,A)&&!this._9307(g,!0))return g}}return e[0]}};g._721=function(){this._2502=[];this._2921={};this._6244={}};g._9307=function(e,a){if(b.pv.ic(e,A)&&void 0!=this._5338[e._9301]){for(var g=0;g<e._3561.length;g++){var d=e._3561[g];if(b.pv.ic(d,A)){if(!this._9307(d,a))return!1}else{var k=this._6244[d._9301];if(void 0!=k&&!k._8113._9307(d,a))return!1}}return!0}return this._6244[e._9301]._8113._9307(e,
a)?!0:!1};g._6822=function(b){if(-1!==this._2502.indexOf(b))return b;b=this._2921[b._9301];if(void 0!=b)return this._6822(b)};g._149=function(e,a){for(var g=0;g<e._3561.length;g++){var d=e._3561[g];a?this._2921[d._9301]=e:(delete this._2921[d._9301],delete this._6244[d._9301]);b.pv.ic(d,A)&&this._149(d,a)}};g._906=function(e){for(var a=[].concat(e),g=[],d={},k=0;k<e.length;k++){var f=this._7652(e[k]);this._593(g,f);if(b.pv.ic(e[k],A))for(f=-1;f!=g.length;)for(var f=g.length,v=0;v<this._2502.length;v++)if(-1===
a.indexOf(this._2502[v])){var n=d[this._2502[v]._9301];void 0==n&&(n=this._7652(this._2502[v]),d[this._2502[v]._9301]=n);this._1743(g,n)&&a.push(this._2502[v])}}if(a.length==e.length)return e;e=[];for(k=0;k<a.length;k++)g=this._2502.indexOf(a[k]),e[g]=a[k];return e};g._7652=function(e){if(b.pv.ic(e,A)){for(var a=[],g=0;g<e._3561.length;g++){var d=this._7652(e._3561[g]);this._593(a,d)}return a}a=[];void 0!=e._10014&&a.push(e._10014);return a};g._593=function(b,a){for(var g=0;g<a.length;g++){var d=
a[g];-1===b.indexOf(d)&&b.push(d)}};g._1743=function(b,a){for(var g=0;g<a.length;g++)if(-1!==b.indexOf(a[g]))return this._593(b,a),!0;return!1};g._4003=function(){$(this).triggerHandler("_4547")};this._2502=[];this._6244={};this._2921={};this._5338={};delete g._4547},tb=function(g){function e(a,e){var f=a._9301;$(e).on("changing."+f,function(b,f){if(a._5725){if(!a._2114&&a._4534()&&"addActions"===f.type&&0==e._7679()){a._2114=!0;if(0!=a._8199().length){var g=new R(f.actions[0].toString()+" (original)");
e.addAction(g)}else a._711=!0,g=new R(a._5301),e.addAction(g),a._711=!1;a._2114=!1}!a._4534()&&a._9487(e)&&void 0==a._3269&&a._1246(f)}});$(e).on("changed."+f,function(f,g){if(a._5725){var h=g.actions;if("addActions"!=g.type||1!=h.length||!b.pv.ic(h[0],R)||a._711){switch(g.type){case "addActions":for(var p=0;p<h.length;p++)a._10015(h[p],e);break;case "removeActions":case "clearActions":for(p=0;p<h.length;p++)a._7920(h[p])}if(a._9487(e)){if("addActions"===g.type)for(var s=a._8199(),p=h.length-1;0<=
p;p--)-1===s.indexOf(h[p])&&h.splice(p,1);0<h.length&&(void 0==a._3269?a._3672(g):a._3269=a._3269.concat(h))}}}})}var a=tb.prototype;a.changing=function(a,b){};a.changed=function(a,b){};a.navigated=function(a,b){};a._423=function(){return this._9800};a._3111=function(a){if(this._9800!=a){this._9800=a;this._3561=void 0;a=this._8199();var b=this._9414._908(a);this._5098=a.indexOf(b);if(this._441<a.length)for(this._4200(!1),a=this._8199().length-this._441;0<a;)this._2809(!1),a--}};a._8199=function(){this._4017();
void 0==this._3561&&(this._3561=this._8353());return this._3561};a._6787=function(){var a=this._5021();return-1==a?void 0:this._8199()[a]};a._5852=function(a){a=this._8199().indexOf(a);this._4143(a)};a._5021=function(){this._4017();return this._5098};a._4143=function(a){(0>a||a>this._8199().length)&&b.pv.toe();this._1625(a-this._5021())};a._6234=function(){var a=this._5021();return 1>a?0:a};a._6006=function(){var a=this._5021(),b=this._8199();return 0==this._6234()||-1==a||a>=b.length?"":b[a].toString()};
a._6618=function(){return this._8199().length-this._5021()-1};a._4329=function(){var a=this._5021(),b=this._8199();return 0==this._6618()||-1==a||a>=b.length?"":b[a+1].toString()};a._5414=function(){return this._5725};a._7484=function(a){this._5725=a};a._4534=function(){return this._711?!1:0!=this._2591.length};a._4054=function(){return this._441};a._4924=function(a){var b=a+1;this._441>b&&this._4242(b,!0);this._441=a+1};a._4242=function(a,b){var e=[].concat(this._7758),g=this._8353(!1,e),h=this._8353(!0,
e),l=g.indexOf(this._6787()),p=h.length-a;if(0<p){for(var e=[],s=g.length-1;0<p&&s>l;){var t=g[s--];e.push(t);-1!==h.indexOf(t)&&p--}if(0<p){for(s=0;0<p&&s<=l;)t=g[s++],e.push(t),-1!==h.indexOf(t)&&p--;if(-1===h.indexOf(g[s]))for(;-1===!h.indexOf(g[s])&&s<=l;)e.push(g[s++])}b&&this._1246({type:"removeActions",actions:e});for(g=0;g<e.length;g++)this._7920(e[g]);b&&this._3672({type:"removeActions",actions:e})}};a._202=function(a){e(this,a);this._7758.push(a)};a._5321=function(a){var b=this._9301;$(a).off("."+
b);this._1889(a);this._7758.splice(this._7758.indexOf(a),1)};a._2458=function(a){this._5725&&this._1625(-Math.abs(a))};a._1109=function(a){this._5725&&this._1625(Math.abs(a))};a._2809=function(a){for(var b=this._8353(!1,this._9800),e=this._8353(!0,this._9800),g=b.indexOf(this._6787()),h=[],l=0;l<b.length;){var p=b[l++];h.push(p);if(-1!==e.indexOf(p))break}if(-1===e.indexOf(b[l]))for(;-1===e.indexOf(b[l])&&l<=g;)h.push(b[l++]);a&&(b={type:"removeActions",actions:[].concat(h)},this._1246(b));for(b=
0;b<h.length;b++)this._7920(h[b]);a&&(a={type:"removeActions",actions:[].concat(h)},this._3672(a))};a._4200=function(a){var b=this._6787();if(!this._5725||void 0==b)return[];var e=this._5021(),g=this._8199();if(e==g.length-1)return[];for(var b=[],h=g.length-1;h>e;h--)b.push(g[h]);a&&(e={type:"removeActions",actions:[].concat(b)},this._1246(e));for(h=0;h<b.length;h++)this._9414._7920(b[h]);this._8199();this._7689();for(h=0;h<this._9800.length;h++)this._9800[h].removeRedoActions();this._4209();a&&(e=
{type:"removeActions",actions:[].concat(b)},this._3672(e));return b};a._911=function(a,e,f){1===arguments.length&&(f=a,a=this._8199(),e=Math.min(this._5021()+1,a.length));for(var g=0;g<e;g++){var h=a[g];if(b.pv.ic(h,A)){if(void 0!=h._6156(f))return!0}else if(a[g]._10014==f)return!0}return!1};a._627=function(){for(var a={},b=this._8199(),e=Math.min(this._5021()+1,b.length),g=0;g<e;g++)for(var h=b[g],l=0;l<this._9800.length;l++){var p=this._9800[l];if(this._9414._8676(h,p)){l=a[p._9301];void 0==l&&
(l=[],a[p._9301]=l);l.push(h);break}}return a};a._7689=function(){void 0==this._3269&&(this._3269=[])};a._4209=function(){if(void 0==this._3269)return[];var a=[].concat(this._3269);this._3269=void 0;return a};a._5228=function(a){a=new A(a);a._9522();0==this._2591.length&&(this._5301=a.toString()+" (original)");this._2591.push(a)};a._3163=function(a){0==this._2591.length&&b.pv.te("The undo manager does not have composite action.");var e=this._2591[0];this._2591.splice(0,1);0<e.getActions().length&&
(0==this._2591.length&&this._1246({type:"addActions",actions:[e]}),this._9414._4916(e),this._10015(e,a),0==this._2591.length&&this._3672({type:"addActions",actions:[e]}))};a._9007=function(){if(0!==this._2591.length){var a=this._2591[0];this._2591.splice(0,1);this._7920(a)}};a._4017=function(){if(void 0!=this._9800&&0<this._9800.length)for(var a=0;a<this._9800.length;a++)this._9800[a]._4017()};a._10015=function(a,b){if(this._5725)if(a.get_IsValid())if(this._4534())this._9414._7477(a,b),this._2591[this._2591.length-
1].getActions().push(a);else{if(this._4200(!0),this._9414._7477(a,b),this._9414._10015(a),this._83(),this._8199().length>this._441&&this._2809(!0),this._9487(b)){var e=this._8199().indexOf(a);-1!==e&&(this._5098=e)}}else a.dispose()};a._83=function(){for(var a=0;a<this._7758.length;a++){var b=this._7758[a];this._9487(b)||0===b.get_CurrentActionIndex()&&b.clear()}};a._9487=function(a){return void 0==this._9800||void 0==a?!1:-1!==this._9800.indexOf(a)};a._7920=function(a){var b=this._8199(),e=b.indexOf(a);
-1===e&&(a=this._9414._6822(a));if(void 0!=a){var g=b.length,h=this._6787();this._9414._7920(a);b=this._8199();g!=b.length?-1!=e&&e<=this._5098&&(this._5098-=g-b.length):void 0!=h&&(-1!==!b.indexOf(h)&&(h=this._9414._6822(h)),this._5098=b.indexOf(h))}};a._1889=function(a){if(this._5725){a=this._9414._414([a]);for(var b=0;b<a.length;b++)this._7920(a[b])}};a._1625=function(a){for(var b=0;b<this._9800.length;b++)if(this._9800[b].get_IsInitializing())return;var e=this._8199();if(0!=a&&0!=e.length){for(var g=
Math.abs(a),b=this._5021();0<g&&!(0>b||b>=e.length);){if(0>a){var h=e[b];this._8411(h);b--}else h=b+1,h>=e.length&&(h=e.length-1),h=e[h],this._9947(h),b++;g--}a=b-this._5098;this._5098=b;this._3439(a)}};a._8411=function(a){a=this._9414._5111(a);for(var b=a.length-1;0<=b;b--){var e=a[b];void 0!=e._8238&&e._8113.set_CurrentAction(e._8238)}};a._9947=function(a){a=this._9414._5111(a);for(var b=0;b<a.length;b++){var e=a[b];void 0!=e._8238&&e._8113.set_CurrentAction(e._6098)}};a._721=function(){this._9414._721();
this._9800=this._3561=void 0;this._5098=-1};a._8353=function(a,e){void 0==a&&(a=!0,e=this._9800);this._4017();var f=[];if(void 0!=e&&0<e.length){for(var g=!1,h=this._9414._414(e),l=h.length-1;0<=l;l--){var p=h[l];if(void 0!=p){if(this._9414._9307(p,!g)){if(g)continue}else g=!0;f.push(p)}}if(a)for(l=f.length-2;0<=l;l--)b.pv.ic(f[l],A)||void 0!=f[l]._3760||f.splice(l,1);f.reverse()}1==f.length&&(g=f[0],b.pv.ic(g,A)&&0<g.getActions().length&&f.splice(0,0,new R(f[0].toString()+" (original)")));return f};
a._1246=function(a){$(this).triggerHandler("changing",a)};a._3672=function(a){$(this).triggerHandler("changed",a)};a._3439=function(a){$(this).triggerHandler("navigated",a)};this._9301=b.WebImagingEnviromentJS.guid();this._9414=new sb(g);this._3269;this._2591=[];this._711=!1;this._5301="";this._2114=!1;this._7758=[];this._9800;this._3561;this._5098=-1;this._5725=!0;this._441=g;var h=this;$(this._9414).on("_4547",function(a,b){h._3561=void 0})},ma=function(){function g(a){void 0==a._4105&&b.pv.te("Current manager is not specified.")}
var e=ma.superclass;e.constructor.call(this);var a=ma.prototype;a.currentManagerChanging=function(a,b){};a.currentManagerChanged=function(a,b){};a.activeManagersChanging=function(a){};a.activeManagersChanged=function(a){};a.get_ActiveManagers=function(){return this._9994._9800};a.set_ActiveManagers=function(a){b.pv.ac(a,W);if(a!=this._9994._9800){this._4067();if(void 0!=a)for(var d=0;d<a.length;d++)-1===this._8773.indexOf(a[d])&&b.pv.te("Only the undo managers from this composite undo manager can be used as the active undo managers.");
this._9994._3111(a);this._8=this._6147();a={type:"addActions",actions:this._9994._8199()};this._3672(a);this._5546()}};a.get_CurrentManager=function(){return this._4105};a.set_CurrentManager=function(a){b.pv.ic(a,W);this.get_IsInitializing()&&b.pv.te("The current undo manager can not be changed because initialization of that manager is not finished.");if(a!=this._4105&&(a={oldValue:this._4105,newValue:a,cancel:!1},this._9156(a),!a.cancel&&a.newValue!==this._4105)){a=a.newValue;void 0!=a&&-1===this._8773.indexOf(a)&&
b.pv.te("Only the undo manager from this composite undo manager can be used as the current undo manager.");var d={oldValue:this._4105,newValue:a};void 0!=this._4105&&this._391(this._4105);this._4105=a;this._8=this._6147();void 0!=this._4105&&this._3410(this._4105);this._4493(d)}};a.get_IsInitializing=function(){return void 0==this._4105?!1:this._4105.get_IsInitializing()};a.get_IsCompositeActionStarted=function(){return 0!==this._9994._4534()};a.set_IsEnabled=function(a){e.set_IsEnabled.call(this,
a);this._9994._7484(a);for(var b=0;b<this._8773.length;b++)this._8773[b].set_IsEnabled(a)};a.set_UndoLevel=function(a){e.set_UndoLevel.call(this,a);this._9994._4924(a)};a.get_UndoCount=function(){return this._9994._6234()};a.get_UndoDescription=function(){return this._9994._6006()};a.get_RedoCount=function(){return this._9994._6618()};a.get_RedoDescription=function(){return this._9994._4329()};a.get_CurrentActionIndex=function(){return this._9994._5021()};a.set_CurrentActionIndex=function(a){this._9994._4143(a)};
a.get_CurrentAction=function(){return this._9994._6787()};a.set_CurrentAction=function(a){this._5725&&!this.get_IsInitializing()&&a.get_IsValid()&&this._9994._5852(a)};a._2866=function(){this._4017();var a=this.get_CurrentActionIndex();return 0==this.get_UndoCount()||-1==a?void 0:this._9994.getActions()[a-1]};a._7679=function(){return this._9994._8199().length};a.addManager=function(){var a=new W;a.set_IsEnabled(this._5725);a.set_UndoLevel(Number.MAX_VALUE);a._4904(this);this._8773.push(a);this._9994._202(a);
return a};a.removeManager=function(a){var b=this._8773.indexOf(a);-1!==b&&(this._4105===a&&this.set_CurrentManager(),this._9994._5321(a),this._8773.splice(b,1),a._4904(),a.dispose())};a.beginInit=function(){this._9065++;for(var a=0;a<this._8773.length;a++)this._8773[a].beginInit()};a.endInit=function(){0===this._9065&&b.pv.te("Invalid operation exception.");this._9065--;for(var a=0;a<this._8773.length;a++)this._8773[a].endInit()};a.containsActionForSourceObject=function(a){g(this);if(this._8&&0!==
this.get_RedoCount()){var b=this._9994._627()[this._4105._9301];return void 0!=b?this._9994._911(b,b.length,a):!1}return this._4105.containsActionForSourceObject(a)};a.beginCompositeAction=function(a){this._9994._5228(a)};a.endCompositeAction=function(){this._9994._3163(this._4105)};a.removeCompositeAction=function(){this._9994._9007()};a.addAction=function(a,b){g(this);this._9994._4200(!0);this._4105.addAction(a,b)};a.undo=function(a){this._4017();this._9994._2458(a)};a.redo=function(a){this._4017();
this._9994._1109(a)};a.getActions=function(){this._4017();return this._9994._8199()};a.clear=function(){this._4017();for(var a=[],b=0;b<this._8773.length;b++)a=a.concat(this._8773[b].getActions());if(0!=a.length){a={type:"clearActions",actions:[].concat(a)};this._1246(a);this._9994._7689();for(b=0;b<this._8773.length;b++)this._8773[b].clear();a=this._9994._4209();a={type:"clearActions",actions:[].concat(a)};this._3672(a)}};a.removeFirstAction=function(){this._9994._2809()};a.removeRedoActions=function(){this._9994._4200(!0)};
a.dispose=function(){this._4105=void 0;$(this._9994).off("."+this._9301);for(var a=0;a<this._8773.length;a++){var b=this._8773[a];this._9994._5321(b);b.dispose()}this._8773=[];this._9994._721()};a._4904=function(a){b.pv.tne()};a._185=function(a,b,d,e){for(var g=0;g<this._8773.length;g++)this._8773[g]._185(a,b,d,e)};a._9156=function(a){$(this).triggerHandler("currentManagerChanging",a)};a._4493=function(a){$(this).triggerHandler("currentManagerChanged",a)};a._4067=function(){$(this).triggerHandler("activeManagersChanging")};
a._5546=function(){$(this).triggerHandler("activeManagersChanged")};a._4017=function(){if(!this.get_IsInitializing()&&this._5725){this._3289();for(var a=0;a<this._8773.length;a++)this._8773[a]._4017();this._2288()}};a._3289=function(){this._7860++};a._2288=function(){this._7860--};a._6147=function(){return void 0==this._4105||void 0==this._9994._9800?!1:-1==this._9994._9800.indexOf(this._4105)?!1:!0};a._3410=function(a){var b=this,d=b._5339();$(a).on("changing."+d,function(a,d){0!=b._7860||b._8||
b._1246(d)});$(a).on("changed."+d,function(a,d){0!=b._7860||b._8||b._3672(d)})};a._391=function(a){var b=this._5339();$(a).off("."+b)};this._8773=[];this._8=!1;this._9065=this._7860=0;this._4105;var h=new tb(this._441);this._9994=h;var d=this,k=this._9301;$(h).on("navigated."+k,function(a,b){d._3439(b)});$(h).on("changing."+k,function(a,b){d._1246(b)});$(h).on("changed."+k,function(a,b){d._3672(b)});delete a.currentManagerChanging;delete a.currentManagerChanged;delete a.activeManagersChanging;delete a.activeManagersChanged};
b.extend(ma,W);var ub=function(g){var e=ub.prototype;e.disposed=function(a){};e.get_IsEnabled=function(){return this._5725};e.set_IsEnabled=function(a){b.pv.b(a);this._5725=a};e.get_UndoManager=function(){return this._3276};e.dispose=function(){$(this).triggerHandler("disposed")};b.pv.c(g,W);this._3276=g;this._5725=!0;delete e.disposed};p.WebUndoActionJS=la;p.WebCompositeUndoActionJS=A;p.WebUndoManagerJS=W;p.WebCompositeUndoManagerJS=ma;p.WebUndoMonitorJS=ub;b.WebServiceJS.defaultFileService=-1;p.VintasoftFileAPI=
function(){};p.VintasoftFileAPI.uploadImageFile=function(g,e,a,h){h=ba(h);b.pv.c(g,File);var d=new FormData;d.append("file",g);g=new b.WebRequestJS("UploadImageFile",e,a,{type:"POST",contentType:!1,processData:!1,data:d});return h.sendRequest(g)};p.VintasoftFileAPI.uploadImageFiles=function(g,e,a,h){h=ba(h);b.pv.ac(g,File);for(var d=new FormData,k=0;k<g.length;k++)d.append("files",g[k]);g=new b.WebRequestJS("UploadImageFiles",e,a,{type:"POST",contentType:!1,processData:!1,data:d});return h.sendRequest(g)};
p.VintasoftFileAPI.uploadBase64Image=function(g,e,a,h,d){var k;b.pv.isf(e)?(k=e,d=h,e=void 0):(k=a,a=h);d=ba(d);b.pv.s(g);void 0!=e&&b.pv.s(e);""===e&&(e=void 0);g=new b.WebRequestJS("UploadBase64Image",k,a,{type:"POST",data:{imageAsBase64String:g,fileName:e}});return d.sendRequest(g)};p.VintasoftFileAPI.uploadBase64Images=function(g,e,a,h,d){var k;b.pv.isf(e)?(k=e,d=h,e=void 0):(k=a,a=h);d=ba(d);b.pv.ad(g,b.pv.s);void 0!=e&&b.pv.s(e);""===e&&(e=void 0);g=new b.WebRequestJS("UploadBase64Images",k,
a,{type:"POST",data:{imagesAsBase64Strings:g,fileName:e}});return d.sendRequest(g)};p.VintasoftFileAPI.downloadImageFile=function(g,e,a,h){h=ba(h);b.pv.s(g);var d=g.split("/").pop();void 0==d&&(d=g);var k=new XMLHttpRequest;k.onload=function(b){200==this.status?e&&e({blob:this.response,filename:d,xmlHttpRequest:this}):500==this.status&&a&&a({errorMessage:this.statusText})};k.onerror=a;g={fileId:g,sessionId:J.Shared.WebImagingEnviromentJS.get_SessionId()};var f=h.get_ServiceRoute();b.pv.ic(h,b.WebServiceControllerJS)?
(k.open("POST",f+"/DownloadImageFile",!0),k.setRequestHeader("Content-type","application/json"),g=JSON.stringify(g)):(k.open("POST",f,!0),k.setRequestHeader("Content-type","application/x-www-form-urlencoded"),g="action=DownloadImageFile&requestParams="+JSON.stringify(g));k.responseType="arraybuffer";k.responseType="blob";return k.send(g)};p.VintasoftFileAPI.copyFile=function(g,e,a,h){h=ba(h);b.pv.s(g);g=new b.WebRequestJS("CopyFile",e,a,{type:"POST",data:{fileId:g}});return h.sendRequest(g)};p.WebBmpCompressionEnumJS=
b.EnumGenerator.create([{name:"None",value:0},{name:"RLE",value:1}],!1);p.WebPngFilterMethodEnumJS=b.EnumGenerator.create([{name:"None",value:0},{name:"Sub",value:1},{name:"Up",value:2},{name:"Average",value:3},{name:"Paeth ",value:4},{name:"Adaptive",value:5},{name:"Auto",value:31}],!1);p.WebGifCreatePageMethodEnumJS=b.EnumGenerator.create([{name:"UseOnlyGlobalPalette",value:0},{name:"UseGlobalOrLocalPalette",value:1}],!1);p.WebJpeg2000CompressionTypeEnumJS=b.EnumGenerator.create([{name:"Lossless",
value:0},{name:"Lossy",value:0}],!1);p.WebTiffCompressionEnumJS=b.EnumGenerator.create([{name:"Auto",value:0},{name:"None",value:1},{name:"CcittRle",value:2},{name:"CcittGroup3",value:3},{name:"CcittGroup4",value:4},{name:"Lzw",value:5},{name:"OldJpeg",value:6},{name:"Jpeg",value:7},{name:"Zip",value:8},{name:"Packbits ",value:32773},{name:"Jpeg2000 ",value:34712},{name:"NikonNef",value:34713}],!1);p.WebPdfImageCompressionEnumJS=b.EnumGenerator.create([{name:"None",value:0},{name:"CcittFax",value:1},
{name:"Lzw",value:2},{name:"Jpeg",value:4},{name:"Zip",value:8},{name:"Jbig2",value:16},{name:"Jpeg2000",value:32},{name:"Auto",value:1024}],!1);p.WebPdfDocumentConformance=b.EnumGenerator.create([{name:"Undefined",value:0},{name:"PdfA_1a",value:1},{name:"PdfA_1b",value:2},{name:"PdfA_2a",value:4},{name:"PdfA_2b",value:8},{name:"PdfA_2u",value:16},{name:"PdfA_3a",value:32},{name:"PdfA_3b",value:64},{name:"PdfA_3u",value:128}],!1);var H=function(){var g=H.prototype;g.get_Name=function(){if(void 0!=
this._4073)return this._4073;b.pv.tne()};g.toObject=function(){return this._517()};g._517=function(){b.pv.tne()}},na=function(){na.superclass.constructor.call(this);na.prototype._517=function(){return{}};this._4073="Pcx"};b.extend(na,H);var oa=function(){oa.superclass.constructor.call(this);var g=oa.prototype;g.get_Compression=function(){return this._2215};g.set_Compression=function(e){this._2215=b.pv.e(e,p.WebBmpCompressionEnumJS)};g.clone=function(){var b=new this.constructor;b._2215=new p.WebBmpCompressionEnumJS(this._2215.valueOf());
return b};g._517=function(){return{compression:this._2215.valueOf()}};this._4073="Bmp";this._2215=new p.WebBmpCompressionEnumJS(1)};b.extend(oa,H);var I=function(g,e){I.superclass.constructor.call(this);var a=I.prototype;a.get_CompressionLevel=function(){return this._1153};a.set_CompressionLevel=function(a){b.pv.n(a);0>a&&(a=0);9<a&&(a=9);this._1153=a};a.get_FilterMethod=function(){return this._6875};a.set_FilterMethod=function(a){this._6875=b.pv.e(a,p.WebPngFilterMethodEnumJS)};a.clone=function(){var a=
new this.constructor;a._1153=this._1153;a._6875=new p.WebPngFilterMethodEnumJS(this._6875.valueOf());return a};a._517=function(){return{compressionLevel:this._1153,filterMethod:this._6875.valueOf()}};this._4073="Png";this._1153=6;this._6875=new p.WebPngFilterMethodEnumJS(31);void 0!=e&&this.set_CompressionLevel(e);void 0!=g&&this.set_FilterMethod(g)};b.extend(I,H);I.bestSpeed=function(){return new I(0,1)};I.fast=function(){return new I(31,4)};I.normal=function(){return new I};I.bestCompression=function(){return new I(31,
8)};var P=function(g){P.superclass.constructor.call(this);var e=P.prototype;e.get_Quality=function(){return this._8529};e.set_Quality=function(a){b.pv.n(a);a!==this._8529&&(1>a&&(a=1),100<a&&(a=100),this._8529=a)};e.get_SaveAsGrayscale=function(){return this._4448};e.set_SaveAsGrayscale=function(a){b.pv.b(a);this._4448=a};e.clone=function(){var a=new this.constructor;a._8529=this._8529;a._4448=this._4448;return a};e._517=function(){return{quality:this._8529,saveAsGrayscale:this._4448}};void 0==g&&
(g=70);b.pv.n(g);this._8529=g;this._4448=!1;this._4073="Jpeg"};b.extend(P,H);var pa=function(){pa.superclass.constructor.call(this);var g=pa.prototype;g.get_NumberOfAnimationCycles=function(){return this._6490};g.set_NumberOfAnimationCycles=function(e){b.pv.n(e);(0>e||65535<e)&&b.pv.toe();this._6490=e};g.get_AnimationDelay=function(){return this._1614};g.set_AnimationDelay=function(e){b.pv.n(e);(0>e||65535<e)&&b.pv.toe();this._1614=e};g.get_InfiniteAnimation=function(){return this._4384};g.set_InfiniteAnimation=
function(e){b.pv.b(e);this._4384=e;this._6490=0};g.get_CreatePageMethod=function(){return this._1367};g.set_CreatePageMethod=function(e){this._1367=b.pv.e(e,p.WebGifCreatePageMethodEnumJS)};g.clone=function(){var b=new this.constructor;b._4384=this._4384;b._6490=this._6490;b._1614=this._1614;b._1367=new p.WebGifCreatePageMethodEnumJS(this._1367.valueOf());return b};g._517=function(){return{infiniteAnimation:this._4384,numberOfAnimationCycles:this._6490,animationDelay:this._1614,createPageMethod:this._1367.valueOf()}};
this._4384=!1;this._1614=this._6490=0;this._1367=new p.WebGifCreatePageMethodEnumJS(1);this._4073="Gif"};b.extend(pa,H);var S=function(){S.superclass.constructor.call(this);var g=S.prototype;g.get_TileHeight=function(){return this._5185};g.set_TileHeight=function(e){b.pv.n(e);0>e&&b.pv.toe();this._5185=e};g.get_TileWidth=function(){return this._9957};g.set_TileWidth=function(e){b.pv.n(e);0>e&&b.pv.toe();this._9957=e};g.get_WaveletLevels=function(){return this._3355};g.set_WaveletLevels=function(e){b.pv.n(e);
(0>e||32<e)&&b.pv.toe();this._3355=e};g.get_CompressionType=function(){return this._4630};g.set_CompressionType=function(e){this._4630=b.pv.e(e,p.WebJpeg2000CompressionTypeEnumJS)};g.get_CompressionRatio=function(){return this._1940};g.set_CompressionRatio=function(e){b.pv.n(e);1>e&&b.pv.toe();this._1940=e};g.get_FileSize=function(){return this._8345};g.set_FileSize=function(e){b.pv.n(e);this._8345=e};g.clone=function(){var b=new this.constructor;b._9957=this._9957;b._5185=this._5185;b._3355=this._3355;
b._4630=new p.WebJpeg2000CompressionTypeEnumJS(this._4630.valueOf());b._1940=this._1940;b._8345=this._8345;return b};g._517=function(){return{tileWidth:this._9957,tileHeight:this._5185,waveletLevels:this._3355,compressionType:this._4630.valueOf(),compressionRatio:this._1940,fileSize:this._8345}};this._4073="Jpeg2000";this._5185=this._9957=0;this._3355=5;this._4630=new p.WebJpeg2000CompressionTypeEnumJS(0);this._1940=20;this._8345=0};b.extend(S,H);var da=function(){da.superclass.constructor.call(this);
var g=da.prototype;g.get_UseMmr=function(){return this._1871};g.set_UseMmr=function(e){b.pv.b(e);this._1871=e};g.get_Lossy=function(){return this._3934};g.set_Lossy=function(e){b.pv.b(e);this._3934=e};g.get_Inaccuracy=function(){return this._489};g.set_Inaccuracy=function(e){b.pv.n(e);(0>e||100<e)&&b.pv.toe();this._489=e};g.get_UseSymbolDictionary=function(){return this._6338};g.set_UseSymbolDictionary=function(e){b.pv.b(e);this._6338=e};g.get_SymbolDictionarySize=function(){return this._1141};g.set_SymbolDictionarySize=
function(e){b.pv.n(e);10>e&&b.pv.toe();this._1141=e};g.clone=function(){var b=new this.constructor;b._1871=this._1871;b._3934=this._3934;b._489=this._489;b._6338=this._6338;b._1141=this._1141;return b};g._517=function(){return{useMmr:this._1871,lossy:this._3934,inaccuracy:this._489,useSymbolDictionary:this._6338,symbolDictionarySize:this._1141}};this._4073="Jbig2";this._3934=this._1871=!1;this._489=50;this._6338=!0;this._1141=6500};b.extend(da,H);var qa=function(){qa.superclass.constructor.call(this);
var g=qa.prototype;g.get_Compression=function(){return this._2215};g.set_Compression=function(e){e=b.pv.e(e,p.WebTiffCompressionEnumJS);switch(e.valueOf()){case 0:case 4:case 7:case 34712:case 5:case 1:case 8:break;default:b.pv.te("Compression '"+e.toString()+"' is not supported.")}this._2215=e};g.get_UsePredictor=function(){return this._3366};g.set_UsePredictor=function(e){b.pv.b(e);this._3366=e};g.get_JpegSettings=function(){return this._8221};g.set_JpegSettings=function(e){b.pv.c(e,P);this._8221=
e};g.get_JpegQuality=function(){return this._8221.get_Quality()};g.set_JpegQuality=function(b){this._8221.get_Quality(b)};g.get_SaveAsGrayscale=function(){return this._8221.get_SaveAsGrayscale()};g.set_SaveAsGrayscale=function(b){this._8221.set_SaveAsGrayscale(b)};g.get_ZipLevel=function(){return this._8018};g.set_ZipLevel=function(e){b.pv.n(e);0>e&&(e=0);9<e&&(e=9);this._8018=e};g.get_Jpeg2000Settings=function(){return this._693};g.set_Jpeg2000Settings=function(e){b.pv.c(e,S);this._693=e};g.get_BinarizationCommand=
function(){return this._1446};g.set_BinarizationCommand=function(e){b.pv.c(e,X.WebChangePixelFormatToBlackWhiteCommandJS);this._1446=e};g.clone=function(){var b=new this.constructor;b._2215=new p.WebTiffCompressionEnumJS(this._2215.valueOf());b._3366=this._3366;b._8221=this._8221.clone();var a=new X.WebChangePixelFormatToBlackWhiteCommandJS,g=this._1446;a._2609=new s.WebBinarizationModeEnumJS(g._2609.valueOf);a._3659=g._3659;a._6906=g._6906;a._348=g._348;a._746=g._746;a._592=g._592;a._8976=g._8976;
a._3044=new s.WebLuminanceComputationModeEnumJS(g._3044.valueOf());b._1446=a;b._8018=this._8018;b._693=this._693.clone();return b};g._517=function(){return{compression:this._2215.valueOf(),usePredictor:this._3366,jpegSettings:this._8221._517(),binarizarionCommand:this._1446.getParams(),zipLevel:this._8018,jpeg2000Settings:this._693._517()}};this._4073="Tiff";this._2215=new p.WebTiffCompressionEnumJS(0);this._3366=!0;this._8221=new P;this._1446=new X.WebChangePixelFormatToBlackWhiteCommandJS;this._8018=
6;this._693=new S};b.extend(qa,H);var ra=function(){ra.superclass.constructor.call(this);var g=ra.prototype;g.get_Compression=function(){return this._2215};g.set_Compression=function(e){this._2215=b.pv.e(e,p.WebPdfImageCompressionEnumJS)};g.get_Conformance=function(){return this._6377};g.set_Conformance=function(e){e=b.pv.e(e,p.WebPdfDocumentConformance);switch(e.valueOf()){case 0:case 2:case 8:case 64:break;default:b.pv.te("Conformance to '"+e.toString()+"' is not supported now.")}this._6377=e};
g.get_JpegSettings=function(){return this._8221};g.set_JpegSettings=function(e){b.pv.c(e,P);this._8221=e};g.get_JpegQuality=function(){return this._8221.get_Quality()};g.set_JpegQuality=function(b){this._8221.get_Quality(b)};g.get_SaveAsGrayscale=function(){return this._8221.get_SaveAsGrayscale()};g.set_SaveAsGrayscale=function(b){this._8221.set_SaveAsGrayscale(b)};g.get_BinarizationCommand=function(){return this._1446};g.set_BinarizationCommand=function(e){b.pv.c(e,X.WebChangePixelFormatToBlackWhiteCommandJS);
this._1446=e};g.get_Jbig2UseGlobals=function(){return this._9057};g.set_Jbig2UseGlobals=function(e){b.pv.b(e);this._9057=e};g.get_Jbig2Settings=function(){return this._8943};g.set_Jbig2Settings=function(e){b.pv.c(e,da);this._8943=e};g.get_Jpeg2000Settings=function(){return this._693};g.set_Jpeg2000Settings=function(e){b.pv.c(e,S);this._693=e};g.get_ZipLevel=function(){return this._8018};g.set_ZipLevel=function(e){b.pv.n(e);0>e&&(e=0);9<e&&(e=9);this._8018=e};g.get_GenerateAnnotationAppearance=function(){return this._4513};
g.set_GenerateAnnotationAppearance=function(e){b.pv.b(e);this._4513=e};g.clone=function(){var b=new this.constructor;b._2215=new p.WebPdfImageCompressionEnumJS(this._2215.valueOf());b._6377=new p.WebPdfDocumentConformance(this._6377.valueOf());b._8221=this._8221.clone();b._693=this._693.clone();var a=new X.WebChangePixelFormatToBlackWhiteCommandJS,g=this._1446;a._2609=new s.WebBinarizationModeEnumJS(g._2609.valueOf);a._3659=g._3659;a._6906=g._6906;a._348=g._348;a._746=g._746;a._592=g._592;a._8976=
g._8976;a._3044=new s.WebLuminanceComputationModeEnumJS(g._3044.valueOf());b._1446=a;b._9057=this._9057;b._8943=this._8943;b._8018=this._8018;b._4513=this._4513;return b};g._517=function(){return{compression:this._2215.valueOf(),conformance:this._6377.valueOf(),jpegSettings:this._8221._517(),jpeg2000Settings:this._693._517(),binarizarionCommand:this._1446.getParams(),jbig2UseGlobals:this._9057,jbig2Settings:this._8943._517(),zipLevel:this._8018,generateAnnotationAppearance:this._4513}};this._4073=
"Pdf";this._2215=new p.WebPdfImageCompressionEnumJS(1024);this._6377=new p.WebPdfDocumentConformance(0);this._8221=new P;this._1446=new X.WebChangePixelFormatToBlackWhiteCommandJS;this._9057=!0;this._8943=new da;this._693=new S;this._8018=6;this._4513=!1};b.extend(ra,H);b.WebServiceJS.defaultConverterService=-1;var vb=function(g,e){var a=vb.prototype;a.started=function(a){};a.progress=function(a,b){};a.finished=function(a,b){};a.get_IsStarted=function(){return this._9420};a.get_IsActive=function(){return this._8963()};
a.get_ConvertationStatus=function(){return this._5029};a.convertFileTo=function(a,d,e,f,g){(this._9420||this._8963())&&b.pv.te("The image file converter already has active image file converting process or already sent the request.");b.pv.c(d,H);b.pv.s(a);b.pv.isf(e)&&(g=f,f=e,e=void 0);var n;try{n=d.get_Name()}catch(l){b.pv.te("Unsupported encoder settings.")}n="ConvertFileTo"+n;a={fileId:a};d=d.toObject();var p=!0,s;for(s in d){p=!1;break}p||(a.settings=d);void 0!=e&&(a.renderingSettings=e.toObject());
var t=this;e=new b.WebRequestJS(n,function(a,b,d){t._890=a.processId;delete a.processId;t._9420=!1;$(t).triggerHandler("started");setTimeout(function(){t._7666()},t._4165);f&&f(a,b,d)},function(a,b,d){t._9420=!1;g&&g(a,b,d)},{type:"POST",data:a});this._5029=void 0;this._9420=!0;return this._3686.sendRequest(e)};a.abortConverting=function(a,d){this._8963()||b.pv.te("The active image file converting process does not exist.");var e=new b.WebRequestJS("AbortConverting",a,d,{type:"POST",data:{processId:this._890}});
return this._3686.sendRequest(e)};a._7666=function(){var a=this,d=new b.WebRequestJS("GetConvertingStatus",function(b){b=b.status;a._5029=b;var d=b.description;"Finished"===d||"Aborted"===d?(a._890=void 0,$(a).triggerHandler("finished",b)):($(a).triggerHandler("progress",b),setTimeout(function(){a._7666()},a._4165))},function(b){a._890=void 0;$(a).triggerHandler("finished",a._5029)},{type:"POST",data:{processId:this._890}});return this._3686.sendRequest(d)};a._8963=function(){return void 0!=this._890};
void 0==g&&(g=300);void 0==e&&(e=b.WebServiceJS.defaultConverterService);b.pv.c(e,b.WebServiceJS);b.pv.n(g);this._3686=e;this._4165=g;this._9420=!1;this._890;this._5029;delete a.started;delete a.progress;delete a.finished};p.WebImageEncoderSettingsJS=H;p.WebPcxEncoderSettingsJS=na;p.WebBmpEncoderSettingsJS=oa;p.WebPngEncoderSettingsJS=I;p.WebJpegEncoderSettingsJS=P;p.WebGifEncoderSettingsJS=pa;p.WebJpeg2000EncoderSettingsJS=S;p.WebJbig2EncoderSettingsJS=da;p.WebTiffEncoderSettingsJS=qa;p.WebPdfEncoderSettingsJS=
ra;p.WebImageConverterJS=vb})(J.Imaging)})(Vintasoft);
