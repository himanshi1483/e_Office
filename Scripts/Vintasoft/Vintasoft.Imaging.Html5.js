// Copyright 2014-2019 VintaSoft Ltd. All rights reserved.
// This software is protected by International copyright laws.
// Any copying, duplication, deployment, redistribution, modification or other
// disposition hereof is STRICTLY PROHIBITED without an express written license
// granted by VintaSoft Ltd. This notice may not be removed or otherwise
// altered under any circumstances.
// This code may NOT be used apart of the VintaSoft product.
(function(H){if(void 0==H.Shared)throw Error("Vintasoft.Shared is not found.");if("1.3.1.3"!==H.version)throw Error("Wrong version of Vintasoft.Shared script.");var b=H.Shared,s=H.Imaging={};s.version="8.8.0.11";s.engine="html5";var m=H.Imaging.Utils={},Z=H.Imaging.ImageProcessing={},tb=H.Imaging.UI={},nb=H.Imaging.UI.VisualTools={};(function(r){function aa(g){void 0==g&&(g=b.WebServiceJS.defaultFileService);b.pv.c(g,b.WebServiceJS,"You should specify correct file service OR define the default file service.");
return g}(function(g){var e=function(h,d,k,f,w,g){var l=e.prototype;l.get_m11=function(){return this._3247};l.set_m11=function(h){b.pv.n(h);this._3247=h};l.get_m12=function(){return this._1542};l.set_m12=function(h){b.pv.n(h);this._1542=h};l.get_m21=function(){return this._677};l.set_m21=function(h){b.pv.n(h);this._677=h};l.get_m22=function(){return this._4538};l.set_m22=function(h){b.pv.n(h);this._4538=h};l.get_offsetx=function(){return this._4793};l.set_offsetx=function(h){b.pv.n(h);this._4793=
h};l.get_offsety=function(){return this._9273};l.set_offsety=function(h){b.pv.n(h);this._9273=h};l.determinant=function(){return this._3247*this._4538-this._1542*this._677};l.invert=function(){var b=1/this.determinant(),b=new e(this._4538*b,-this._1542*b,-this._677*b,this._3247*b,(this._677*this._9273-this._4793*this._4538)*b,(this._1542*this._4793-this._9273*this._3247)*b);this.setMatrix(b);return this};l.transformVector=function(b){b={x:b.x,y:b.y};this.multiplyVector(b);return b};l.transformPoint=
function(b){b={x:b.x,y:b.y};this.multiplyPoint(b);return b};l.transformPoints=function(b){for(var h=0;h<b.length;h++)this.multiplyPoint(b[h])};l.transformRectangle=function(b){var h=[{x:b.x,y:b.y},{x:b.x+b.width,y:b.y+b.height}];this.transformPoints(h);b.x=h[0].x;b.y=h[0].y;b.width=h[1].x-h[0].x;b.height=h[1].y-h[0].y};l.multiplyVector=function(b){var h=b.y*this._677,d=b.x*this._1542;b.x*=this._3247;b.x+=h;b.y*=this._4538;b.y+=d};l.multiplyPoint=function(b){var h=b.y*this._677+this._4793,d=b.x*this._1542+
this._9273;b.x*=this._3247;b.x+=h;b.y*=this._4538;b.y+=d};l.rotate=function(b,h){var d=0,k=0;void 0!=h&&(d=h.x,k=h.y);d=e.multiplyMatrix(this,e._8123(a._2603(b%360),d,k));this.setMatrix(d)};l.rotatePrepend=function(b,h){var d=0,k=0;void 0!=h&&(d=h.x,k=h.y);d=e.multiplyMatrix(e._8123(a._2603(b%360),d,k),this);this.setMatrix(d)};l.setMatrix=function(b){this._3247=b._3247;this._1542=b._1542;this._677=b._677;this._4538=b._4538;this._4793=b._4793;this._9273=b._9273};l.translate=function(b,h){var d=new e(this._3247,
this._1542,this._677,this._4538,this._4793+b,this._9273+h);this.setMatrix(d)};l.translatePrepend=function(b,h){var d=e.multiplyMatrix(e._1965(b,h),this);this.setMatrix(d)};l.scale=function(b,h){var d=e.multiplyMatrix(this,e._9029(b,h));this.setMatrix(d)};l.scalePrepend=function(b,h){var d=e.multiplyMatrix(e._9029(b,h),this);this.setMatrix(d)};l.compareMatrix=function(b){return this._3247==b._3247&&this._1542==b._1542&&this._677==b._677&&this._4538==b._4538&&this._4793==b._4793&&this._9273==b._9273};
l._8273=function(){return{m11:this._3247,m12:this._1542,m21:this._677,m22:this._4538,offsetx:this._4793,offsety:this._9273}};void 0!=h?(this._3247=+h,this._1542=+d,this._677=+k,this._4538=+f,this._4793=+w,this._9273=+g):(this._3247=1,this._677=this._1542=0,this._4538=1,this._9273=this._4793=0)};e.multiplyMatrix=function(b,d){return new e(b._3247*d._3247+b._1542*d._677,b._3247*d._1542+b._1542*d._4538,b._677*d._3247+b._4538*d._677,b._677*d._1542+b._4538*d._4538,b._4793*d._3247+b._9273*d._677+d._4793,
b._4793*d._1542+b._9273*d._4538+d._9273)};e._4837=function(b){var d=new e;d.setMatrix(b);return d};e._9029=function(b,d){return new e(b,0,0,d,0,0)};e._8123=function(b,d,a){null==d&&(a=d=0);var f=Math.sin(b);b=Math.cos(b);if(1===f||-1===f)b=0;if(1===b||-1===b)f=0;return new e(b,f,-f,b,d*(1-b)+a*f,a*(1-b)-d*f)};e._1965=function(b,d){return new e(1,0,0,1,b,d)};WebImageCacheManagerJS=function(){function h(b,h,d,a){void 0==b._9608[h]&&(b._9608[h]={});b._9608[h][d]=a}function d(h,d){for(;d>h._3732;){var a=
h._8344();if(void 0!=a){var k=h._9681(a.data);h._1929(a.iKey,a.cKey);d-=k}else b.pv.te("Error")}}function a(b,h,d){var k=!0;if(void 0!=b[h]){delete b[h][d];for(var f in b[h]){k=!1;break}k&&delete b[h]}}var f=WebImageCacheManagerJS.prototype;f.get_MaxCacheSize=function(){return this._3732};f.set_MaxCacheSize=function(a){b.pv.n(a);0>a&&b.pv.te("Size must be positive.");if(this._3732!==a){var k=this._3732;this._3732=a;if(0===a)this._9608={};else{if(0===k){a=Date.now();for(var f in this._9903)for(var e in this._9903[f])h(this,
f,e,a)}f=this.get_CacheSize();d(this,f)}}};f.get_CacheSize=function(){var b=0;if(void 0!=this._9903)for(var h in this._9903)b+=this._8908(h);return b};f.addImageData=function(a,k,f){void 0==f&&b.pv.te("Data can not be null.");this.containsImageData(a,k)&&b.pv.te("Cache manager already contains data with specified key.");a=a.get_Guid();var e=!1;if(0!=this._3732){var g=this._9681(f);g<=this._3732&&(e=this.get_CacheSize(),d(this,e+g),e=!0,h(this,a,k,Date.now()))}else e=!0;e&&(void 0==this._9903[a]&&
(this._9903[a]={}),this._9903[a][k]=f)};f.containsImageData=function(h,d){b.pv.c(h,b.WebImageJS);b.pv.s(d);var a=h.get_Guid();return void 0!=this._9903[a]?void 0!=this._9903[a][d]:!1};f.getImageData=function(d,a){b.pv.c(d,b.WebImageJS);b.pv.s(a);var k=d.get_Guid();if(void 0!=this._9903[k]){var f=this._9903[k][a];void 0!=f&&0!==this._3732&&h(this,k,a,Date.now());return f}};f.clear=function(){this._9903={};this._9608={}};f.contains=function(h){b.pv.c(h,b.WebImageJS);h=h.get_Guid();return void 0!=this._9903[h]};
f.clearImageCache=function(h){b.pv.c(h,b.WebImageJS);h=h.get_Guid();void 0!=this._9903[h]&&delete this._9903[h];void 0!=this._9608[h]&&delete this._9608[h]};f._1929=function(b,h){a(this._9903,b,h);a(this._9608,b,h)};f._8908=function(b){var h=0;if(void 0!==this._9903[b])for(var d in this._9903[b])h+=this._9681(this._9903[b][d]);return h};f._9681=function(b){return 2*b.length};f._8344=function(){if(void 0!=this._9608){var b=Date.now(),h,d;for(d in this._9608){var a=this._8371(d);void 0!=a&&b>a.date&&
(b=a.date,h=a)}return h}};f._8371=function(b){if(void 0!=this._9608[b]){var h=Date.now(),d="",a;for(a in this._9608[b]){var k=this._9608[b][a];k<h&&(h=k,d=a)}return{data:this._9903[b][d],iKey:b,cKey:d,date:h}}};this._9301=b.WebImagingEnviromentJS.guid();this._9903={};this._9608={};this._3732=64E3};var a=function(){};a._6949=function(b,d,a){if(0===a)return b;a=-a*Math.PI/180;var f=Math.sin(a);a=Math.cos(a);var e=b.x-d.x;b=b.y-d.y;return{x:e*a+b*f+d.x,y:-e*f+b*a+d.y}};a._7036=function(b,d,a){if(0!=
a){a*=-Math.PI/180;var f=Math.sin(a);a=Math.cos(a);for(var e,g,l=0;l<b.length;l++)e=b[l].x-d.x,g=b[l].y-d.y,b[l].x=e*a+g*f+d.x,b[l].y=-e*f+g*a+d.y}};a._2603=function(b){return Math.PI/180*b};a._3921=function(b){return b/Math.PI*180};a._8464=function(b,d,a){for(var f=0;f<b.length;f++)b[f].x*=d,b[f].y*=a};a._7501=function(b,d){return Math.sqrt((b.x-d.x)*(b.x-d.x)+(b.y-d.y)*(b.y-d.y))};a._3189=function(b,d,k){void 0==d&&(d=0);void 0==k&&(k=b.length-1);for(var f=0;d<k;d++)f+=a._7501(b[d],b[d+1]);return f};
a._4902=function(b,d){for(var a=0;a<b.length;a++)b[a].x+=d.x,b[a].y+=d.y};a._7583=function(b,d,a){b=Math.atan2(d.y-b.y,d.x-b.x)-Math.atan2(a.y-d.y,a.x-d.x);return Math.abs(180-Math.abs(180/Math.PI*b))};a._4057=function(b,d,a){b=Math.atan2(b.x-d.x,b.y-d.y);for(b=180*(a?1:0)+180-180*b/Math.PI;360<b;)b-=360;for(;0>b;)b+=360;return b};a._4218=function(b){for(;360<=b;)b-=360;for(;0>b;)b+=360;return b};a._7254=function(h){(-360>=h||360<=h)&&b.pv.te("angleInDegrees");return 90-Math.abs(90-Math.abs(Math.abs(h)-
180))};a._5234=function(b){for(;0>b;)b+=360;for(;360<b;)b-=360;360==b&&(b=0);return b};a._4901=function(b,d){var a=0,f=0,e=d.x-b.x,g=d.y-b.y;0==e||0==g?0==e?f=0>g?-1:1:a=0>e?-1:1:(c=Math.sqrt(e*e+g*g),a=e/c,f=g/c);return{x:a,y:f}};a._3066=function(b,d){d=Math.asin(Math.max(-1,Math.min(1,0*b.x-1*b.y)));beta=Math.acos(Math.max(-1,Math.min(1,0*b.x+1*b.y)));d=0<=d?beta:2*Math.PI-beta;var a=Math.cos(d),f=Math.sin(d);return{x:a,y:f}};a._9204=function(b,d,a){return{x:b.x+d.x*a,y:b.y+d.y*a}};a._3856=function(b,
d,a){var f=d.x-b.x,e=d.y-b.y;d=a.x-b.x;b=a.y-b.y;var g=Math.sqrt(f*f+e*e);a=Math.sqrt(d*d+b*b);if(.01>g||.01>a)return 0;f/=g;e/=g;d/=a;a=b/a;b=Math.asin(Math.max(-1,Math.min(1,f*a-d*e)));d=Math.acos(Math.max(-1,Math.min(1,f*d+e*a)));return 0<=b?d:2*Math.PI-d};a._1764=function(b,d,a){return{x:b.x+a*(d.x-b.x),y:b.y+a*(d.y-b.y)}};a._1419=function(b,d,k){k=a._9221(b,d,k);var f=a._7501(b,k),e=a._7501(d,k),g=a._7501(b,d);return f<=g&&e<=g?k:f<e?b:d};a._9221=function(b,d,a){if(b.x==d.x)return d=b.x,b=a.y,
{x:d,y:b};if(b.y==d.y)return d=a.x,b=b.y,{x:d,y:b};var f=(d.y-b.y)/(d.x-b.x);d=(a.x/f+a.y-(-f*b.x+b.y))/(f+1/f);b=-1/f*(d-a.x)+a.y;return{x:d,y:b}};a._2911=function(b,d){var k=d.y-b.y;if(0==k)return 0;var f=d.x-b.x;return 0==f?90:0<k?a._3921(Math.atan2(k,f)):a._3921(Math.atan2(-k,-f))};a._645=function(b,d){var a=Math.asin(Math.max(-1,Math.min(1,b.x*d.y-d.x*b.y))),f=Math.acos(Math.max(-1,Math.min(1,b.x*d.x+b.y*d.y)));return 0<=a?f:2*Math.PI-f};a._7854=function(b,d,a,f){return{x:(b.x+d.x+a.x+f.x)/4,
y:(b.y+d.y+a.y+f.y)/4}};a._9282=function(b){return{x:b.x+b.width/2,y:b.y+b.height/2}};a._6792=function(b){if(0==b.length)return a._3358();for(var d=b[0].x,k=d,f=b[0].y,e=f,g=1;g<b.length;g++){var l=b[g].x,u=b[g].y;d>l?d=l:k<l&&(k=l);f>u?f=u:e<u&&(e=u)}return{x:d,y:f,width:k-d,height:e-f}};a._8167=function(b){b=a._6792(b);return a._9282(b)};a._8571=function(b){return[{x:b.x,y:b.y},{x:b.x,y:b.y+b.height},{x:b.x+b.width,y:b.y+b.height},{x:b.x+b.width,y:b.y}]};a._1309=function(b,d){for(var a=[],f=0,e=
b.length;f<e-1*!d;f++){var g=[b[f-1],b[f],b[f+1],b[f+2]];d?f?e-2==f?g[3]=b[0]:e-1==f&&(g[2]=b[0],g[3]=b[1]):g[0]=b[e-1]:e-2==f?g[3]=g[2]:f||(g[0]=b[f]);a.push([{x:(-g[0].x+6*g[1].x+g[2].x)/6,y:(-g[0].y+6*g[1].y+g[2].y)/6},{x:(g[1].x+6*g[2].x-g[3].x)/6,y:(g[1].y+6*g[2].y-g[3].y)/6},{x:g[2].x,y:g[2].y}])}return a};a._6314=function(b){var d=b.y-Math.floor(b.y);return{x:Math.floor(b.x),y:Math.floor(b.y),width:parseInt(b.width+1+(b.x-Math.floor(b.x))),height:parseInt(b.height+1+d)}};a._6349=function(b,
d){var a=Math.max(b.x,d.x),f=Math.min(b.x+b.width,d.x+d.width),e=Math.max(b.y,d.y),g=Math.min(b.y+b.height,d.y+d.height);return f>=a&&g>=e};a._4366=function(b,d){var e=Math.max(b.x,d.x),f=Math.min(b.x+b.width,d.x+d.width),g=Math.max(b.y,d.y),p=Math.min(b.y+b.height,d.y+d.height);return f>=e&&p>=g?{x:e,y:g,width:f-e,height:p-g}:a._3358()};a._3722=function(b,d){var a=Math.min(b.x,d.x),f=Math.max(b.x+b.width,d.x+d.width),e=Math.min(b.y,d.y),g=Math.max(b.y+b.height,d.y+d.height);return{x:a,y:e,width:f-
a,height:g-e}};a._4282=function(b,d,e){b=a._8571(b);a._7036(b,e,d);return b};a._525=function(b,d){return b==d?0:b<d?-1:1};a._557=function(b,d,e,f,g,p){var l=[],u=[],m=a._7501(b,d)+a._7501(d,e)+a._7501(e,f),s=!1;void 0==p?p=g:(s=!0,g*=g);m=p/m;p*=p;l.push(b);u.push(0);for(var r,v=b,x=0;1>x;){var y,E=x+m;for(1<E&&(E=1);;)if(y=a._8309(b,d,e,f,E),r=a._981(v,y),r<=p){if(!s)break;if(r>=g||1<=E)break;else E+=(E-x)/2}else E=x+(E-x)/2;l.push(y);u.push(E);v=y;x=E}return{points:l,times:u}};a._3730=function(b,
d,e){for(var f=[],g=0;g<d.length;g++)for(var p=a._557(b[g],d[g][0],d[g][1],d[g][2],e).points,l=0;l<p.length;l++)f.push(p[l]);return f};a._8309=function(b,d,a,f,e){return{x:(1-e)*(1-e)*(1-e)*b.x+3*e*(1-e)*(1-e)*d.x+3*e*e*(1-e)*a.x+e*e*e*f.x,y:(1-e)*(1-e)*(1-e)*b.y+3*e*(1-e)*(1-e)*d.y+3*e*e*(1-e)*a.y+e*e*e*f.y}};a._3358=function(){return{x:0,y:0,width:0,height:0}};a._1672=function(b){return 0===b.x&&0===b.y&&0===b.width&&0===b.height};a._7903=function(b){return 0===b.x&&0===b.y};a._5276=function(b,
d){return b===d?!0:b.x===d.x&&b.y===d.y&&b.width===d.width&&b.height===d.height};a._3895=function(b){var d=Math.min(b.x,b.x+b.width),a=Math.min(b.y,b.y+b.height),e=Math.max(b.x,b.x+b.width);b=Math.max(b.y,b.y+b.height);return{x:d,y:a,width:e-d,height:b-a}};a._8491=function(b,d,e){for(var f=0;f<d.length-1;f++){var g=a._1419(d[f],d[f+1],b);if(a._7501(b,g)<=e)return!0}return!1};a._981=function(b,d){var a=b.x-d.x,e=b.y-d.y;return a*a+e*e};a._6703=function(b,d,e){var f=360-a._3921(a._3856(d,b,e));b=a._7501(b,
d);b+=a._7501(d,e);return 180<=f?-b:b};a._2796=function(b,d){return{x:(b.x+d.x)/2,y:(b.y+d.y)/2}};a._4038=function(b,d,e,f){var g=a._2796(b,d),p=a._2911(b,d);b=a._6949(b,g,-p);d=a._6949(d,g,-p);var l=b.x,u=b.y;b=d.x;d=d.y;var m=Math.sqrt(Math.pow(l-b,2)+Math.pow(u-d,2));if(0===m||m>e+e)return{x:0,y:0};e/=m;var s=Math.sqrt(e*e-.25);e=l+.5*(b-l);m=u+.5*(d-u);u=(u-d)*s;l=(l-b)*s;f=f?{x:e+u,y:m+l}:{x:e-u,y:m-l};return f=a._6949(f,g,p)};a._9234=function(b){var d=[];if(0<b.length){d.push(b[0]);for(var a=
1;a<b.length;a++)b[a].x==b[a-1].x&&b[a].y==b[a-1].y||d.push(b[a]);1!=d.length&&d[0].x==d[d.length-1].x&&d[0].y==d[d.length-1].y&&d.splice(d.length-1,1)}return d};a._3373=function(b){var d=0;if(2<b.length){for(var e=b[0],f,g,p=1;p<b.length;p++)f=b[p],g=p==b.length-1?b[0]:b[p+1],d+=a._6703(e,f,g),e=f;d+=a._6703(e,b[0],b[1])}return 0<=d};a._1063=function(b){if(4>b.length)return b;for(var d=1,e=[],f=0;f<b.length;f++)e.push(0);for(var g=b[0].x,p=b[0].y,l=0,f=1;f<b.length;f++){var u=b[f].y;if(p<u||p==u&&
g<b[f].x)g=b[f].x,p=u,l=f}g=b[l];p=[];for(f=0;f<b.length;f++)p.push(0);for(var m=0,s=3,l=g,r={x:l.x+1,y:l.y},v,x;;){v=l.x-r.x;x=l.y-r.y;for(var y=v*v+x*x,f=0;f<b.length;f++)if(0==e[f]){var E=b[f].x,u=b[f].y;v=l.x-E;x=l.y-u;var W=v*v+x*x;v=r.x-E;x=r.y-u;u=(y+W-(v*v+x*x))/Math.sqrt(y*W);u<s?(s=u,m=1,p[0]=f):u==s&&(p[m++]=f)}if(1<m)for(u=p[m-1],r=a._981(l,b[u]),f=m-2;0<=f;f--)m=a._981(l,b[p[f]]),m>r&&(r=m,u=p[f]);else u=p[0];r=l;l=b[u];if(l.x==g.x&&l.y==g.y)break;e[u]=d;d++;m=0;s=3}d=[];d[0]=g;for(f=
0;f<b.length;f++)0!=e[f]&&(d[e[f]]=b[f]);return d};a._8268=function(b,d,e,f){b=[b,d,e,f];d=a._1063(b);if(4!=d.length)return!1;for(e=0;e<d.length;e++)if(b[0].x===d[e].x&&b[0].y===d[e].y){for(f=0;4>f;f++,e=3==e?0:e+1)if(b[f].x!==d[e].x||b[f].y!==d[e].y)return!1;break}return!0};a._297=function(b,d,e,f,g){return a._9636(e,b,d,g)||a._9636(e,f,d,g)};a._9636=function(b,d,a,e){var g=(e.x-d.x)*(b.y-d.y)+(e.y-d.y)*(d.x-b.x);d=(e.x-a.x)*(d.y-a.y)+(e.y-a.y)*(a.x-d.x);b=(e.x-b.x)*(a.y-b.y)+(e.y-b.y)*(b.x-a.x);
return 0>g&&0>d&&0>b||0<g&&0<d&&0<b||g<Number.EPSILON&&d<Number.EPSILON&&b<Number.EPSILON};a._4669=function(b,d,a){return(a.x-b.x)*(a.x-b.x)+(a.y-b.y)*(a.y-b.y)<=d*d};a._9066=function(b,a){return a.x>=b.x&&a.x<=b.x+b.width&&a.y>=b.y&&a.y<=b.y+b.height};a._6273=function(b,d,e){if(0==e.width||0==e.height)return d;var f;f=e.width/2;e=e.height/2;b=a._2603(b%360);b=Math.atan2(f*Math.sin(b),e*Math.cos(b));f*=Math.cos(b);e*=Math.sin(b);return{x:f+d.x,y:e+d.y}};a._7794=function(b,a){var e=b.length,f,g,p=
!1;f=0;for(g=e-1;f<e;g=f++)b[f].y>a.y!=b[g].y>a.y&&a.x<(b[g].x-b[f].x)*(a.y-b[f].y)/(b[g].y-b[f].y)+b[f].x&&(p=!p);return p};g.WebMatrixJS=e;g.WebImageCacheManagerJS=WebImageCacheManagerJS;g._6002=a})(r.Utils);r.WebBorderColorTypeEnumJS=b.EnumGenerator.create([{name:"AutoDetect",value:0},{name:"Black",value:1},{name:"White",value:2},{name:"Transparent",value:3},{name:"Custom",value:4}],!1);r.WebRotateFlipTypeEnumJS=b.EnumGenerator.create([{name:"RotateNoneFlipNone",value:0},{name:"RotateNoneFlipX",
value:1},{name:"RotateNoneFlipY",value:2},{name:"RotateNoneFlipXY",value:3},{name:"Rotate90FlipNone",value:4},{name:"Rotate90FlipX",value:5},{name:"Rotate90FlipY",value:6},{name:"Rotate90FlipXY",value:7},{name:"Rotate180FlipNone",value:8},{name:"Rotate180FlipX",value:9},{name:"Rotate180FlipY",value:10},{name:"Rotate180FlipXY",value:11},{name:"Rotate270FlipNone",value:12},{name:"Rotate270FlipX",value:13},{name:"Rotate270FlipY",value:14},{name:"Rotate270FlipXY",value:15}],!1);r.WebBinarizationModeEnumJS=
b.EnumGenerator.create([{name:"Threshold",value:0},{name:"Global",value:1},{name:"Adaptive",value:2},{name:"Halftone",value:3}],!1);r.WebBorderRemovalColorTypeEnumJS=b.EnumGenerator.create([{name:"Auto",value:0},{name:"Black",value:1},{name:"White",value:2},{name:"DetectBorderColorForEachSide",value:3}],!1);r.WebImageSideEnumJS=b.EnumGenerator.create([{name:"None",value:0},{name:"Left",value:1},{name:"Right",value:2},{name:"Top",value:4},{name:"Bottom",value:8},{name:"All",value:15}],!0);r.WebImageProcessingDirectionEnumJS=
b.EnumGenerator.create([{name:"Horizontal",value:1},{name:"Vertical",value:2}],!0);r.WebColorChannelEnumJS=b.EnumGenerator.create([{name:"R",value:1},{name:"G",value:2},{name:"B",value:4},{name:"RGB",value:7},{name:"A",value:8},{name:"RGBA",value:15}],!0);r.WebLuminanceComputationModeEnumJS=b.EnumGenerator.create([{name:"Standard",value:0},{name:"Sum",value:1}],!1);r.WebDesaturateMethodEnumJS=b.EnumGenerator.create([{name:"Lightness",value:0},{name:"Luminosity",value:1},{name:"Average",value:2}],
!1);r.WebImageSizeModeEnumJS=b.EnumGenerator.create([{name:"BestFit",value:1},{name:"FitToHeight",value:2},{name:"FitToWidth",value:3},{name:"Normal",value:4},{name:"PixelToPixel",value:5},{name:"Zoom",value:6}],!1);r.WebThumbnailFlowStyleEnumJS=b.EnumGenerator.create([{name:"SingleColumn",value:1},{name:"SingleRow",value:2},{name:"WrappedRows",value:3},{name:"FixedColumns",value:4}],!1);r.WebThumbnailScaleEnumJS=b.EnumGenerator.create([{name:"Smallest",value:50},{name:"Small",value:75},{name:"Normal",
value:100},{name:"Large",value:150}],!1);r.WebPaletteTypeJS=b.EnumGenerator.create([{name:"Adaptive",value:0},{name:"Web",value:1}],!1);r.WebColorQuantizationMethodEnumJS=b.EnumGenerator.create([{name:"FastPopularity",value:0},{name:"AdvancedPopularity",value:1},{name:"FastMedianCut",value:2},{name:"AdvancedMedianCut",value:3}],!1);r.WebNoiseTypeEnumJS=b.EnumGenerator.create([{name:"Perlin",value:0},{name:"NegativeExponential",value:1},{name:"Rayleigh",value:2},{name:"Uniform",value:3},{name:"Gaussian",
value:4}],!1);r.WebBlendingModeEnumJS=b.EnumGenerator.create([{name:"Normal",value:0},{name:"Multiply",value:1},{name:"Screen",value:2},{name:"Overlay",value:3},{name:"Darken",value:4},{name:"Lighten",value:5},{name:"ColorDodge",value:6},{name:"ColorBurn",value:7},{name:"HardLight",value:8},{name:"SoftLight",value:9},{name:"Difference",value:10},{name:"Exclusion",value:11},{name:"Hue",value:12},{name:"Saturation",value:13},{name:"Color",value:14},{name:"Luminosity",value:15},{name:"Brightness",value:32},
{name:"Contrast",value:33},{name:"Gamma",value:34},{name:"Min",value:35},{name:"Max",value:36},{name:"Sum",value:37},{name:"Sub",value:38},{name:"Division",value:39}],!1);r.WebColorSpaceTypeEnumJS=b.EnumGenerator.create([{name:"Unsupported",value:0},{name:"Gray",value:1},{name:"sRGB",value:2},{name:"CMYK",value:3},{name:"CMY",value:4},{name:"CIELab",value:5},{name:"CIEXYZ",value:6},{name:"CIEYxy",value:7},{name:"CIELUV",value:8},{name:"PCSLab",value:9},{name:"PCSXYZ",value:10},{name:"YCbCrK",value:11},
{name:"YCbCr",value:12},{name:"HSV",value:13},{name:"HLS",value:14}],!1);r.WebHistogramTypeEnumJS=b.EnumGenerator.create([{name:"Luminosity",value:1},{name:"Red",value:2},{name:"Green",value:4},{name:"Blue",value:8},{name:"Rgb",value:14},{name:"All",value:15}],!0);r.WebColorBaseJSTypeEnumJS=b.EnumGenerator.create([{name:"Indexed",value:0},{name:"Gray16",value:1},{name:"RGB555",value:2},{name:"RGB565",value:3},{name:"RGB24",value:4},{name:"ARGB32",value:5},{name:"RGB48",value:6},{name:"ARGB64",value:7}],
!1);r.WebFrequencyFilterTypeEnumJS=b.EnumGenerator.create([{name:"Ideal",value:0},{name:"Butterworth",value:1},{name:"Gaussian",value:2}],!1);r.WebImageLayoutDirectionEnumJS=b.EnumGenerator.create([{name:"Horizontal",value:1},{name:"Vertical",value:2}],!1);r.WebImageViewerDisplayModeEnumJS=b.EnumGenerator.create([{name:"SinglePage",value:1},{name:"SingleContinuousColumn",value:2},{name:"SingleContinuousRow",value:3},{name:"TwoColumns",value:4},{name:"TwoRows",value:5},{name:"TwoContinuousColumns",
value:6},{name:"TwoContinuousRows",value:7},{name:"ThreeColumns",value:8},{name:"ThreeRows",value:9},{name:"ThreeContinuousColumns",value:10},{name:"ThreeContinuousRows",value:11},{name:"Custom",value:12}],!1);r.WebImageViewerMultipageDisplayModeEnumJS=b.EnumGenerator.create([{name:"AllImages",value:1},{name:"FixedImages",value:2}],!1);r.WebImageAnchorTypeEnumJS=b.EnumGenerator.create([{name:"None",value:0},{name:"Top",value:1},{name:"Bottom",value:2},{name:"Left",value:4},{name:"Right",value:8},
{name:"Center",value:15},{name:"TopLeft",value:5},{name:"TopRight",value:9},{name:"BottomLeft",value:6},{name:"BottomRight",value:10}],!0);r.WebImageCompareOperatorEnumJS=b.EnumGenerator.create([{name:"Difference",value:0},{name:"AvgDifference",value:1},{name:"MaxDifference",value:2},{name:"MinDifference",value:3}],!1);var ob=function(g){function e(b){var d=b._frame.contentDocument||b._frame.contentWindow.document,e=d.body,h=e.style;h.margin=0;h.padding=0;h.width="100%";h.height="100%";for(h=0;h<
b._4826.length;h++){var g=d.createElement("img");g.id=b._4826[h].get_Guid();var k=g.style;k.maxWidth="100%";k.maxHeight="100%";k.margin=0;k.padding=0;k.width="auto";k.height="auto";g.onload=function(){a(b)};e.appendChild(g);h<b._4826.length-1&&(g=d.createElement("p"),g.style.pageBreakAfter="always",g.style.margin=0,g.className="pageBreak",e.appendChild(g))}}function a(b){b._ready++;b._ready===b._4826.length&&($(b).triggerHandler("beginPrint"),b._aborted||(b._frame.contentWindow.focus(),b._frame.contentWindow.print()),
setTimeout(function(){$(b._frame).remove()},6E3),$(b).triggerHandler("endPrint"))}var h=ob.prototype;h.imagesPreparationFailed=function(b,a){};h.imagePrepared=function(b){};h.beginPrint=function(b){};h.endPrint=function(b){};h.print=function(){for(var b=0;b<this._4826.length&&!this._aborted;b++){var a=this._5313(b);void 0!=a&&this._4974.push(a)}};h.abort=function(){this._5853()};h._5313=function(b){var a=this;return this._4826[b].getImageAsBase64String(function(b){a._6246(b.image.get_Guid(),b.fileId)},
function(b){if("abort"!==b.statusText)if(void 0!=b.errorMessage)a._5853(b.errorMessage);else{var d;b.responseJSON&&(d=b.responseJSON.ExceptionMessage);a._5853(d)}})};h._5853=function(b){this._aborted=!0;for(var a=0;a<this._4974.length;a++){var d=this._4974[a].object;1!==d.readyState&&2!==d.readyState||d.abort()}this._4974=[];$(this._frame).remove();void 0!=b&&$(this).triggerHandler("imagesPreparationFailed",b)};h._6246=function(b,a){$(this).triggerHandler("imagePrepared");if(!this._aborted){var d=
$(this._frame).contents().find("#"+b)[0];void 0!=d&&(d.src=a)}};b.pv.ac(g,b.WebImageJS);var d=this;d._4826=g;d._ready=0;d._frame;d._aborted=!1;d._4974=[];g=document.createElement("iframe");g.id=b.WebImagingEnviromentJS.guid();g.src="";d._frame=g;var k=g.style;k.position="absolute";k.width=1;k.height=1;k.margin=0;k.left="-1000px";k.top="-1000px";document.body.appendChild(g);setTimeout(function(){e(d)},0);delete h.imagesPreparationFailed;delete h.imagePrepared;delete h.beginPrint;delete h.endPrint};
r.WebPrintManagerJS=ob;var mb=function(g,e){var a=mb.prototype;a.get_BackgroundStyle=function(){return this._8117};a.get_BorderStyle=function(){return this._2365};a.equals=function(a){return this===a?!0:b.pv.ic(a,mb)?a._2365===this._2365&&a._8117===this._8117:!1};a._5133=function(){var b="background:"+this._8117+";",b=b+("border:"+this._2365+";"),b=b+("margin-left:-"+this._1594+"px;"),b=b+("margin-top:-"+this._1594+"px;");return b+="box-sizing: content-box;-webkit-box-sizing: content-box;"};b.pv.s(g,
e);this._8117=g;this._2365=e;this._1594=function(b){b=b.split(" ");for(var a,e=0;e<b.length;e++)if(a=parseInt(b[e]),!isNaN(a))return 0<a?a:0;if(isNaN(a))return 0}(this._2365)};r.WebThumbnailAppearanceJS=mb;(function(g){(function(a){function d(a,f){e(a);b.pv.f(f,"The second parameter must be a Function, which allows to create the WebVisualToolJS object.");void 0!=A._1512[a]&&b.pv.te("Fabric does not allow to change the standard tool with ID '"+a+"'.")}function e(a){b.pv.s(a);""===a&&b.pv.te("The element ID cannot be empty.")}
var h=function(){};h._10003=function(b,a){b.setTransform(a._3247,a._1542,a._677,a._4538,a._4793,a._9273)};h._1431=function(b){b.setTransform(1,0,0,1,0,0)};g._8891=h;var l=function(){var a=l.prototype;a.mouseDown=function(b,a){};a.mouseMove=function(b,a){};a.mouseUp=function(b,a){};a.mouseDoubleClick=function(b,a){};a.initializationStarted=function(b,a){};a.initializationFinished=function(b,a){};a.initializationException=function(b,a){};a.get_Name=function(){return this._4073};a.get_ActionButton=function(){return this._1706};
a.set_ActionButton=function(a){b.pv.n(a);1!==a&&2!==a&3!==a&&b.pv.tae();this._1706=a};a.get_IsEnabled=function(){return this._5725};a.set_IsEnabled=function(a){this._3175&&(b.pv.b(a),this._5725!==a&&(this._5725=a,this._8218(this._5725),this._6373()))};a.get_DisableContextMenu=function(){return this._3408};a.set_DisableContextMenu=function(a){b.pv.b(a);this._3408=a};a.get_Cursor=function(){return this._9770};a.set_Cursor=function(a){b.pv.s(a);this._774()&&this._3891&&this._6701(a);this._9770=a};a.get_ActionCursor=
function(){return this._6813};a.set_ActionCursor=function(a){b.pv.s(a);this._6813=a};a.get_MouseClicksDelta=function(){return this._4853};a.set_MouseClicksDelta=function(a){b.pv.n(a);0>a&&(a=10);this._4853=a};a.get_MouseClickCount=function(){return this._8503};a.get_IsMultipageModeSupported=function(){return!1};a.toString=function(){return this._4073};a.reset=function(){};a.getDrawingBox=function(){return m._6002._3358()};a._5390=function(b){return!this._5725||void 0!=this._6829&&this._6829._2362()&&
(b=this._6829.getImageIndexByLocation(b.pv),0<=b&&b!=this._6829._4191)?!1:!0};a._774=function(b){return this._5725?void 0!=this._6829&&void 0!=this._6829.get_FocusedImage():this._5725};a._8218=function(b){(this._3891=b)?(this._6701(this._9770),this.set_ActionCursor(this._6813)):this._6701("")};a._2485=function(){};a._4499=function(b,a){};a._3127=function(b,a){};a._673=function(){this._8656();this._4202=this._6829=void 0};a._7012=function(b){if(this._6829=b)this._3175=!0,this._4975(),this._7030(),
this._5069(),this.set_IsEnabled(!0)};a._8656=function(){this._7030();this.set_IsEnabled(!1);this._3175=!1;this._5491()};a._5491=function(){};a._9097=function(b){this._9638("initializationStarted",b)};a._4820=function(b){this._9638("initializationFinished",b)};a._3896=function(b){this._9638("initializationException",b)};a._7030=function(){void 0!=this._6829&&$(this._6829._1981).off("."+this._9301)};a._5069=function(){var b=this,a=b._9301,d=b._6829._1981;$(d).on("_2669."+a,function(a,d){b._4499(a,d)});
$(d).on("_5748."+a,function(a,d){b._3127(a,d)});$(d).on("disposed."+a,function(){b._673()})};a._5217=function(b){if(this._774()){var a=Date.now();Math.abs(a-this._9269)>this._4853&&(this._8503=0);this._9269=a;this._9638("mouseDown",b.e)}};a._8012=function(b){this._774()&&this._9638("mouseMove",b.e)};a._946=function(b){if(this._774()){var a=Date.now();Math.abs(a-this._9269)<this._4853?this._8503++:this._8503=1;this._9638("mouseUp",b.e)}};a._988=function(b){this._774()&&this._9638("mouseDoubleClick",
b.e)};a._6373=function(){if(this._4202&&this._3175){var b=this.getDrawingBox(),a=this._9027,d=m._6002._1672(b),e=m._6002._1672(a),b=d===e?m._6002._3722(b,a):d?a:b;m._6002._1672(b)||this._6829.invalidate(m._6002._6314(b))}};a._9638=function(b,a){$(this).triggerHandler(b,a)};a._6701=function(b){void 0!=this._6829&&this._6829._8968(b)};a._4975=function(){void 0!=this._6829&&(this._4202=this._6829._9270)};a._5567=function(b,a,d){};this._4073="VisualTool";this._6829;this._4202;this._9301=b.WebImagingEnviromentJS.guid();
this._1706=1;this._3408=this._3175=this._5725=!1;this._6813=this._9770="default";this._3891=!1;this._8503=1;this._4853=250;this._9269=0;this._9027=m._6002._3358();this._4975();delete a.mouseDown;delete a.mouseMove;delete a.mouseUp;delete a.mouseDoubleClick;delete a.initializationStarted;delete a.initializationFinished;delete a.initializationException},u=function(){function a(b,d){var e="";switch(b.direction){case "top_left":case "bottom_right":e=0===d||180===d?"nw-resize":"sw-resize";break;case "top_right":case "bottom_left":e=
0===d||180===d?"sw-resize":"nw-resize";break;case "top_middle":case "bottom_middle":e=0===d||180===d?"n-resize":"e-resize";break;case "middle_right":case "middle_left":e=0===d||180===d?"e-resize":"n-resize"}return e}function d(b,a){var e=a._4615,f=b.x-e.x,e=b.y-e.y,g=a._6829._6964(),h,k,x,y;switch(a._570.direction){case "top_left":a._570.x+f<a._8999[2].x?(a._hm=!1,h=a._570.x+f,k=a._6387.width-f):(a._hm=!0,h=a._8999[2].x,k=a._570.x+f-h);a._570.y+e<a._8999[5].y?(a._vm=!1,x=a._570.y+e,y=a._6387.height-
e):(a._vm=!0,x=a._8999[5].y,y=a._570.y+e-x);break;case "top_middle":h=a._8999[0].x;k=a._6387.width;a._570.y+e<a._8999[5].y?(a._vm=!1,x=a._570.y+e,y=a._6387.height-e):(a._vm=!0,x=a._8999[5].y,y=a._570.y+e-x);break;case "top_right":a._570.x+f>a._8999[0].x?(a._hm=!1,h=a._8999[0].x,k=a._6387.width+f):(this._hm=!0,h=a._570.x+f,k=a._8999[0].x-h);a._570.y+e<a._8999[5].y?(a._vm=!1,x=a._570.y+e,y=a._6387.height-e):(a._vm=!0,x=a._8999[5].y,y=a._570.y+e-x);break;case "middle_left":x=a._8999[0].y;y=a._6387.height;
a._570.x+f<a._8999[2].x?(a._hm=!1,h=a._570.x+f,k=a._6387.width-f):(a._hm=!0,h=a._8999[2].x,k=a._570.x+f-h);break;case "middle_right":x=a._8999[0].y;y=a._6387.height;a._570.x+f>a._8999[0].x?(a._hm=!1,h=a._8999[0].x,k=a._6387.width+f):(a._hm=!0,h=a._570.x+f,k=a._8999[0].x-h);break;case "bottom_left":a._570.x+f<a._8999[2].x?(a._hm=!1,h=a._570.x+f,k=a._6387.width-f):(a._hm=!0,h=a._8999[2].x,k=a._570.x+f-h);a._570.y+e>a._8999[1].y?(a._vm=!1,x=a._8999[1].y,y=a._6387.height+e):(a._vm=!0,x=a._570.y+e,y=a._8999[1].y-
x);break;case "bottom_middle":h=a._8999[0].x;k=a._6387.width;a._570.y+e>a._8999[1].y?(a._vm=!1,x=a._8999[1].y,y=a._6387.height+e):(a._vm=!0,x=a._570.y+e,y=a._8999[1].y-x);break;case "bottom_right":a._570.x+f>a._8999[0].x?(a._hm=!1,h=a._8999[0].x,k=a._6387.width+f):(a._hm=!0,h=a._570.x+f,k=a._8999[0].x-h),a._570.y+e>a._8999[0].y?(a._vm=!1,x=a._8999[0].y,y=a._6387.height+e):(a._vm=!0,x=a._570.y+e,y=a._8999[0].y-x)}0>h&&(k+=h,h=0);h+k>g.width&&(k=g.width-h);0>x&&(y+=x,x=0);x+y>g.height&&(y=g.height-
x);0>k&&(k=0);0>y&&(y=0);a.set_Rectangle({x:h,y:x,width:k,height:y})}var e=u.superclass;e.constructor.call(this);var f=u.prototype;f.get_BackColor=function(){return this._8493};f.set_BackColor=function(a){b.pv.s(a);this._8493!=a&&(this._8493=a,this._2131&&this._774()&&this._6373())};f.get_BorderColor=function(){return this._8393};f.set_BorderColor=function(a){b.pv.s(a);this._8393!=a&&(this._8393=a,this._2131&&this._774()&&this._6373())};f.get_Rectangle=function(){return{x:this._3395.x,y:this._3395.y,
width:this._3395.width,height:this._3395.height}};f.set_Rectangle=function(a){b.pv.r(a);var d=a.x,e=a.y,f=a.width,h=a.height;(0>d||0>e||0>f||0>h)&&b.pv.tae();if(!m._6002._5276(this._3395,a)&&void 0!=this._6829){var g=this._6829._6964();a=g.width;g=g.height;if(d>a||e>g)d=e=f=h=0;d+f>a&&(f=a-d);e+h>g&&(h=g-e);this._3395={x:d,y:e,width:f,height:h};this._774()&&this._6373()}};f.set_ActionCursor=function(b){e.set_ActionCursor.call(this,b);this._774()&&this._3891&&this._2131&&this._6701(b)};f.get_Movable=
function(){return this._4773};f.set_Movable=function(a){b.pv.b(a);this._4773=a};f.get_Resizable=function(){return this._1920};f.set_Resizable=function(a){b.pv.b(a);a!==this._1920&&(this._1920=a,this._1920||(this._780=void 0),this._2131&&this._774()&&this._6373())};f.reset=function(){this._5491();this._6701(this._9770)};f.getDrawingBox=function(){if(void 0==this._6829||void 0==this._5159)return m._6002._3358();var b=this.get_Rectangle();if(m._6002._1672(b))return b;this._5159.transformRectangle(b);
b=m._6002._3895(b);this._1920&&(b.x-=5,b.y-=5,b.width+=10,b.height+=10);b.x-=2;b.y-=2;b.width+=4;b.height+=4;return b};f._7012=function(b){e._7012.call(this,b);this._5159=this._6829._4892();m._6002._1672(this._3395)||this._2485()};f._5491=function(){this._4615=this._6387=this._8999=this._6656=this._570=this._780=void 0;this._2131=!1;this.set_Rectangle(m._6002._3358())};f._2485=function(){this._774()&&this._6373()};f._5217=function(b){e._5217.call(this,b);if(this._3891){var a=b.pc;if(b.b==this._1706&&
this._774()){var d=this._6829._8712(),f=d.transformPoint(a);this._4615=f;if(this._2131){a=this._873(a);if(void 0==a&&m._6002._9066(this._3395,f))if(this._4773)a=this.get_Rectangle();else{this._4615=void 0;return}if(void 0==a)this._570=this._780=void 0,this.set_Rectangle(m._6002._3358()),this._2392(this._4615)?(b.handled=!0,b.active=!0):this._4615=void 0;else{f=d.transformPoint({x:a.x,y:a.y});this._570={x:f.x,y:f.y};if(void 0!=a.width)this._570.width=a.width,this._570.height=a.height,this._6656={x:a.x,
y:a.y};else{this._570.direction=a.direction;this._570.r=a.r;this._8999=[];for(f=0;f<this._780.length;f++)this._8999.push(d.transformPoint(this._780[f]));this._6387={width:this._3395.width,height:this._3395.height}}b.handled=!0;b.active=!0}}else this._2392(this._4615)?(b.handled=!0,b.active=!0):this._4615=void 0}}};f._8012=function(b){e._8012.call(this,b);if(this._3891){var f=b.pc,h=this._6829._8712().transformPoint(f);if(void 0!=this._4615){if(void 0==this._570){if(this._6701(this._9770),f=this._4615,
void 0!=f){var g=h.x-f.x,k=h.y-f.y;if(0!==g||0!==k){var x=this._6829._6964(),y=f.x,l=f.y;0>g&&(g*=-1,y=h.x);0>k&&(k*=-1,l=h.y);0>y&&(y=0,g=f.x);0>l&&(l=0,k=f.y);y+g>x.width&&(g=x.width-y);l+k>x.height&&(k=x.height-l);this.set_Rectangle({x:y,y:l,width:g,height:k})}}}else void 0!=this._570.width?(this._6701(this._6813),g=this._4615,f=h.x-g.x,x=h.y-g.y,h=this._6829._6964(),g=this._3395.width,k=this._3395.height,f=this._6656.x+f,x=this._6656.y+x,0>f&&(f=0),0>x&&(x=0),f+g>h.width&&(f=h.width-g),x+k>h.height&&
(x=h.height-k),this.set_Rectangle({x:f,y:x,width:g,height:k})):(f=0,void 0!=this._6829._6419&&(f=this._6829._6419),this._6701(a(this._570,f)),d(h,this));b.handled=!0;b.active=!0}else this._3891&&(this._2131?(g=this._873(f),void 0==g&&m._6002._9066(this._3395,h)&&(g=this._3395),void 0!=g?(void 0!=g.width?this._6701(this._6813):(f=0,void 0!=this._6829._6419&&(f=this._6829._6419),this._6701(a(g,f))),b.handled=!0):this._6701(this._9770)):this._6701(this._9770))}};f._946=function(b){e._946.call(this,b);
if(this._3891){var a=this._4615;this._4615=void 0;void 0==this._570?(1>this._3395.width&&1>this._3395.height&&this.set_Rectangle(m._6002._3358()),void 0!=a&&(b.handled=!0)):(this._6387=this._8999=this._6656=this._570=void 0,b.handled=!0)}};f._873=function(b,a){var d;void 0==a&&(a=b.y,b=b.x);if(void 0!=this._780)for(d=0;d<this._780.length;d++)if(5>=Math.abs(b-this._780[d].x)&&5>=Math.abs(a-this._780[d].y))return d=this._780[d]};f._774=function(b){if(this._5725){var a=this._6829;return void 0!=a&&(a=
a.get_FocusedImage(),void 0==b&&(b=a),void 0!=b&&b===a)?!b.get_IsBad():!1}return this._5725};f._2392=function(b){var a=this._6829._6964();return m._6002._9066({x:0,y:0,width:a.width,height:a.height},b)};f._5567=function(b,a,d){this._5159=b;this._2131=!1;if(this._774(d))if(a=this._3395,m._6002._1672(a))this._9027=m._6002._3358();else{d=this._4202.getContext("2d");h._10003(d,b);d.beginPath();var e=Math.max(Math.abs(b._3247),Math.abs(b._4538));0===e&&(e=Math.max(Math.abs(b._1542),Math.abs(b._677)));
d.lineWidth=1/e;d.setLineDash&&d.setLineDash([4]);d.strokeStyle=this.get_BorderColor();d.fillStyle=this.get_BackColor();d.rect(a.x,a.y,a.width,a.height);d.fill();d.stroke();h._1431(d);d.setLineDash&&d.setLineDash([]);if(this._1920){var f=this._3395;if(!m._6002._1672(f))for(a=f.x,d=f.y,e=f.width,f=f.height,a=[{x:a,y:d},{x:a+e/2,y:d},{x:a+e,y:d},{x:a,y:d+f/2},{x:a+e,y:d+f/2},{x:a,y:d+f},{x:a+e/2,y:d+f},{x:a+e,y:d+f}],b.transformPoints(a),b=this._4202.getContext("2d"),b.setLineDash&&b.setLineDash([]),
b.lineWidth=1,b.fillStyle="rgba(255,255,255,0.36)",b.strokeStyle="rgba(0,0,0,0.75)",this._780=[{x:a[0].x,y:a[0].y,r:4,direction:"top_left"},{x:a[1].x,y:a[1].y,r:4,direction:"top_middle"},{x:a[2].x,y:a[2].y,r:4,direction:"top_right"},{x:a[3].x,y:a[3].y,r:4,direction:"middle_left"},{x:a[4].x,y:a[4].y,r:4,direction:"middle_right"},{x:a[5].x,y:a[5].y,r:4,direction:"bottom_left"},{x:a[6].x,y:a[6].y,r:4,direction:"bottom_middle"},{x:a[7].x,y:a[7].y,r:4,direction:"bottom_right"}],a=0;a<this._780.length;a++)d=
this._780[a],e=b,e.beginPath(),e.arc(d.x,d.y,d.r,0,2*Math.PI),e.fill(),e.stroke()}this._2131=!0;this._9027=this.getDrawingBox()}else this._9027=m._6002._3358()};this._6813="move";this._4073="RectangularSelection";this._8493="rgba(0,200,255,0.5)";this._8393="rgba(0,0,0,1)";this._3395=m._6002._3358();this._1920=this._4773=!0;this._4615=void 0;this._2131=!1;this._570=this._780=this._6387=this._8999=this._6656=void 0;this._5159};b.extend(u,l);var r=function(){var a=r.superclass;a.constructor.call(this);
var d=r.prototype;d.get_SelectedItem=function(){if(void 0==this._4096)return-1;for(var b=this._4096.ci,a=0,d=0;d<b;d++)a+=this._2699[d].get_Count();return a+=this._4096.ei};d.set_SelectedItem=function(a){b.pv.n(a);0>a&&b.pv.toe();for(var d=a,e=0,f=0;e<this._2699.length;e++){var h=this._2699[e].get_Count(),f=f+h;if(d>=h)d-=h;else break}a>=f&&b.pv.toe();this._4096={ci:e,ei:d};this._774()&&this._8835&&this._6373()};d.get_SelectedItemBrushColor=function(){return this._6549};d.set_SelectedItemBrushColor=
function(a){b.pv.s(a);this._6549!==a&&(this._6549=a,this._774()&&this._8835&&this._6373())};d.get_SelectedItemPenColor=function(){return this._1674};d.set_SelectedItemPenColor=function(a){b.pv.s(a);this._1674!==a&&(this._1674=a,this._774()&&this._8835&&this._6373())};d.reset=function(){this.clearItems()};d.addItems=function(a){b.pv.c(a,K);this._2699.push(a);this._774()&&this._6373()};d.removeItemAt=function(a){b.pv.n(a);(0>a||a>=this._2699.length)&&b.pv.toe();this._2699.splice(a,1);this._774()&&this._6373()};
d.clearItems=function(){this._4096=void 0;this._8835=!1;this._2699=[];this._774()&&this._6373()};d.findItem=function(a,d){b.pv.n(a,d);if(this._8835){var e=this._6829._6979(a,d),e=this._9711(e.x,e.y);if(void 0!=e)return e.item}};d.getDrawingBox=function(){if(void 0==this._6829||void 0==this._5159)return m._6002._3358();for(var b=m._6002._3358(),a=0;a<this._2699.length;a++){var d=this._2699[a].getDrawingBox();m._6002._1672(d)||(b=m._6002._1672(b)?d:m._6002._3722(b,d))}m._6002._1672(b)||(this._5159.transformRectangle(b),
b=m._6002._3895(b));return b};d.selectItem=function(a){b.pv.c(a,B);var d=this._4096;if(void 0==d||this._2699[d.ci]._442[d.ei]!==a){for(var d=0,e=-1;d<this._2699.length&&(e=this._2699[d]._442.indexOf(a),-1===e);d++);-1===e&&b.pv.te("Item is not contained in tool regions.");this._4096={ci:d,ei:e};this._774()&&this._8835&&this._6373()}};d._7012=function(b){a._7012.call(this,b);this._5159=this._6829._4892()};d._5491=function(){this.clearItems()};d._9711=function(b,a){if(this._8835)for(var d=this._6829._8712().transformPoint({x:b,
y:a}),e=this._2699.length-1;0<=e;e--)for(var f=this._2699[e],h=f.get_Count()-1;0<=h;h--){var g=f.get_Item(h);if(m._6002._7794(g.get_Path(),d))return{item:g,ci:e,ei:h}}};d._2485=function(){this._774()&&this._6373()};d._5217=function(b){a._5217.call(this,b);b.b===this._1706&&this._774()&&(b=b.pc,b=this._9711(b.x,b.y),this._4096=void 0==b?void 0:{ci:b.ci,ei:b.ei},this._6373())};d._8012=function(b){a._8012.call(this,b);if(this._774()){b=b.pc;var d;b=this._9711(b.x,b.y);void 0!=b&&(d=b.item);void 0!=d?
(this._6829._8026(d.get_ToolTip()),""!==this._6813&&this._6701(this._6813)):(this._6701(this._9770),this._6829._8026(""))}};d._774=function(b){if(this._5725){var a=this._6829;return void 0!=a&&(a=a.get_FocusedImage(),void 0==b&&(b=a),void 0!=b&&b===a)?!b.get_IsBad():!1}return this._5725};d._5567=function(b,a,d){this._5159=b;this._8835=!1;if(this._774(d)){a=this._4202.getContext("2d");d=this._4096;var e=void 0!=d?d.ci:-1;h._10003(a,b);for(b=0;b<this._2699.length;b++)b!=e?this._2699[b]._3402(a,-1,"",
""):this._2699[b]._3402(a,d.ei,this._6549,this._1674);for(b=d=0;b<this._2699.length;b++)d+=this._2699[b]._442.length;0<d&&(this._8835=!0);h._1431(a);this._9027=this.getDrawingBox()}else this._9027=m._6002._3358()};this._4073="HighlightTool";this._2699=[];this._4096=void 0;this._6549="rgba(0,0,255,0.18)";this._1674="rgba(0,128,0,0.75)";this._8835=!1;this._5159};b.extend(r,l);var B=function(a){var d=B.prototype;d.get_Path=function(){return this._5254};d.get_ToolTip=function(){return this._2075};d.set_ToolTip=
function(b){this._2075=b};d.getDrawingBox=function(){var b=m._6002._6792(this._5254);--b.x;--b.y;b.width+=2;b.height+=2;return b};d._1170=function(b){if(0!=this._5254.length){b.beginPath();b.moveTo(this._5254[0].x,this._5254[0].y);for(var a=1;a<this._5254.length;a++)b.lineTo(this._5254[a].x,this._5254[a].y);b.closePath();b.fill();b.stroke()}};this._5254=[];b.pv.ad(a,b.pv.p);for(d=0;d<a.length;d++)this._5254.push({x:a[d].x,y:a[d].y});this._2075=""};B.createObjectFromRectangle=function(a){b.pv.r(a);
a=m._6002._8571(a);return new B(a)};B.createObjectFromPolygon=function(b){return new B(b)};var K=function(a,d,e){var f=K.prototype;f.get_Count=function(){return this._442.length};f.get_Item=function(a){b.pv.n(a);(0>a||a>this._442.length)&&b.pv.toe();return this._442[a]};f.getDrawingBox=function(){for(var b=m._6002._3358(),a=0;a<this.get_Count();a++)var d=this.get_Item(a).getDrawingBox(),b=m._6002._1672(b)?d:m._6002._3722(b,d);return b};f._3402=function(b,a,d,e){b.fillStyle=this._1825;b.strokeStyle=
this._7027;for(var f=0;f<this._442.length;f++)f!=a?this._442[f]._1170(b):(b.fillStyle=d,b.strokeStyle=e,this._442[f]._1170(b),b.fillStyle=this._1825,b.strokeStyle=this._7027)};b.pv.ac(a,B);void 0==e&&(e="rgba(0,0,0,1)");b.pv.s(d,e);this._1825=d;this._7027=e;this._442=a},v=function(){function a(b){var d=b._6829,e=b.get_Rectangle(),e=m._6002._3895(e),f=d._5121(),h=d._6431._143(e),f=Math.min(f.width/h.width,f.height/h.height);b._5524=m._6002._9282(e);b.reset();d.beginInit();d.set_ImageSizeMode(new s.WebImageSizeModeEnumJS(6));
b=d._5899*f;1>b&&(b=1);1E3<b&&(b=1E3);d.set_Zoom(b);d.endInit()}var d=v.superclass;d.constructor.call(this);var e=v.prototype;e.get_ZoomButton=function(){return this._9840};e.set_ZoomButton=function(a){b.pv.n(a);this._9840=a};e._5217=function(b){d._5217.call(this,b);var e=this._9840;b.b===e&&(this._1706===e?void 0!=this._570&&this._570.width&&(a(this),b.handled=!0):(e=b.pc,void 0==this._873(e)&&(e=this._6829._2307(e),m._6002._9066(this._3395,e)&&(a(this),b.handled=!0))))};e._4499=function(b,a){var e=
this._6829,f=e._4892();this._5159=f;if(void 0!=this._5524){var h=e._3368(),g=e._5121();f.translate(h.x,h.y);f=f.transformPoint(this._5524);e._1770(f.x-g.width/2,f.y-g.height/2);this._5524=void 0}else d._4499.call(this,b)};this._4073="ZoomSelection";this._6813="zoom-in";this._9840=1;this._5524};b.extend(v,u);var x=function(){var b=x.superclass;b.constructor.call(this);var a=x.prototype;a.set_ActionCursor=function(a){b.set_ActionCursor.call(this,a);void 0!=this._4615&&this._6701(a)};a.reset=function(){b.reset.call(this);
this._3866=this._4615=void 0;this._6701(this._9770)};a._5217=function(a){b._5217.call(this,a);a.b===this._1706&&this._774()&&(this._4615=a.ps,this._3866=this._6829._3368(),this.set_ActionCursor(this._6813),a.handled=!0,a.active=!0)};a._8012=function(a){b._8012.call(this,a);if(void 0!=this._4615){this._6701(this._6813);var d=this._6829._2136(),e=this._6829._5121(),f=parseInt(e.width),e=parseInt(e.height),h=a.ps,g=this._6829._803(),k=this._4615.x-h.x,h=this._4615.y-h.y,x=0,y=0;void 0!=this._3866&&(x=
this._3866.x,y=this._3866.y);f=Math.max(0,Math.min(d.width-f+g,x+k));d=Math.max(0,Math.min(d.height-e+g,y+h));this._6829._5512(f,d);a.handled=!0;a.active=!0}else this._6701(this._9770),a.handled=!0};a._946=function(a){b._946.call(this,a);this.reset()};this._4073="Pan";this._4615=this._3866=void 0;this._9770="grab";this._6813="grabbing"};b.extend(x,l);var y=function(){var a=y.superclass;a.constructor.call(this);var d=y.prototype;d.get_ZoomInButton=function(){return this._9970};d.set_ZoomInButton=function(a){b.pv.n(a);
this._9970=a};d.get_ZoomOutButton=function(){return this._8793};d.set_ZoomOutButton=function(a){b.pv.n(a);this._8793=a};d.get_ZoomStep=function(){return this._9757};d.set_ZoomStep=function(a){b.pv.n(a);this._9757=a};d.reset=function(){a.reset.call(this);this._2560=this._7633=void 0};d._5217=function(b){a._5217.call(this,b);this._6829._3368();var d=this._6829.get_Zoom(),e=0;this._8793===b.b&&(e-=this._9757);this._9970===b.b&&(e+=this._9757);e=d*(1+e/100);1>e&&(e=1);1E3<e&&(e=1E3);e!==d&&(this._7633=
d=b.pc,this._2560=this._6829._2307(d),this._6829.beginInit(),this._6829.set_ImageSizeMode(6),this._6829.set_Zoom(e),this._6829.endInit(),b.handled=!0)};d._8012=function(b){a._8012.call(this,b);this._6701(this._9770);b.handled=!0};d._4499=function(b,a){if(void 0!=this._2560){var d=this._6829._5831(this._2560),e=d.x-this._7633.x,d=d.y-this._7633.y,f=this._6829._3368();this._6829._1770(f.x+e,f.y+d);this._2560=this._7633=void 0}};this._4073="Zoom";this._9970=1;this._8793=3;this._9757=10;this._2560=this._7633=
void 0;this._3408=!0};b.extend(y,l);var E=function(){function a(b){if(b._774()){var e=b._6829._8023[0],f=b._6829.get_FocusedImage();if(void 0!=e&&void 0==b._9021){b._9021=$("<div>").insertBefore(e);var e=b._6861.width,g=b._6861.height,k=h(b),k={width:e,height:g,cursor:"none",overflow:"hidden",display:"none","z-index":"100",border:"1px ridge black","background-color":k,position:"absolute","pointer-events":"none"};$(b._9021).css(k);b._9021[0].oncontextmenu=function(b){return!1};e=$("<canvas width='"+
e+"' height='"+g+"' style='cursor:none'>").appendTo(b._9021);b._6207=e[0];void 0!=f&&d(b,f)}}}function d(b,f){if(void 0==b._6207)a(b);else{var h=new tb._7977(b._6207,f,b._6829._1134);b._3881=h;h._1048();e(b);h._5597(b._6829._6419);h._7992(1024,1024);h._9287();h._7439()}}function e(b){var a=b._3881,f=b._6829._6431,h=f._67;if(void 0==a)d(b,h);else{a._9365._2713=!0;a._1048();var g=h.gi();g!==b._7827&&(a._5705(h),a._4638(f),b._7827=g);h=b._1029/100;a._3697(f._9308*h,f._2677*h);a._5597(f._6419);b={x:0,
y:0,width:b._6861.width,height:b._6861.height};a._2105(b);a._2006(b);f=f._1307();void 0!=f&&(f=f.clone(),f.set_BorderWidth(0));a._9873(f);a._7439()}}function f(b,a){var d=a.x,e=a.y,h=b._6829._5520(),g=b._6829._9749(),k=b._6829._3368(),h=m._6002._4366(h,g);h.x-=k.x;h.y-=k.y;g=b._1029/100;k=b._6861.width/(2*g);g=b._6861.height/(2*g);d<k+h.x&&(d=k+h.x+1);e<g+h.y&&(e=g+h.y+1);var x=h.width;d+k>x+h.x&&(d=x-Math.ceil(k)-1+h.x);k=h.height;e+g>k+h.y&&(e=k-Math.ceil(g)-1+h.y);$(b._9021).css({"margin-left":d-
b._6861.width/2,"margin-top":e-b._6861.height/2});var h=b._6829._2307(d,e),d=b._3881,k=d._7942(),e=h.x*k.x,h=h.y*k.y,k=b._6861.width/2,g=b._6861.height/2,x=d._8942(),y={x:e-k,y:h-g,width:b._6861.width,height:b._6861.height};switch(d._7181()){case 90:y={x:x.height-h-k,y:e-g,width:b._6861.height,height:b._6861.width};break;case 180:y={x:x.width-e-k,y:x.height-h-g,width:b._6861.width,height:b._6861.height};break;case 270:y={x:h-k,y:x.width-e-g,width:b._6861.height,height:b._6861.width}}0>y.x&&(y.x=0);
0>y.y&&(y.y=0);d._9365._2713=!0;d._2105(y)}function h(b){var a="inherit";if(void 0!=b._9021)for(b=b._9021.parent();0!==b.length&&b[0]!=document;){var d=b.css("background-color");if("rgba(0, 0, 0, 0)"!==d&&"transparent"!==d){a=d;break}b=b.parent()}return a}var g=E.superclass;g.constructor.call(this);var k=E.prototype;k.get_Size=function(){return{width:this._6861.width,height:this._6861.height}};k.set_Size=function(a){b.pv.sz(a);var d=a.width;a=a.height;(0>d||0>a)&&b.pv.tae();if(this._6861.width!==
d||this._6861.height!==a)this._6861={width:d,height:a},void 0!=this._9021&&($(this._9021).css({width:d,height:a}),this._6207.width=d,this._6207.height=a,void 0!=this._3881&&(e(this),void 0!=this._7097&&f(this,this._7097)))};k.get_Zoom=function(){return this._1029};k.set_Zoom=function(a){b.pv.n(a);100>a&&(a=100);500<a&&(a=500);a!==this._1029&&(this._1029=a,void 0!=this._3881&&(e(this),void 0!=this._7097&&f(this,this._7097)))};k.set_ActionCursor=function(b){g.set_ActionCursor.call(this,b);this._774()&&
this._3891&&this._2627&&this._6701(b)};k.set_IsEnabled=function(b){var a=this._5725;g.set_IsEnabled.call(this,b);this._5725!==a&&(this._5725||this._2583())};k.reset=function(){this._3797()};k._5217=function(b){g._5217.call(this,b);if(b.b===this._1706&&this._774()){var a=b.pc,d=b.pv,h=!1,k=this._6829._6431;void 0!=k&&(h=k._3961(d));h&&(e(this),this._4319(a),f(this,a),b.handled=!0,b.active=!0)}};k._8012=function(b){g._8012.call(this,b);if(this._2627){var a=b.pc;this._6701(this._6813);this._7097=a;f(this,
a);b.handled=!0;b.active=!0}else this._6701(this._9770),b.handled=!0};k._946=function(b){g._946.call(this,b);this._2627&&this._3797()};k._7012=function(b){g._7012.call(this,b);void 0==this._9021&&a(this)};k._8656=function(){g._8656.call(this);this._5491();this._2583()};k._5491=function(){this._7097=void 0;this._2627=!1};k._8218=function(b){(this._3891=b)?this._6701(this._9770):this._6701("")};k._774=function(b){if(this._5725){var a=this._6829;return void 0!=a&&(a=a.get_FocusedImage(),void 0==b&&(b=
a),void 0!=b&&b===a)?!b.get_IsBad():!1}return this._5725};k._2583=function(){void 0!=this._3881&&(this._3881=void 0);$(this._9021).remove();this._7827=this._9021=this._6207=void 0;this._2627=!1};k._4319=function(b){if(void 0!=this._9021){this._2627=!0;var a=h(this);$(this._9021).css({display:"block","background-color":a});this._7097=b;this.set_ActionCursor(this._6813)}};k._3797=function(){$(this._9021).css("display","none");this._5491();this.set_Cursor(this._9770)};this._4073="Magnifier";this._6861=
{width:200,height:200};this._1029=250;this._9021;this._6207;this._3881;this._7827;this._7097=void 0;this._2627=!1;this._6813="none"};b.extend(E,l);var W=function(a){function d(b,a){var e=b._9301;$(a).on("initializationStarted."+e+" initializationFinished."+e+" initializationException."+e,function(a,d){b._9638(a.type,d)})}var e=W.superclass;e.constructor.call(this);var f=W.prototype;f.get_VisualTools=function(){return[].concat(this._9200)};f.get_Tool=function(a){b.pv.n(a);0>a&&a>this._9200.length&&
b.pv.toe();return this._9200[a]};f.get_ActiveVisualTool=function(){return this._8301};f.set_ActiveVisualTool=function(a){if(0!=this._9200.length){if(void 0!=a&&(b.pv.c(a,l),-1===this._9200.indexOf(a)&&b.pv.te("Composite visual tool does not contain specified visual tool."),this._8301==a))return;var d=void 0==a?!0:!1;this._8301=a;for(a=this._9200.length-1;0<=a;a--)this._9200[a]._8218(d);void 0!=this._8301&&this._8301._8218(!0)}};f.set_IsEnabled=function(a){if(this._3175&&(b.pv.b(a),this._5725!==a)){this._5725=
a;this._8218(a);for(var d=this._9200.length-1;0<=d;d--)this._9200[d]._5725=a,this._9200[d]._8218(a);this._5725&&(a=this._8301,void 0!=a&&a._8218(!0));this._6373()}};f.get_IsMultipageModeSupported=function(){for(var b=0;b<this._9200.length;b++)if(this._9200[b].get_IsMultipageModeSupported())return!0;return!1};f.get_DisableContextMenu=function(){if(void 0!=this._8301)return this._8301._3408;for(var b=0;b<this._9200.length;b++)if(this._9200[b]._3408)return!0;return!1};f.set_DisableContextMenu=function(a){b.pv.b(a);
var d=this._9200;if(0!==d.length)if(void 0!=this._8301)this._8301._3408=a;else if(1===d.length)d[0]._3408=a;else for(var e=0;e<d.length;e++)d[e]._3408!=a&&b.pv.te("The property cannot be set for composite visual tool.")};f.reset=function(){for(var b=this._9200.length-1;0<=b;b--)this._9200[b].reset()};f.getDrawingBox=function(){for(var b=m._6002._3358(),a=0;a<this._9200.length;a++){var d=this._9200[a].getDrawingBox();m._6002._1672(b)?b=d:m._6002._1672(d)||(b=m._6002._3722(b,d))}return b};f._5390=function(b){if(this._5725){if(void 0!=
this._8301)return this._8301._5390(b);for(var a=0;a<this._9200.length;a++)if(this._9200[a]._5390(b))return!0}return!1};f._7012=function(b){this._6829=b;this._5725=this._3891=this._3175=!0;for(var a=this._9200.length-1;0<=a;a--){var e=this._9200[a];e._7012(b);e._7030();d(this,e)}this._5069();b=this._8301;void 0!=b&&b._8218(!0);this._4202=this._9200[0]._4202};f._8656=function(){e._8656.call(this);for(var b=this._9200.length-1;0<=b;b--){var a=this._9200[b];a._8656();var d=this._9301;$(a).off("initializationStarted."+
d+" initializationFinished."+d+" initializationException."+d)}};f._5217=function(b){e._5217.call(this,b);if(void 0!=this._8301)this._8301._774()&&this._8301._5217(b);else for(var a=0;a<this._9200.length;a++){var d=this._9200[a];if(d._774()&&(d._5217(b),b.handled))break}};f._8012=function(b){e._8012.call(this,b);if(void 0!=this._8301)this._8301._774()&&this._8301._8012(b);else for(var a=0;a<this._9200.length;a++){var d=this._9200[a];if(d._774()&&(d._8012(b),b.handled))break}};f._946=function(b){e._946.call(this,
b);if(void 0!=this._8301)this._8301._774()&&this._8301._946(b);else for(var a=0;a<this._9200.length;a++){var d=this._9200[a];if(d._774()&&(d._946(b),b.handled))break}};f._988=function(b){e._988.call(this,b);if(void 0!=this._8301)this._8301._774()&&this._8301._988(b);else for(var a=0;a<this._9200.length;a++){var d=this._9200[a];if(d._774()&&(d._988(b),b.handled))break}};f._4499=function(b,a){for(var d=this._9200.length-1;0<=d;d--)this._9200[d]._4499(b,a)};f._3127=function(b,a){for(var d=this._9200.length-
1;0<=d;d--)this._9200[d]._3127(b,a)};f._673=function(){for(var b=this._9200.length-1;0<=b;b--)this._9200[b]._673();e._8656.call(this);this._4202=this._6829=void 0};f._5567=function(b,a,d){for(var e=this._9200.length-1;0<=e;e--){var f=this._9200[e];void 0!=f._5159&&(f._5159=b);if(f._774(d)){var h=f.getDrawingBox();m._6002._6349(h,a)&&f._5567(b,a,d)}}};f._4975=function(){e._4975.call(this);if(void 0!=this._9200)for(var b=this._9200.length-1;0<=b;b--)this._9200[b]._4975()};this._9200=[];this._4073="Composite:";
var h=this;b.pv.ad(a,function(a){b.pv.c(a,l);h._9200.push(a);h._4073+=a._4073+","});this._4073=this._4073.substr(0,this._4073.length-1);this._8301=void 0};b.extend(W,l);var va=function(){var b=va.superclass;b.constructor.call(this);var a=va.prototype;a._9491=function(b){};a.set_ActionButton=function(b){};a._5217=function(a){this._5725&&(this._9081=!0,b._5217.call(this,a),a.handled?$(this._6829._1981).triggerHandler("_9491"):this._9081=!1)};a._946=function(a){if(this._9081&&(b._946.call(this,a),!0===
this._2131)){a=this._6829;var d=this.get_Rectangle();this._5159.transformRectangle(d);var e=a._5726(),f=e.width,e=e.height,h=[];void 0!=a._2005&&(h=a._2005.find("div.border"));for(var g=$(this._4202).offset(),k=[],x=0;x<h.length;x++){var y=$(h[x]).offset(),l=y.top-g.top,y=y.left-g.left;if(!(d.x>=y+f||d.x+d.width<=y||d.y>=l+e||d.y+d.height<=l||(k.push(x),this._6829.get_MultiSelect())))break}a.set_SelectedIndices(k);this._9081=!1;this.set_Rectangle(m._6002._3358())}};a._774=function(b){return this._5725};
a._6701=function(b){};this._4073="ThumbnailSelection";this._9081=!1;this.set_Resizable(!1);this.set_Movable(!1);delete a._9491};b.extend(va,u);a.WebHighlightToolJS=r;a.WebVisualToolJS=l;a.WebRectangularSelectionToolJS=u;a.WebHighlightObjectJS=B;a.WebHighlightObjectsJS=K;a.WebZoomSelectionToolJS=v;a.WebPanToolJS=x;a.WebZoomToolJS=y;a.WebMagnifierToolJS=E;a.WebCompositeVisualToolJS=W;a._4042=va;var A=function(){};A._1512=function(){};A._1512={RectangularSelection:a.WebRectangularSelectionToolJS,HighlightTool:a.WebHighlightToolJS,
ZoomSelection:a.WebZoomSelectionToolJS,Pan:a.WebPanToolJS,Zoom:a.WebZoomToolJS,Magnifier:a.WebMagnifierToolJS};A._618=function(){};A._618={};A.registerTool=function(b,a){d(b,a);A._618[b]=a};A.unregisterTool=function(b){e(b);delete A._618[b]};A.createToolById=function(d){e(d);var f=A._1512[d];void 0==f&&(f=A._618[d]);void 0==f&&b.pv.te("WebVisualToolJS element with '"+d+"' ID does not registered.");d=new f;b.pv.c(d,a.WebVisualToolJS,"Created element is not derived from WebVisualToolJS class.");return d};
A.getAllStandardRegisteredIds=function(){var b=[],a;for(a in A._1512)b.push(a);return b};A.getAllRegisteredIds=function(){var b=A.getAllStandardRegisteredIds(),a;for(a in A._618)b.push(a);return b};A._2438=function(b,a){d(b,a);A._1512[b]=a};a.WebVisualToolFabricJS=A})(g.VisualTools);var e=function(a,d,h){var g=e.prototype;g.changed=function(b){};g.get_BackColor=function(){return this._8493};g.set_BackColor=function(a){b.pv.s(a);this._8493!==a&&(this._8493=a,this._1921())};g.get_BorderColor=function(){return this._8393};
g.set_BorderColor=function(a){b.pv.s(a);this._8393!==a&&(this._8393=a,this._1921())};g.get_BorderWidth=function(){return this._870};g.set_BorderWidth=function(a){b.pv.n(a);0>a&&b.pv.toe();this._870!==a&&(this._870=a,this._1921())};g.equals=function(a){return b.pv.ic(a,e)?this._8493===a._8493&&this._8393===a._8393&&this._870===a._870&&this._2365===a._2365:!1};g.clone=function(){return new e(this._8493,this._8393,this._870,this._2365)};g._1921=function(b){$(this._3265).triggerHandler("changed",b);$(this).triggerHandler("changed",
b)};this._8493="rgba(255,255,255,0)";this._8393="rgba(0,0,0,1)";this._870=0;this._2365="solid";this._3265={};void 0!=a&&(b.pv.s(a,d),this._8493=a,this._8393=d,b.pv.n(h),0>h&&b.pv.toe(),this._870=h);delete g.changed},a=function(d,e,h){function p(b){if(b._6306){for(var a=b._8746(),d=0;d<a.length;d++){var e=b._6306[a[d]];if(void 0==e||3>e.s)return!1}return!0}return!1}function l(b){if(void 0!=b)for(var a=0;a<b.length;a++)if(3<=b[a].s)return!0;return!1}function u(b,a){if(void 0==K(a,b).t)a._3483=!1,a._5961();
else{void 0!=a._1988&&(a._1988=void 0);var d=a._1453(!0),d=m._6002._6314(d);a._8166=a._1814();a._3483=!1;a._6306=[];if(void 0!=b.fileId){a._6306[0]={locAtCanvas:{x:0,y:0},loc:{x:0,y:0},s:0};var e=new Image;e.onload=function(){if(!a._9210&&0!==e.width&&0!==e.height){a._9365._2713?a._4691():a._9365.clearRect(d.x,d.y,d.width,d.height);a._2611();var b=a._2514();a._8924();var f=a._8942(),h=f.width,f=f.height;g._8891._10003(a._9365,b);a._9365.drawImage(e,0,0,h,f);g._8891._1431(a._9365);a._621();a._6306[0].s=
3;a._3375(!0);a._502()}};e.src=b.fileId;a._6306[0].image=e;a._6306[0].s=2}a._92=1;a._1760=1;a._6920=1;a._9638("imagePaintingException",b)}}function r(b,a,d,e){b="tlL"+b.loc.x+","+b.loc.y;b+="S"+d.x+","+d.y+"Sz"+a.width+","+a.height;if(!1!==e.get_IsVector()){var f=e.get_RenderingSettings();a=f.get_Resolution();d=f.get_InterpolationMode();f=f.get_SmoothingMode();b+="Rs"+a.x+","+a.y+","+d.valueOf()+","+f.valueOf()}e=e.get_DecodingSettings();void 0!=e&&e.get_IsColorManagementEnabled()&&(b+="Cm");return b}
function B(b,a){if(a.image!==b._67||a.scale.x!==b._9308||a.scale.y!==b._2677||b._9957!==a.size.width||b._5185!==a.size.height)return!1;var d=b._67.get_RenderingSettings(),e=b._67.get_DecodingSettings();return d.equals(a.renderingSettings)&&(void 0!=e&&e.equals(a.decodingSettings)||void 0==e&&e==a.decodingSettings)}function K(b,a){var d,e=-1;if(B(b,a))for(var f=a.pos,h=0;h<b._6306.length;h++){var g=b._6306[h].loc;if(g.x===f.x&&g.y===f.y){d=b._6306[h];e=h;break}}return{t:d,i:e}}var v=a.prototype;v._9133=
function(b,a){};v._7181=function(){return this._6419};v._5597=function(b){this._6419!==b&&(this._6419=b,this._9351=!0,this._4755())};v._3041=function(){return this._4736};v._3660=function(b){this._4736=b};v._7942=function(){return{x:this._9308,y:this._2677}};v._3697=function(b,a){if(this._9308!==b||this._2677!==a)this._9308=b,this._2677=a,this._9351=!0,this._9698()};v._6509=function(){return{width:this._9957,height:this._5185}};v._7992=function(b,a){if(this._5185!==a||this._9957!==b)this._9957=b,
this._5185=a,this._9698()};v._5030=function(){return this._4661};v._5781=function(b){this._4661=b};v._3462=function(){return this._9910};v._9135=function(b){this._9910=b};v._9438=function(){(void 0==this._8166||this._9351)&&this._1814();return{x:this._8166.x,y:this._8166.y}};v._2006=function(b){m._6002._5276(this._1576,b)||(this._1576=b,this._9351=!0,this._4755())};v._2105=function(b){m._6002._5276(this._2781,b)||(this._2781=b,this._4755())};v._1307=function(){return this._8974};v._9873=function(b){b===
this._8974||void 0!=b&&b.equals(this._8974)||(this._8974=b,this._4755())};v._9619=function(b){this._7119.equals(b)||(this._7119=b,this._9351=!0,this._4755())};v._5705=function(b){this._67=b;this._9351=!0;this._1988=void 0;this._6920=0;this._5285=3;this._3375(!1)};v._1878=function(){return this._67.get_IsBad()};v._8996=function(){return this._9985&&!this._1878()};v._3375=function(b){this._9985!==b&&(this._9985=b)&&(b={rect:this._1453(!0),image:this._67},this._9638("_9133",b))};v._1056=function(){return void 0==
this._1988&&0===this._6920};v._1814=function(){var b=this._8942(!0),a=b.width,b=b.height,d=this._1576.x,e=this._1576.y,f=this._1576.width,h=this._1576.height,a=a<f?this._7119.contains(4)?d:this._7119.contains(8)?d+f-a:d+(f-a)/2:d,b=b<h?this._7119.contains(1)?e:this._7119.contains(2)?e+h-b:e+(h-b)/2:e;this._8166={x:Math.round(a),y:Math.round(b)}};v._1048=function(){this._1541++};v._7439=function(b){void 0==b&&(b=!1);b?this._1541=0:this._1541--;0===this._1541?this._1026():0>this._1541&&(this._1541=
0)};v._117=function(){return 0!==this._1541};v._3961=function(b){var a=this._1453();return m._6002._9066(a,b)};v._9255=function(){this._3916=!1;var b=this._1453();return m._6002._6349(b,this._2781)?this._3916=!0:!1};v._1026=function(){if(!this._9210&&void 0!=this._67.get_Size()&&0===this._1541){var b=this._2781;if(0!==b.width&&0!==b.height){var a=this._1878();if(this._9351||a)this._1814(),this._9351=!1,a&&this._4691();b=this._9255();1<this._5285&&(a?void 0==this._6306&&this._8088():(2===this._5285&&
this._3938(),this._8088()));a=0<this._5285||0===this._5285&&this._9365._2713;this._1988&&(this._1988.u=a);this._6306&&(this._6306.u=a);b&&(this._5875=this._2060=!1,this._5961());this._5285=0}else this._3916=!1}};v._3815=function(b){void 0==b&&(b=!1);var a=0,d=0,e=this._67.get_Size();void 0!=e&&(a=e.width,d=e.height,this._67.get_IsBad()||0===a||0===d)&&(d=this._1134.height,e=this._1576.height,a=Math.min(this._1134.width,this._1576.width),d=Math.min(d,e));!b||90!==this._6419&&270!==this._6419||(b=a,
a=d,d=b);return{width:a,height:d}};v._8942=function(b){void 0==b&&(b=!1);var a=0,d=0,e=this._67.get_Size();void 0!=e&&(a=e.width,d=e.height,this._67.get_IsBad()||0===a||0===d?(d=this._1134.height*this._2677,e=this._1576.height,a=Math.min(this._1134.width*this._9308,this._1576.width),d=Math.min(d,e)):(a*=this._9308,d*=this._2677));!b||90!==this._6419&&270!==this._6419||(b=a,a=d,d=b);return{width:a,height:d}};v._1453=function(b){var a=this._8942(!0),d=this._9438();void 0==b&&(b=!1);a={x:d.x,y:d.y,width:a.width,
height:a.height};b&&(a=m._6002._4366(a,this._2781),a.x-=this._2781.x,a.y-=this._2781.y);return a};v._143=function(b){if(!this._3916)return m._6002._3358();var a=this._585(b);return{x:a.x,y:a.y,width:b.width*this._9308,height:b.height*this._9308}};v._585=function(b){if(!this._3916)return{x:0,y:0};var a=this._9438();return{x:a.x+(b.x-this._2781.x)*this._9308,y:a.y+(b.y-this._2781.y)*this._2677}};v._8088=function(){var b=this._9957,a=this._5185,d=this._9308,e=this._2677,f=this._8942(),h=f.width,g=f.height;
this._6306=[];var f=b/d,k=a/e,l=Math.floor(g/a),p=Math.floor(h/b),w=p,m=l,h=Math.round(h-b*p);Math.round(h/d);0<h&&w++;h=Math.round(g-a*l);Math.round(h/e);0<h&&m++;this._92=w;this._1760=m;h=m*w;for(l=g=0;l<m;){for(var p=l*a,r=l*k,u=w+g;g<u&&g<h;)this._6306[g]={locAtCanvas:{x:(g-l*w)*b,y:p},loc:{x:(g-l*w)*f,y:r},s:0},g++;l++}this._6306.s={x:d,y:e};this._6920=0};v._3938=function(){if(void 0!=this._6306)if(void 0==this._1988){for(var b=0,a=0;a<this._6306.length;a++)3<=this._6306[a].s&&b++;0<b&&(this._1988=
this._6306)}else{for(var d=this._8746(),e=b=0,a=0;a<d.length;a++)d[a]<this._6306.length&&3<=this._6306[d[a]].s&&b++,d[a]<this._1988.length&&3<=this._1988[d[a]].s&&e++;a=this._9308;b>e?this._1988=this._6306:b===e&&0!==b&&Math.abs(this._6306.s.x-a)<Math.abs(this._1988.s.x-a)&&(this._1988=this._6306)}else this._1988=void 0};v._5663=function(){return l(this._1988)||l(this._6306)};v._2514=function(){var b=new m.WebMatrixJS,a=this._8942(),d=this._9438(),e=d.x,d=d.y,f=a.width,a=a.height;b.rotate(this._6419);
switch(this._6419){case 0:b.translate(e,d);break;case 90:b.translate(a+e,d);break;case 180:b.translate(f+e,a+d);break;case 270:b.translate(e,f+d)}b.translate(-this._2781.x,-this._2781.y);b._4793=Math.round(b._4793);b._9273=Math.round(b._9273);return b};v._4892=function(){var b=this._2514(),a=b._4793,d=b._9273,e=this._9308,f=this._2677;if(90===this._6419||270===this._6419)var h=e,e=f,f=h;b.scale(e,f);b._4793=Math.round(a);b._9273=Math.round(d);return b};v._5961=function(){if(!this._9210){var b=this._8746();
void 0!=this._1988&&this._4770(b);this._1227();if(!this._5875){for(var a=[],d=[],e=0;e<b.length;e++){var f=b[e];if(f<this._6306.length){var h=this._6306[f].s;0===h?d.push(f):3<=h&&a.push(f)}}0!=a.length&&this._8326(a);this._3483||0!==d.length&&this._1097(d[0])}}};v._4770=function(b){var a=this._1988;if(a.u){var d=this._9365,e=this._6306,f=[];if(void 0!=e)for(var h=0;h<b.length;h++){var k=e[b[h]];if(3!==k.s){var l=k.locAtCanvas.x,p=k.locAtCanvas.y;f.push({x:l,y:p,w:this._9957,h:this._5185})}}l=f.length;
l===b.length&&0!==l&&(b=f[0].x,e=f[0].y,f=[{x:b,y:e,w:f[l-1].x+f[l-1].w-b,h:f[l-1].y+f[l-1].h-e}],l=1);if(0!==l){l=this._7942();b=this._8942();e=l.x/a.s.x;k=l.y/a.s.y;this._4691();this._2611();this._8924();l=this._2514();g._8891._10003(d,l);d.save();d.beginPath();for(h=0;h<f.length;h++)l=f[h],d.moveTo(l.x,l.y),d.lineTo(l.x+l.w,l.y),d.lineTo(l.x+l.w,l.y+l.h),d.lineTo(l.x,l.y+l.h),d.lineTo(l.x,l.y);d.clip();for(f=0;f<a.length;f++)if(p=a[f],h=p.image,void 0!=h&&0!==h.width&&0!==h.height){var w=h.width,
m=h.height,l=Math.floor(p.locAtCanvas.x*e),p=Math.floor(p.locAtCanvas.y*k),w=Math.ceil(w*e),m=Math.ceil(m*k);w>b.width&&(w=b.width);m>b.height&&(m=b.height);d.drawImage(h,l,p,w,m)}d.restore();g._8891._1431(d);this._621();this._3375(!0)}a.u=!1}};v._8326=function(b){var a=this._6306;if(a.u){var d=this._2060;this._4691();this._2611();d||this._8924();var d=this._9365,e=this._2514();g._8891._10003(d,e);if(this._1878())b=a[0],e=this._8942(),d.drawImage(b.image,0,0,e.width,e.height);else for(var e=a.length,
f=0;f<b.length;f++){var h=b[f],k=a[h],l=k.locAtCanvas;d.drawImage(k.image,l.x,l.y);4===k.s&&(this._6920++,this._9638("imageTilePainted",{tileCount:e,renderedTileCount:this._6920,tileIndex:h,image:this._67}),k.s=3)}g._8891._1431(d);this._621();a.u=!1;this._3375(!0);p(this)&&this._502()}};v._4691=function(){var b=this._9365;if(b._2713){var a=b.canvas;b.clearRect(0,0,a.width,a.height);b._2713=!1}};v._8746=function(){if(void 0==this._6306)return[];var b=this._92,a=this._1760,d=this._9957,e=this._5185,
f={x:this._2781.x,y:this._2781.y,width:this._2781.width,height:this._2781.height};if(0===f.width||0===f.height)return[];var h=this._2514();h.translate(this._2781.x,this._2781.y);h.invert();h.transformRectangle(f);f=m._6002._3895(f);0>f.x&&(f.x=0);0>f.y&&(f.y=0);var h=Math.floor(f.y/e),g=e-f.y%e;0==f.y&&(g=0);var k=0;0<g&&g<=e&&0!=f.y&&(k=1);f.height-=g;0>f.height&&(f.height=0);k+=Math.floor(f.height/e);0<f.height%e&&k++;k>a&&(k=a);a=Math.floor(f.x/d);g=d-f.x%d;0==f.x&&(g=0);e=0;0<g&&g<=d&&0!=f.x&&
(e=1);f.width-=g;0>f.width&&(f.width=0);e+=Math.floor(f.width/d);0<f.width%d&&e++;e>b&&(e=b);d=h+k;f=a+e;k=this._6306.length;for(e=[];h<d;h++)for(g=a;g<f;g++){var l=h*b+g;l<k&&e.push(l)}return e};v._1097=function(b){function a(d,f,h){w._43(d,e,b)}function d(b,a,f){b.blocked?(w._3483=!1,e.s=0,w._5961()):u(b,w)}var e=this._6306[b],f=this._67,h=e.loc.x,g=e.loc.y,k=this._9957,l=this._5185,p=this._7942(),w=this;e.s=1;this._4661?f.renderTileWithNeighbours(h,g,k,l,p,this._9910,a,d):f.renderTile(h,g,k,l,
p,this._4661,this._9910,a,d);this._3483=!0};v._43=function(b,a,d){var e=void 0==b.a;if(e){var f=this._4736;if(void 0!=f){var h=b.image,k=r({loc:b.pos},b.size,b.scale,h);f.containsImageData(h,k)||f.addImageData(h,k,b.fileId)}}if(this._9210)this._3483=!1,a.s=0;else{var l,w;e?(d=K(this,b),l=d.t,w=d.i):(l=a,w=d);if(void 0==l)a.s=0;else{a=function(){if(m._9210)l.s=0;else if(void 0!=m._6306)if(B(m,b)){var a=l.locAtCanvas,d=s.width,f=s.height,h=m._9365;if(0!==d&&0!==f){m._2611();var k=m._2514(),u;0===m._6920&&
void 0==m._1988?(m._4691(),m._8924(),g._8891._10003(h,k)):(g._8891._10003(h,k),h.clearRect(a.x,a.y,d,f),u={x:a.x,y:a.y,width:d,height:f},m._8924(u));h.drawImage(s,a.x,a.y);g._8891._1431(h);m._621(u);l.s=3;0===m._6920&&e&&(m._6306.u=!1);a=m._6306.length;m._6920++;m._9638("imageTilePainted",{tileCount:a,renderedTileCount:m._6920,tileIndex:w,image:m._67});m._3375(!0);m._6920===a&&(m._1988=void 0);p(m)&&(m._6306.u=!1,m._502())}}else l.s=0,e&&m._5961()};var m=this,u=b.fileId;/^data:image\/[a-zA-Z]+;base64,/.test(u)||
(u+="?"+b.image.gi());var s=new Image,v=0;s.onload=a;s.onerror=function(){if(10>v)setTimeout(function(){s.src=u},250),v++;else{l.s=0;if(!e){var a=m._4736;if(void 0!=a){var d=b.image,f=r({loc:b.pos},b.size,b.scale,d);a._1929(d.get_Guid(),f)}}m._5961()}};s.src=u;l.image=s;l.s=2;s.complete&&(s.onload=void 0,s.onerror=void 0,a())}this._3483=!1;e&&this._5961()}};v._1227=function(){var b=this._4736;if(void 0!=b){var a=this._67,d=this._6306;if(void 0!=d)for(var e=this._7942(),f={width:this._9957,height:this._5185},
h=0;h<d.length;h++){var g=d[h];if(0===g.s){var k=r(g,f,e,a),k=b.getImageData(a,k);if(void 0!=k){var k={fileId:k,image:a,pos:g.loc,scale:e,size:f,renderingSettings:a.get_RenderingSettings().clone(),a:!1},l=a.get_DecodingSettings();void 0!=l&&(k.decodingSettings=l.clone());this._43(k,g,h)}}}}};v._2611=function(){this._2060||(this._9638("imagePainting",{image:this._67}),this._2060=!0)};v._502=function(){this._5875||(this._9638("imagePainted",{image:this._67}),this._5875=!0)};v._9638=function(b,a){$(this).triggerHandler(b,
a)};v._4638=function(d){b.pv.c(d,a);if(void 0!=d._6306){var e=$.extend(!0,{},d._6306);e.length=d._6306.length;d._67.get_IsBad()?(this._6306=e,this._1988=void 0,this._1760=this._92=1):(this._1988=e,this._6306=void 0)}};v._4475=function(){this._3375(!1);0===this._5285&&(this._5285=1)};v._4755=function(){this._4475();this._1026()};v._9698=function(){this._3375(!1);3!==this._5285&&(this._5285=2);this._6920=0;this._1026()};v._8924=function(b){if(void 0!=this._8974){var a=this._9365;a.save();void 0==b&&
(b=this._1453(!0));a.fillStyle=this._8974._8493;a.beginPath();a.rect(b.x,b.y,Math.floor(b.width),Math.floor(b.height));a.fill();a.restore()}};v._621=function(b){if(void 0!=this._8974){var a=this._8974._870;if(0!==a){var d=this._2781.x,e=this._2781.y,f=this._9365;f.save();var h=this._1453(),d={x:h.x+a/2-d,y:h.y+a/2-e,width:Math.ceil(h.width-a),height:Math.ceil(h.height-a)};void 0!=b&&(this._2514().transformRectangle(b),f.beginPath(),f.rect(b.x,b.y,b.width,b.height),f.clip());b=!0;if(0>d.width||0>d.height)b=
!1,d=h;f.lineWidth=a;f.beginPath();f.rect(d.x,d.y,d.width,d.height);b?(f.strokeStyle=this._8974._8393,f.stroke()):(f.fillStyle=this._8974._8393,f.fill());f.restore()}}};v._1163=function(){$(this).off();this._2781=m._6002._3358();this._5285=0;this._3916=!1;this._9210=this._9351=!0;this._6920=this._1541=0;if(void 0!=this._6306)for(var b=0;b<this._6306.length;b++){var a=this._6306[b];3===a.s&&(a.s=4)}};v._9287=function(){this._9210=!1};this._4202=d;this._9365=d.getContext("2d");this._67=e;this._8166;
this._5185=this._9957=this._2677=this._9308=0;this._4661=!0;this._9910=new b.WebImageTypeEnumJS(1);this._4736;this._4546;this._1760=this._92=this._6419=0;this._6306;this._1988;this._3483=!1;this._6920=0;this._1576=m._6002._3358();this._2781=m._6002._3358();this._7119=new s.WebImageAnchorTypeEnumJS(0);this._5285=this._1541=0;this._8974;this._1134=h;this._9985=!1;this._9210=!0;this._3916=this._9351=!1;this._9301=b.WebImagingEnviromentJS.guid();this._5875=this._2060=!0;delete v._9133},h=function(d){function f(b,
a){var d={x:a.pageX,y:a.pageY},e=b._6979(d),f=b._400(e),t=-1;a.which?t=a.which:a.button&&(a.button&1?t=1:a.button&4?t=2:a.button&2&&(t=3));-1==t&&void 0!=a.sourceEvent&&"touchstart"===a.sourceEvent.type&&(t=1);return{ps:d,pc:e,pv:f,e:a,b:t,handled:!1,active:!1}}function w(b,a){var d=b.data.v,e;e=void 0!=a?a.get_Images():d.get_Images();for(var f=0;f<e.get_Count();f++)B(d,e.get_Image(f));d._9638("_6699",a)}function p(b,a){var d=b.data.v,e;e=void 0!=a?a.get_Images():d.get_Images();for(var f=0;f<e.get_Count();f++)r(d,
e.get_Image(f));f=-1;void 0!=a?(f=a._4191,-1===f&&0<e.get_Count()&&(f=0)):0<e.get_Count()&&(f=0);d._4191=f;d._9638("_4758",a);d._9907()}function l(b){b.data.v.set_MasterViewer()}function u(b,a){var d=b.data.v,e=[],f=[];switch(a.actionName){case "set":e.push(a.previousImage);case "insert":f.push(a.image);break;case "insertRange":f=a.images;break;case "removeAt":e.push(a.image);break;case "clear":case "removeRange":e=a.images}for(var t=0;t<f.length;t++){var h=f[t];void 0!=d._4546&&h.set_RenderingSettings(d._4546);
r(d,h)}for(var f=d.get_ImageCacheManager(),g=void 0!=f&&d.get_SyncCacheWithImages(),t=0;t<e.length;t++)h=e[t],B(d,h),g&&f.contains(h)&&f.clearImageCache(h);d._9638("_9787",a)}function r(b,d){if(void 0==b._8174)$(d.evm).on("icd."+b._9301,{v:b},K);b._6020[d.get_Guid()]=new a(b._6195,d,b._1134)}function B(b,a){var d=a.get_Guid();b._6020[d]._1163();delete b._6020[d];$(a.evm).off("icd."+b._9301);F(b,a)}function K(b,a){var d=b.data.v,e=a.i,f=d.get_ImageCacheManager();void 0!=f&&f.contains(e)&&f.clearImageCache(e);
f=d.get_FocusedImage();e===f&&va(d);f=d._6020[e.get_Guid()];void 0!=f&&(f._5705(e),-1!==d._3379.indexOf(f)&&(ha(d),d._9907()));d._9638("_4485",a)}function v(b,a){var d=b.data.v,e=d._4191,f=d._5580(a);d._9638("_5748",a);f&&d._9907();d._4191!==e&&d._9638("focusedIndexChanged",{newFocusedIndex:d._4191,previouslyFocusedIndex:e})}function x(b){b=b.data.v;b.get_Images().setRenderingSettings(b._4546)}function y(b,a){var d=b.data.v,e=a.newFocusedIndex;-1!==e&&e!==d._4191&&d.set_FocusedIndex(e)}function z(b,
a){b.data.v.set_ImageRotationAngle(a)}function W(b,a){var d=b.data.v,e;for(e in d._6020)d._6020[e]._3660(a);d._9638("_6092",a)}function va(b,a){var d;void 0!=b._6431&&(d=b._6431._67);d!==a&&void 0!=b._3785&&b._3785.reset()}function A(b){b._4088="fi"}function Aa(b,a){var d=b._4088;if(void 0==d||"fi"===d){if(void 0!=b._6431&&b.get_IsAutoScrollToFocusedImageEnabled()){var d=b._6431._1453(),e=0,f=0;b._1695?(void 0==a&&(a=b._9749()),f=(d.height-a.height)/2,e=d.x+(d.width-a.width)/2,f=d.y+f):(e=d.x,f=d.y);
b._5512(e,f)}}else b._5512(d.x,d.y)}function Ca(b,a){var d=b._5570(a),e=b._2390,f=d.b,t=b._8898(),h=Math.max(t.width,f.width),f=Math.max(t.height,f.height);if(e.width!==h||e.height!==f)e=b._9732,void 0!=e&&(t={width:h,height:f},b._2390=t,e.css(t),e=b._8023,b._334&&$(e).css("overflow-x","auto"),b._5502&&$(e).css("overflow-y","auto"),t=b._8898(),h<=t.width&&b._334&&(e[0].scrollLeft=0,$(e).css("overflow-x","hidden")),f<=t.height&&b._5502&&(e[0].scrollTop=0,$(e).css("overflow-y","hidden")));return d.r}
function S(b,a){for(var d=0;d<b._3379.length;d++)b._3379[d]._1163();b._6431=void 0;b._3379=[]}function G(b,a){H(b);var d=b._2318;if(void 0!=d)for(var e=d.width,f=d.width,t=b._9732,h=0;h<b._3379.length;h++){var g=b._3379[h],k=g._67.get_Guid();if(g._1056()){var l=a[h];void 0==b._9758[k]?(d=$(b._2318).clone(),g={position:"absolute","pointer-events":"none"},$(d).css(g),$(d).insertAfter(t),b._9758[k]=d):(d=b._9758[k],d[0].src!==b._2318.src&&(d[0].src=b._2318.src));g=e;k=f;g>l.width&&(g=l.width);k>l.height&&
(k=l.height);g={top:l.y+(l.height-k)/2,left:l.x+(l.width-g)/2,width:g,height:k};$(d).css(g)}}}function F(b,a){var d;d="string"===typeof a?a:a.get_Guid();var e=b._9758[d];void 0!=e&&($(e).remove(),delete b._9758[d])}function H(b){var a=[];if(void 0!=b._2318)for(var d=0;d<b._3379.length;d++)a.push(b._3379[d]._67.get_Guid());for(var e in b._9758)-1===a.indexOf(e)&&F(b,e)}function da(b,a,d,e,f){a._1048();a._5597(b._6419);a._3660(b.get_ImageCacheManager());a._7992(b._9957,b._5185);a._5781(b._4661);a._9135(b._9910);
var t=a._67;void 0!=t&&(t=V(b,t),a._3697(t.x,t.y));a._2006(d);void 0==e&&(e=b._9749());a._2105(e);a._9619(b._7119);a._9873(f);a._9287();a._7439()}function V(b,a){var d=b._5899/100,e=1,f=1,t=b._7490(a),h=96/t.rx,t=96/t.ry,g=b._5778/96,k=b._3440/96;switch(b._9162.valueOf()){case 5:f=e=1;break;case 2:case 3:case 1:e=d*h*g;f=d*t*g;break;case 4:e=h*g;f=t*k;break;case 6:e=d*h*g,f=d*t*k}return{x:e,y:f}}function ea(b,a){var d={v:b};$(a).on("imagePainting imageTilePainted imagePainted imagePaintingException",
d,T);$(a).on("_9133",d,fa)}function T(b,a){var d=b.data.v,e=b.type;"imagePainting"!==e&&"imagePaintingException"!==e||F(d,this._67);d._9638(e,a)}function fa(b,a){var d=b.data.v,e=a.rect;this===d._6431&&(e=void 0);d._558(e,this._67)}function I(b,a){a.active?b._6923||(b._6775(b._9732),b._5355(document),b._6923=!0):b._6923&&(b._6775(document),b._5355(b._9732),b._6923=!1)}function ba(b){var a="";window.PointerEvent?a+=" pointerdown."+b+" MSPointerDown."+b:("ontouchstart"in window&&(a+=" touchstart."+
b),a+=" mousedown."+b);return a}function ja(b){var a="";window.PointerEvent?a+=" pointermove."+b+" MSPointerMove."+b:("ontouchstart"in window&&(a+=" touchmove."+b),a+=" mousemove."+b);return a}function ga(b){var a="";window.PointerEvent?a+=" pointerup."+b+" MSPointerUp."+b:("ontouchstart"in window&&(a+=" touchend."+b),a+=" mouseup."+b);return a}function M(b){var a=b._7283,d=a.clientWidth,a=a.clientHeight;b._6765.width!=d||b._6765.height!=a?(b._6765={width:d,height:a},b._9893=1):(0<b._9893&&4>b._9893&&
b._9893++,4===b._9893&&(b._9893=0,X(b)))}function X(b){b._1270();var a=b._8898(),d=a.width,e=a.height,f;for(f in b._6020)b._6020[f]._3375(!1);void 0!=b._9688&&(b._9688.save(),b._9688._2713=!0);b._9270&&(b._9270.height=e,b._9270.width=d);b._6195&&(b._6195.height=e,b._6195.width=d);void 0!=b._9688&&b._9688.restore();b._6765=a;b._9907()}function ia(b){b=b.data.v;var a=b._9749();if(void 0!=b._6431&&!m._6002._5276(a,b._6431._2781)){N(b._6195);N(b._9270);for(var d=0;d<b._3379.length;d++)b._3379[d]._1048(),
b._3379[d]._2105(a);if(0===b._1541)for(d=0;d<b._3379.length;d++)b._3379[d]._7439()}}function N(b){void 0!=b&&b.getContext("2d").clearRect(0,0,b.width,b.height)}function la(b,a){$(a._3265).on("changed."+b._9301,function(){if(b._2362()||b._4659)ha(b),b._3980()})}function ma(b,a){$(a._3265).on("changed."+b._9301,function(){b._2362()&&(ha(b),b._3980())})}function ha(b){for(var a=0;a<b._3379.length;a++)b._3379[a]._4475()}var n=h.prototype;n.focusedIndexChanged=function(b,a){};n.imageInfoLoading=function(b,
a){};n.imageInfoLoaded=function(b,a){};n.imageInfoLoadingException=function(b,a){};n.imagePainting=function(b,a){};n.imageTilePainted=function(b,a){};n.imagePainted=function(b,a){};n.imagePaintingException=function(b,a){};n.zoomChanged=function(b,a){};n.visualToolChanged=function(b,a){};n.imageRotating=function(b,a){};n.imageRotated=function(b,a){};n.disposed=function(b){};n._9787=function(b,a){};n._5748=function(b,a){};n._4485=function(b,a){};n._6699=function(b,a){};n._4758=function(b,a){};n._2669=
function(b,a){};n._6092=function(b,a){};n.get_Images=function(){this._1270();var b=this._8174;return void 0==b?this._4826:b.get_Images()};n.get_VisualTool=function(){this._1270();return this._3785};n.set_VisualTool=function(a){this._1270();void 0!=a&&b.pv.c(a,nb.WebVisualToolJS);if(this._3785!==a){var d=this._3785;void 0!=this._3785&&(this._3785._8656(),this._3785=void 0);void 0!==a&&(this._3785=a,a.reset(),a._7012(this),0!==this._1541&&a.set_IsEnabled(!1));this._9638("visualToolChanged",{visualTool:a,
previousVisualTool:d})}};n.get_MasterViewer=function(){this._1270();return this._8174};n.set_MasterViewer=function(a){this._1270();if(a!==this&&this._8174!==a){if(void 0!=a){b.pv.ic(a,h)||b.pv.ic(a,g.WebThumbnailViewerJS)||b.pv.tae();a._8174===this&&a.set_MasterViewer();for(var d=a;void 0!=(d=d._8174);)d===this&&b.pv.te("MasterViewer cannot refers to itself.")}this._6573();this._8174=a;this._9314()}};n.get_CenterImage=function(){this._1270();return this._1695};n.set_CenterImage=function(a){this._1270();
b.pv.b(a);this._1695!==a&&(this._1695=a)&&(A(this),0===this._1541&&void 0!=this._6431&&Aa(this))};n.get_TileWidth=function(){b.pv.te("This property is obsolete from version 8.8. Use the 'get_TileSize' property instead.")};n.get_TileHeight=function(){b.pv.te("This property is obsolete from version 8.8. Use the 'get_TileSize' property instead.")};n.get_TileSize=function(){return{width:this._9957,height:this._5185}};n.set_TileSize=function(a,d){this._1270();var e,f;void 0==d?(e=a.width,f=a.height):(e=
a,f=d);b.pv.n(e,f);32>e&&(e=32);2048<e&&(e=2048);32>f&&(f=32);2048<f&&(f=2048);if(e!==this._9957||f!==this._5185)this._9957=e,this._5185=f,this._3980()};n.get_FocusedIndex=function(){this._1270();return this._4191};n.set_FocusedIndex=function(a){b.pv.n(a);(0>a||a>this.get_Images().get_Count()-1)&&b.pv.toe();var d=this._4191;if(a!==d){this._4191=a;if(null!=this._8174)try{this._8174.set_FocusedIndex(a)}catch(e){}this._1408(d,a);this._9638("focusedIndexChanged",{newFocusedIndex:a,previouslyFocusedIndex:d})}};
n.get_Zoom=function(){this._1270();return this._5899};n.set_Zoom=function(a){6===this.get_ImageSizeMode().valueOf()&&(b.pv.n(a),(1>a||1E3<a)&&b.pv.te("Zoom must be from 1% to 1000%."),9E-4>Math.abs(a-this._5899)||(this._5899=a,this._3980()))};n.get_ImageSizeMode=function(){this._1270();return this._9162};n.set_ImageSizeMode=function(a){this._1270();a=b.pv.e(a,s.WebImageSizeModeEnumJS);a.equals(this._9162)||(this._9162=a,this._3980())};n.get_ImageRotationAngle=function(){this._1270();return this._6419};
n.set_ImageRotationAngle=function(a){this._1270();b.pv.n(a);a=m._6002._4218(a);0!==a&&90!==a&&180!==a&&270!==a&&b.pv.te("Argument value exception.");var d=this._6419;a!==d&&(this._9638("imageRotating",{currentAngle:d,newAngle:a}),this._6419=a,this._3980(),void 0!=this._8174&&this._8174.set_ImageRotationAngle(a),this._9638("imageRotated",a))};n.get_ImageInfo=function(b){var a=this.get_Images().get_Image(b);b=a.get_Size();a=a.get_Resolution();return void 0==b||void 0==a?void 0:{size:b,resolution:a}};
n.get_UseCache=function(){this._1270();return this._4661};n.set_UseCache=function(a){this._1270();b.pv.b(a);if(a!==this._4661){this._4661=a;for(var d in this._6020)this._6020[d]._5781(a)}};n.get_TilesFormat=function(){this._1270();return this._9910};n.set_TilesFormat=function(a){this._1270();a=b.pv.e(a,b.WebImageTypeEnumJS);if(!this._9910.equals(a)){this._9910=a;for(var d in this._6020)this._6020[d]._9135(a)}};n.get_FocusedImage=function(){var b=this.get_Images();if(0<=this._4191&&this._4191<b.get_Count())return b.get_Image(this._4191)};
n.get_HScroll=function(){this._1270();return this._334};n.set_HScroll=function(a){this._1270();b.pv.b(a);this._334!==a&&(a=(this._334=a)?"auto":"hidden",$(this._8023).css("overflow-x",a),X(this))};n.get_VScroll=function(){this._1270();return this._5502};n.set_VScroll=function(a){this._1270();b.pv.b(a);this._5502!==a&&(a=(this._5502=a)?"auto":"hidden",$(this._8023).css("overflow-y",a),X(this))};n.get_RenderingSettings=function(){this._1270();return this._4546};n.set_RenderingSettings=function(a){this._1270();
void 0!=a&&b.pv.c(a,b.WebRenderingSettingsJS);if(!(this._4546==a||void 0!=this._4546&&this._4546.equals(a))){var d=this._9301;void 0!=this._4546&&$(this._4546.evm).off("changed."+d);this._4546=a;void 0!=this._4546&&($(this._4546.evm).on("changed."+d,{v:this},x),this.get_Images().setRenderingSettings(this._4546))}};n.get_ImageCacheManager=function(){this._1270();var b=this._8174;return void 0==b?this._4736:b.get_ImageCacheManager()};n.set_ImageCacheManager=function(a){this._1270();void 0!=a&&b.pv.c(a,
m.WebImageCacheManagerJS);void 0!=this._8174&&b.pv.te("Can not change cache manager of slave viewer.");if(this._4736!==a){this._4736=a;for(var d in this._6020)this._6020[d]._3660(a);this._9638("_6092",a)}};n.get_SyncCacheWithImages=function(){this._1270();var b=this._8174;return void 0!=b?b.get_SyncCacheWithImages():this._4882};n.set_SyncCacheWithImages=function(a){this._1270();b.pv.b(a);void 0!=this._8174&&b.pv.te("Can not change cache property of slave viewer.");this._4882=a};n.get_ControlId=function(){this._1270();
return this._7283.id};n.get_Control=function(){return this._7283};n.get_DisplayMode=function(){this._1270();var b=12,a=this._1839.valueOf(),d=this._7402.valueOf();if(2===a)if(1===this._403)b=1;else if(2===d)switch(this._403){case 2:b=4;break;case 3:b=8}else{if(1===d)switch(this._403){case 2:b=5;break;case 3:b=9}}else if(1===a)if(2===d)switch(this._403){case 1:b=2;break;case 2:b=6;break;case 3:b=10}else if(1===d)switch(this._403){case 1:b=3;break;case 2:b=7;break;case 3:b=11}return new s.WebImageViewerDisplayModeEnumJS(b)};
n.set_DisplayMode=function(a){a=b.pv.e(a,s.WebImageViewerDisplayModeEnumJS);if(!a.equals(this.get_DisplayMode())){var d=this._5424;switch(a.valueOf()){case 1:this._6909(d,1,2,2);break;case 2:this._6909(d,1,2,1);break;case 3:this._6909(d,1,1,1);break;case 4:this._6909(d,2,2,2);break;case 5:this._6909(d,2,1,2);break;case 6:this._6909(d,2,2,1);break;case 7:this._6909(d,2,1,1);break;case 8:this._6909(d,3,2,2);break;case 9:this._6909(d,3,1,2);break;case 10:this._6909(d,3,2,1);break;case 11:this._6909(d,
3,1,1)}}};n.get_MultipageDisplayImagePadding=function(){this._1270();return[].concat(this._5424)};n.set_MultipageDisplayImagePadding=function(a,d,e,f){this._1270();void 0==f&&("object"===typeof a?(f=a.bottom,d=a.top,e=a.right,a=a.left):f=d=e=a);b.pv.n(a,d,e,f);(0>a||0>d||0>e||0>f)&&b.pv.toe();var h=this._5424;if(h[0]!==a||h[1]!==d||h[2]!==e||h[3]!==f)this._5424=[a,d,e,f],this._2362()&&(A(this),this._3980())};n.get_MultipageDisplayLayoutDirection=function(){this._1270();return this._7402};n.set_MultipageDisplayLayoutDirection=
function(a){this._1270();a=b.pv.e(a,s.WebImageLayoutDirectionEnumJS);a.equals(this._7402)||(this._7402=a,this._2362()&&(A(this),this._3980()))};n.get_MultipageDisplayRowCount=function(){this._1270();return this._403};n.set_MultipageDisplayRowCount=function(a){this._1270();b.pv.n(a);a!==this._403&&(1>a&&b.pv.toe(),this._403=a,A(this),this._3980())};n.get_MultipageDisplayMode=function(){this._1270();return this._1839};n.set_MultipageDisplayMode=function(a){this._1270();a=b.pv.e(a,s.WebImageViewerMultipageDisplayModeEnumJS);
a.equals(this._1839)||(this._1839=a,A(this),this._3980())};n.get_IsMultipageDisplayMode=function(){this._1270();return this._2362()};n.get_IsAutoScrollToFocusedImageEnabled=function(){this._1270();return 0===this._6938};n.get_FocusedImageAppearance=function(){this._1270();return this._7842};n.set_FocusedImageAppearance=function(a){this._1270();b.pv.c(a,e);this._7842.equals(a)||($(this._7842._3265).off("changed."+this._9301),this._7842=a,la(this,a),(this._2362()||this._4659)&&this._3980())};n.get_ImageAppearance=
function(){this._1270();return this._8974};n.set_ImageAppearance=function(a){this._1270();b.pv.c(a,e);this._8974.equals(a)||($(this._8974._3265).off("changed."+this._9301),this._8974=a,ma(this,a),this._2362()&&this._3980())};n.get_UseImageAppearancesInSinglePageMode=function(){this._1270();return this._4659};n.set_UseImageAppearancesInSinglePageMode=function(a){this._1270();b.pv.b(a);this._4659!==a&&(this._4659=a,this._2362()||this._3980())};n.get_ImageAnchor=function(){this._1270();return this._7119};
n.set_ImageAnchor=function(a){this._1270();a=b.pv.e(a,s.WebImageAnchorTypeEnumJS);a.equals(this._7119)||(this._7119=a,this._3980())};n.get_ProgressImage=function(){this._1270();return this._2318};n.set_ProgressImage=function(a){this._1270();void 0!=a&&b.pv.c(a,Image);var d=this._2318;if(d!==a){var e=!1;if(void 0!=a){e=a.src;if(void 0!=d&&e===d.src)return;e=!0}this._2318=a;if(e){a=[];for(d=0;d<this._3379.length;d++)a[d]=this._3379[d]._1576;G(this,a)}else H(this)}};n.get_ContextMenuFunc=function(){this._1270();
return this._360};n.set_ContextMenuFunc=function(a){this._1270();void 0!=a&&b.pv.f(a);this._360=a;if(void 0!=this._9732){var d=this;d._9732[0].oncontextmenu=function(b){b.cancelable=!0;b.preventDefault?b.preventDefault():b.returnValue=!1;b.stopPropagation();var a=d._3785;if(void 0!=a&&a.get_DisableContextMenu())return!1;var e;void 0!=d._360&&(e=d._360(b));return void 0!=e?e:!1}}};n.get_IsDisposed=function(){return this._3699};n._2362=function(){return 2!==this._1839.valueOf()||1!==this._403};n._803=
function(){return this._5792};n._3368=function(){var b=this._8023[0];return void 0!=b?{x:b.scrollLeft,y:b.scrollTop}:{x:0,y:0}};n._5512=function(b,a){var d=this._8023[0];if(void 0!=d){var e=this._8898();this._2390.width<=e.width&&(b=0);this._2390.height<=e.height&&(a=0);d.scrollTop=a;d.scrollLeft=b}};n._5121=function(){var b=this._8023[0];return void 0!=b?{width:b.clientWidth,height:b.clientHeight}:{width:0,height:0}};n._8898=function(){var b=this._7283;return void 0!=b?{width:b.clientWidth,height:b.clientHeight}:
{width:0,height:0}};n._9749=function(){var b=this._3368(),a=this._5121();return{x:b.x,y:b.y,width:a.width,height:a.height}};n._2136=function(){return{width:this._2390.width,height:this._2390.height}};n._6964=function(){var b=this.get_FocusedImage();if(void 0==b)return m._6002._3358();b=this._7490(b);return{width:b.w,height:b.h}};n._8968=function(b){this._5801!==b&&(this._5801=b,this._2675||this._8023.css("cursor",b))};n._8026=function(b){this._8023.attr("title",b)};n._7585=function(){return{width:this._1134.width,
height:this._1134.height}};n._358=function(a,d){void 0==d&&(d=a.height,a=a.width);b.pv.n(a,d);this._1134={width:a,height:d}};n._1403=function(){return{x:this._189.x,y:this._189.y}};n._472=function(a,d){void 0==d&&(d=a.y,a=a.x);b.pv.n(a,d);this._189={x:a,y:d}};n.renderImages=function(a,d,e,f,h){function t(){var b=p[m],a=b.get_Size(),d=b.get_Resolution();void 0!=a&&void 0!=d?(a=V(k,b),u.cancelRendering||b.renderTiles(k._9957,k._5185,a,k._9910,g,C)):b.getImageInfo(t,C)}function g(b,a,e){m++;m===w?d&&
d():(u.rendered=m,f&&f(u),u.cancelRendering?h&&h():t())}function C(b,a,d){e&&e(b.errorMessage)}this._1270();0!==this._1541&&b.pv.te("Method cannot be executed because initialization is not finished.");b.pv.ad(a,b.pv.n);if(this._4661){var k=this,l=this.get_Images(),p=[];if(0===a.length)p=l.toArray();else for(var n=0;n<a.length;n++)p.push(l.get_Image(a[n]));var w=p.length,m=0,u={rendered:0,total:w,cancelRendering:!1};t()}};n.beginInit=function(){this._1270();this._1541++;void 0==this._4133&&this._1441();
1===this._1541&&void 0!=this._3785&&this._3785.set_IsEnabled(!1)};n.endInit=function(){this._1270();this._1541--;0===this._1541?(this._3740(),void 0!=this._3785&&this._3785.set_IsEnabled(!0)):0>this._1541&&(this._1541=0)};n.update=function(){X(this)};n.invalidate=function(b){this._1270();this._558(b)};n.transformPointFromScreenToControl=function(b,a){return this._6979(b,a)};n.transformPointFromControlToScreen=function(b,a){return this._2117(b,a)};n.transformPointFromScreenToViewer=function(b,a){var d=
this._6979(b,a);return this._400(d)};n.transformPointFromViewerToScreen=function(b,a){var d=this._8109(b,a);return this._2117(d)};n.transformPointFromControlToViewer=function(b,a){return this._400(b,a)};n.transformPointFromViewerToControl=function(b,a){return this._8109(b,a)};n.transformPointFromControlToImage=function(b,a){return this._2307(b,a)};n.transformPointFromImageToControl=function(b,a){return this._5831(b,a)};n.transformPointFromViewerToImage=function(b,a){var d=this._8109(b,a);return this._2307(d)};
n.transformPointFromImageToViewer=function(b,a){var d=this._5831(b,a);return this._400(d)};n.scrollTo=function(a,d){this._1270();b.pv.n(a,d);0>d&&(d=0);0>a&&(a=0);this._5512(a,d)};n.scrollToImagePoint=function(a,d){this._1270();b.pv.n(a,d);var e=this._5121(),f=this._4892(),h=this._3368();f.translate(h.x,h.y);f=f.transformPoint({x:a,y:d});this._5512(f.x-e.width/2,f.y-e.height/2)};n.focus=function(){this._1270();var b=$(this._7283);b.blur();b.focus()};n.disableAutoScrollToFocusedImage=function(){this._1270();
this._6938++};n.enableAutoScrollToFocusedImage=function(){this._1270();this._6938--};n.getImageIndexByLocation=function(b){this._1270();for(var a,d=0;d<this._3379.length;d++)if(this._3379[d]._3961(b)){a=this._3379[d]._67;break}return void 0!=a?this.get_Images().indexOf(a):-1};n.getImageByLocation=function(b){b=this.getImageIndexByLocation(b);var a=this.get_Images();if(0<=b&&b<a.get_Count())return a.get_Image(b)};n.setFocusedIndexByLocation=function(b,a){var d=this.getImageIndexByLocation(b);if(0<=
d&&d!==this._4191)try{return a&&this.disableAutoScrollToFocusedImage(),this.set_FocusedIndex(d),!0}finally{a&&this.enableAutoScrollToFocusedImage()}return!1};n.setFocusedIndexAsync=function(a,d){this._1270();0===this._1541&&this._6724||b.pv.te("Invalid operation exception.");b.pv.n(a);void 0!=d&&b.pv.f(d);if(this._4191!==a){if(void 0!=d){var e=function(){h._6724=!0;void 0!=d&&d()},f=this.get_Images().get_Image(a),f=this._1346(f),h=this,t=this._8898();if(0===t.width||0===t.height||f._9985)$(this).one("focusedIndexChanged",
e);else $(f).one("_9133",e);this._6724=!1}this.set_FocusedIndex(a)}else void 0!=d&&d()};n.getNearestImage=function(b){if(0!=this.get_Images().get_Count()){if(!this._2362())return this.get_FocusedImage();for(var a=this._9295(),d,e=0,f,t=0;t<a.length;t++){f=a[t];var h=this._5520(f);if(t==a.length-1&&b.x>=h.x&&b.y>=h.y||m._6002._9066(h,b))return f;h=m._6002._9282(h);h=m._6002._7501(h,b);if(void 0==d||e>h)e=h,d=f}return d}};n.zoomToRectangle=function(a){b.pv.r(a);0>=a.width||0>=a.height?this.scrollToImagePoint(a.x,
a.y):this._1868(a)};n.dispose=function(){this._1270();clearInterval(this._8427);void 0!=this._4015&&(this._4015.disconnect(),this._4015=void 0);var b="."+this._9301;$(this._4826.evm).off(b);for(var a=0;a<this._4826.get_Count();a++){var d=this._4826.get_Image(a);$(d.evm).off(b)}if(void 0!=this._8174){$(this._8174._1981).off(b);for(var e=this.get_Images(),a=0;a<e.get_Count();a++)d=e.get_Image(a),$(d.evm).off(b);this._8174=void 0}this._4191=-1;this._4736=void 0;$(this._8974._3265).off(b);$(this._7842._3265).off(b);
this._6775(document);$(this._7283).empty();this._8023=this._7283=void 0;this._5994=this._5801="";this._9688=this._9270=this._6195=this._9732=void 0;this._9758={};this._2318=void 0;for(b in this._6020)this._6020[b]._1163();this._6020={};this._3379=[];this._3785=this._6431=void 0;this._9638("disposed");this._3699=!0;$(this).off();$(this._1981).off()};n._1868=function(b,a){this._1270();var d={x:b.x,y:b.y,width:b.width,height:b.height};this._4892(a).transformRectangle(d);var d=m._6002._6314(d),e=this._5121(),
d=Math.min(e.width/d.width,e.height/d.height);this.set_ImageSizeMode(6);d*=this._5899;1>d&&(d=1);1E3<d&&(d=1E3);this.set_Zoom(d);d=m._6002._9282(b);this.scrollToImagePoint(d.x,d.y)};n._5520=function(b,a){var d=this.get_FocusedImage();void 0==b?b=d:"boolean"===typeof b&&(a=b,b=d);d=this._1346(b);return void 0!=d?d._1453(a):m._6002._3358()};n._6148=function(){var b=this.get_FocusedImage();if(void 0==b)return m._6002._3358();var a=this._8712(b),d=this._5121(),d={x:0,y:0,width:d.width,height:d.height};
a.transformRectangle(d);d=m._6002._6314(d);b=b.get_Size();return m._6002._4366(d,{x:0,y:0,width:b.width,height:b.height})};n._5217=function(b){if(!(0>this._4191)){var a=b;"mousedown"!=b.type&&(b="touchstart"==b.type?b.originalEvent.touches[0]:b.originalEvent,b.sourceEvent=a);b=f(this,b);b.t="mouseDown";var d=this._3785;this._2362()&&(void 0!=d&&d._5390(b)||this.setFocusedIndexByLocation(b.pv,!0));void 0!=d&&d._774()&&(this._2246(),d._5217(b),this._3997(),b.handled&&(a.cancelable=!0,a.preventDefault?
a.preventDefault():a.returnValue=!1),I(this,b))}};n._8012=function(b){if(!(0>this._4191)){if("mousemove"!=b.type){var a=b;b="touchmove"==b.type?b.originalEvent.touches[0]:b.originalEvent;b.sourceEvent=a}b=f(this,b);b.t="mouseMove";a=this._3785;void 0!=a&&a._774()&&(this._2246(),a._8012(b),this._3997(),I(this,b))}};n._946=function(b){if(!(0>this._4191)){var a=this._3785;if(void 0!=a&&a._774()){if("mouseup"!=b.type){var d=b;b="touchend"==b.type?b.originalEvent.changedTouches[0]:b.originalEvent;b.sourceEvent=
d}b=f(this,b);this._2246();var d=b.ps,e=(new Date).getTime(),h=this._9075?e-this._9075:0,t=this._7417?m._6002._7501(this._7417,d):100;250>h&&30<h&&10>t?(d=this._5121(),d.x=0,d.y=0,m._6002._9066(d,b.pc)&&(b.t="doubleClick",a._988(b),b.handled=!1,b.active=!1)):(this._7417=d,this._9075=e);b.t="mouseUp";a._946(b);this._3997();I(this,b)}}};n._6979=function(b,a){var d=this._7540(b,a),e=$(this._7283).offset();return{x:d.x-e.left,y:d.y-e.top}};n._2117=function(b,a){var d=this._7540(b,a),e=$(this._7283).offset();
return{x:d.x+e.left,y:d.y+e.top}};n._400=function(b,a){var d=this._7540(b,a),e=this._3368();return{x:d.x+e.x,y:d.y+e.y}};n._8109=function(b,a){var d=this._7540(b,a),e=this._3368();return{x:d.x-e.x,y:d.y-e.y}};n._2307=function(b,a){var d=this._7985(b,a);return this._8712().transformPoint(d)};n._5831=function(b,a){var d=this._7985(b,a);return this._4892().transformPoint(d)};n._4892=function(b){void 0==b&&(b=this.get_FocusedImage());b=this._1346(b);return void 0!=b?b._4892():new m.WebMatrixJS};n._8712=
function(b){return this._4892(b).invert()};n._7885=function(b,a){if(b===a||void 0==b||void 0==a)return new m.WebMatrixJS;var d=this._4892(b),e=this._8712(a);return m.WebMatrixJS.multiplyMatrix(d,e)};n._7540=function(a,d){this._1270();void 0==d&&(d=a.y,a=a.x);b.pv.n(a,d);return{x:a,y:d}};n._7985=function(a,d){var e=this._7540(a,d);-1===this._4191&&b.pv.te("ImageViewer does not have image.");return e};n._1270=function(){this._3699&&b.pv.te("Viewer is disposed.")};n._9295=function(b){void 0==b&&(b=!1);
for(var a=[],d=0;d<this._3379.length;d++){var e=this._3379[d];b?e._9255()&&a.push(e._67):a.push(e._67)}return a};n._4576=function(b){b=this._1346(b);if(void 0!=b)return b._9255()};n._1346=function(b){if(void 0!=b)return this._6020[b.get_Guid()]};n._9907=function(){this._4654=2;this._3740()};n._3980=function(){0===this._4654&&(this._4654=1);this._3740()};n._3740=function(){if(0===this._1541)if(1!==this._4654||this._2623()||(this._4654=0),this._4133=void 0,0<this._4654)this._4389(),this._4654=0;else{if(void 0!=
this._6431&&this._6431._117())for(var b=0;b<this._3379.length;b++)this._3379[b]._7439(!0);void 0!=this._4088&&(Aa(this),this._4088=void 0)}};n._2246=function(){this._5994=this._5801;this._2675=!0};n._3997=function(){this._2675=!1;this._5994!==this._5801&&this._8023.css("cursor",this._5801);this._5994=""};n._1408=function(b,a){if(0===this._1541){var d=!1;if(2===this._1839.valueOf()){var e=this._403;1===e?d=!0:Math.floor(b/e)!==Math.floor(a/e)&&(d=!0)}if(d)this._9907();else if(void 0!=this._3785&&this._3785.reset(),
""===this._7757){var d=this.get_FocusedImage(),e=this._1346(d),f=this._6431;this._9688._2713=!0;for(d=0;d<this._3379.length;d++)this._3379[d]._1048();f._9873(this._8974);e._9873(this._7842);this._6431=e;Aa(this);this._4088=void 0;e=this._9749();for(d=0;d<this._3379.length;d++)f=this._3379[d],f._2105(e),0===f._5285&&f._3916&&f._4475();this._9638("_2669",{dz:1,sp:this._3368()});for(d=0;d<this._3379.length;d++)this._3379[d]._7439()}else A(this)}};n._6573=function(){var b=this._8174;w({data:{v:this}},
b);void 0!=b&&$(b._1981).off("."+this._9301);this.set_VisualTool()};n._9314=function(){var b=this._8174;if(void 0!=b){var a=this._9301,d={v:this},e=b._1981;$(e).on("_9787."+a,d,u);$(e).on("_5748."+a,d,v);$(e).on("_4485."+a,d,K);$(e).on("focusedIndexChanged."+a,d,y);$(e).on("imageRotated."+a,d,z);$(e).on("_6092."+a,d,W);$(e).on("_6699."+a,d,w);$(e).on("_4758."+a,d,p);$(e).on("disposed."+a,d,l)}p({data:{v:this}},b)};n._5580=function(b){var a=!1;1===this._1839.valueOf()&&(a=!0);switch(b.actionName){case "clear":this._4191=
-1;a=!0;break;case "insert":case "insertRange":var d=b.imageIndex,e=1;"insertRange"===b.actionName&&(e=b.images.length);this._1477(d,e);break;case "removeAt":case "removeRange":d=[],"removeRange"===b.actionName?d=b.imagesIndexes:d.push(b.imageIndex),this._8194(d)}if(!a){b=this._9295();d=this._36();if(b.length!==d.length)return!0;for(e=0;e<d.length;e++)if(d[e]!==b[e])return!0}return a};n._1477=function(b,a){var d=this.get_Images().get_Count();a===d?this._4191=0:this._4191>=b&&(this._4191+=a)};n._8194=
function(b){var a=this.get_Images().get_Count();if(0===a)this._4191=-1;else{for(var d=!1,e=0;this._4191>=b[e];){if(this._4191===b[e]){d=!0;break}e++}this._4191-=e;d&&a==this._4191&&this._4191--}};n._6909=function(a,d,e,f){this._5424=a;this._403=d;this._7402=b.pv.e(e,s.WebImageLayoutDirectionEnumJS);this._1839=b.pv.e(f,s.WebImageViewerMultipageDisplayModeEnumJS);A(this);this._3980()};n._4389=function(){this.get_Images();var a=this.get_FocusedImage();va(this,a);for(var d=this._36(),e=[],a=0;a<d.length;a++){var f=
d[a];void 0!=f&&void 0==f.get_Size()&&e.push(f)}var h=b.WebImagingEnviromentJS.guid();this._7757=h;if(0===e.length)this._121(d,h);else{for(var f=function(b){w?n._4389():n._121(d,h)},t=function(b){b.blocked?w=!0:n._9638("imageInfoLoadingException",b)},g=function(b){n._9638("imageInfoLoaded",{image:b.image})},C=[],a=0;a<e.length;a++){for(var k=e[a].get_Source(),l=!0,p=0;p<C.length;p++)if(k.equals(C[p])){l=!1;break}l&&C.push(k)}for(var n=this,w=!1,a=0;a<C.length;a++)C[a].get_ImageService().bi();for(a=
0;a<e.length;a++)e[a].getImageInfo(g,t),n._9638("imageInfoLoading",{image:e[a]});for(a=0;a<C.length;a++)if(e=C[a].get_ImageService().ei(),void 0!=e)for(p=0;p<e.length;p++)if(t=e[p].request,b.pv.ic(t,b.WebCompositeRequestJS)&&"GetImagesInfo"===t.get_ActionName())$(t).one("compositeError compositeSuccess",f)}};n._121=function(a,d){if(this._7757===d&&0===this._1541){0===this._5792&&(this._5792=b.WebImagingEnviromentJS.get_ScrollSize(this._7283));if(this._2362()){if(!(0<this._1541)){var e=this._6431;
if(0<a.length){var f=this._9347,h=this._3368(),t=Ca(this,a),g=1;if(this._5899!==f&&(g=this._5899/f,this._9638("zoomChanged",{zoom:this._5899,differenceScale:g,scroll:h}),void 0!=e&&"fi"!==this._4088)){var C=-1,f=this.getNearestImage(h);void 0!=f&&(C=this.get_Images().indexOf(f));var k=f=0;if(-1!=C){k=0;1==this._1839.valueOf()&&(k=Math.trunc(C/this._403));var C=C%this._403,l=this._5424;2==this._7402.valueOf()?(f=l[0]*(C+1)+l[2]*C,k=l[1]*(k+1)+l[3]*k):(f=l[0]*(k+1)+l[2]*k,k=l[1]*(C+1)+l[3]*C)}this._1770((h.x-
f)*g+f,(h.y-k)*g+k)}f=this._9749();C=this.get_FocusedImage();l=!1;b:if(this._3379.length!==a.length)k=!1;else{for(k=0;k<a.length;k++)if(this._3379[k]._67!==a[k]){k=!1;break b}k=!0}if(!k){S(this,a);for(k=0;k<a.length;k++)l=a[k],void 0!=l&&(l=this._6020[l.get_Guid()],ea(this,l),this._3379[k]=l);l=!0;this._9688._2713=l}G(this,t);for(var p=this._8974,k=0;k<this._3379.length;k++){var n=p,w=this._3379[k];w._67===C&&(this._6431=w,n=this._7842);w._1048();da(this,w,t[k],f,n)}this._9638("_2669",{dz:g,sp:h});
this._6431===e&&void 0==this._4088&&this._1770(h);Aa(this,f);e=this._3368();if(h.x!==e.x||h.y!==e.y)for(f=this._9749(),k=0;k<this._3379.length;k++)this._3379[k]._2105(f);if(!l)for(k=0;k<this._3379.length;k++)if(0<this._3379[k]._5285){l=!0;this._9688._2713=l;break}if(l){for(k=0;k<this._3379.length;k++)h=this._3379[k],0===h._5285&&h._3916&&h._4475();N(this._9270)}h=!1;for(k=0;k<this._3379.length;k++)this._3379[k]._7439(!0),h||(h=this._3379[k]._3916);h||0===this._3379.length||this._3379[0]._4691()}else N(this._6195),
N(this._9270),Ca(this,a),S(this,a),this._9638("_2669",{dz:this._5899/this._9347,sp:this._3368()});this._4088=void 0}}else if(!(0<this._1541)){h=this._6431;if(0<a.length){C=this._9347;e=this._3368();t=Ca(this,a);g=1;this._5899!==C&&(g=this._5899/C,k=this._3368(),this._9638("zoomChanged",{zoom:this._5899,differenceScale:g,scroll:k}),void 0!=h&&this._1770(k.x*g,k.y*g));C=!1;l=a[0];if(1!==this._3379.length||this._3379[0]._67!==l)S(this,a),C=!0,this._9688._2713=C;k=this._9749();0===this._3379.length&&
(l=this._1346(l),ea(this,l),this._3379[0]=l);this._6431=this._3379[0];G(this,t);this._4659&&(f=this._7842);this._6431._1048();da(this,this._6431,t[0],k,f);this._9638("_2669",{dz:g,sp:e});this._6431===h&&void 0==this._4088&&this._1770(e);Aa(this,k);k=this._3368();e.x===k.x&&e.y===k.y||this._6431._2105(this._9749());!C&&0<this._6431._5285&&(C=!0,this._9688._2713=C);C&&N(this._9270);this._6431._7439(!0)}else N(this._6195),N(this._9270),Ca(this,a),S(this,a),this._9638("_2669",{dz:this._5899/this._9347,
sp:this._3368()});this._4088=void 0}this._7757=""}};n._1770=function(b,a){"fi"!==this._4088&&(this._4088=void 0!=a?{x:b,y:a}:b)};n._36=function(){var b=this.get_Images(),a=b.get_Count();if(0===a)return[];var d=this._2362();if(!d)return b=b.get_Image(this._4191),void 0!=b?[b]:[];var e=this._1839.valueOf();if(1===e)return b.toArray();var f=this._403,t=0;d&&1!==e&&(t=Math.floor(this._4191/f));d=Array(f);for(e=0;e<f;e++){var h=t*f+e;if(h>=a)break;d[e]=b.get_Image(h)}return d};n._5570=function(a){var d=
[],e=m._6002._3358();if(0===a.length)return{b:e,r:d};var f=this._5424;this._2362()||(f=[0,0,0,0]);var h=this._1839.valueOf(),t=this._8898(),g=t.width,k=t.height,e={x:0,y:0,width:g,height:k},h=1===h?Math.min(a.length,this._403):a.length,l=this._5899,p=this._9162.valueOf(),n=this._7402.valueOf();if(2===n){var d=this._5595(a,h,f,g,k),g=d.w,k=d.h,l=d.z,d=d.r,n=g>t.width,w=k>t.height;if(w){if(g=t.width-this._5792,k=t.height,d=this._5595(a,h,f,g,k),g=d.w,k=d.h,l=d.z,d=d.r,n=g>t.width-this._5792)g=t.width-
this._5792,k=t.height-this._5792,d=this._5595(a,h,f,g,k),g=d.w,k=d.h,l=d.z,d=d.r}else!n||2!==p&&6!==p&&4!==p||(k=t.height-this._5792,g=t.width,d=this._5595(a,h,f,g,k),g=d.w,k=d.h,l=d.z,d=d.r)}else if(1===n)if(d=this._1138(a,h,f,g,k),g=d.w,k=d.h,l=d.z,d=d.r,n=g>t.width,w=k>t.height,n){if(k=t.height-this._5792,g=t.width,d=this._1138(a,h,f,g,k),g=d.w,k=d.h,l=d.z,d=d.r,w=k>t.height-this._5792)g=t.width-this._5792,k=t.height-this._5792,d=this._1138(a,h,f,g,k),g=d.w,k=d.h,l=d.z,d=d.r}else!w||3!==p&&6!==
p&&4!==p||(g=t.width-this._5792,k=t.height,d=this._1138(a,h,f,g,k),g=d.w,k=d.h,l=d.z,d=d.r);else b.pv.te("Invalid operation");0>=l?(e.width=0,e.height=0):(e.width=g,e.height=k);this._9347=this._5899=l;return{b:e,r:d}};n._5595=function(a,d,e,f,h){var t=this._9162.valueOf(),g=5===t,k=this._5402(a,0,a.length,!g),l=k.w,p=k.h,n=e[0]+e[2],w=e[1]+e[3],m=l*d,u;switch(t){case 1:u=Math.min((f-n*d)/m,(h-w)/p);break;case 2:u=(h-w)/p;break;case 3:u=(f-n*d)/m;break;case 6:u=this._5899/100;break;case 4:case 5:u=
1;break;default:b.pv.te("Invalid operation")}0>u&&(u=0);var s=1,r=1;if(6===t||4===t)s=this._5778/96,r=this._3440/96;for(var v=[],m=Math.round(m*u*s+n*d),x=0,y=0;y<a.length;y+=d){for(var k=this._5402(a,y,d,!g),p=k.h,k=Math.round(l*u*s)+n,p=Math.round(p*u*r)+w,B=0;B<d&&y+B<a.length;B++){var D={x:B*k,y:x,width:k,height:p};D.x+=e[0];D.y+=e[1];D.width-=n;0>D.width&&(D.width=0);D.height-=w;0>D.height&&(D.height=0);v[y+B]=D}x+=p}a=Math.ceil(x);this._2362()?this._3400(f,h,m,a,v):v[0]={x:0,y:0,width:Math.max(f,
m),height:Math.max(h,a)};f=100*u;6!==t&&4!==t&&(f/=this._5778/96);return{w:m,h:a,z:f,r:v}};n._1138=function(a,d,e,f,h){var t=this._9162.valueOf(),g=5===t,k=this._5402(a,0,a.length,!g),l=k.w,p=k.h,n=e[0]+e[2],w=e[1]+e[3],m=p*d,u;switch(t){case 1:u=Math.min((f-n)/l,(h-w*d)/m);break;case 2:u=(h-w*d)/m;break;case 3:u=(f-n)/l;break;case 6:u=this._5899/100;break;case 4:case 5:u=1;break;default:b.pv.te("Invalid operation")}0>u&&(u=0);var s=1,r=1;if(6===t||4===t)s=this._5778/96,r=this._3440/96;for(var v=
[],x=0,m=Math.round(m*u*r+w*d),y=0;y<a.length;y+=d){for(var k=this._5402(a,y,d,!g),l=k.w,l=Math.round(l*u*s)+n,k=Math.round(p*u*r)+w,B=0;B<d&&y+B<a.length;B++){var D={x:x,y:B*k,width:l,height:k};D.x+=e[0];D.y+=e[1];D.width-=n;0>D.width&&(D.width=0);D.height-=w;0>D.height&&(D.height=0);v[y+B]=D}x+=l}a=Math.ceil(x);this._2362()?this._3400(f,h,a,m,v):v[0]={x:0,y:0,width:Math.max(f,a),height:Math.max(h,m)};f=100*u;6!==t&&4!==t&&(f/=this._5778/96);return{w:a,h:m,z:f,r:v}};n._5402=function(b,a,d,e){for(var f=
0,t=0,h=0;h<d&&a+h<b.length;h++){var g=b[a+h];if(void 0!=g){var g=this._7490(g),k=g.w,l=g.h;e&&(k*=this._5778/g.rx,l*=this._3440/g.ry);k>f&&(f=k);l>t&&(t=l)}}if(90===this._6419||270===this._6419)b=f,f=t,t=b;return{w:f,h:t}};n._7490=function(b){var a=b.get_Resolution(),d=b.get_Size(),e;void 0==a||0===a.x||0===a.y?(b=this._189.x,a=this._189.y):(b=a.x,a=a.y);void 0==d||0===d.width||0===d.height?(e=this._1134.width,d=this._1134.height):(e=d.width,d=d.height);return{rx:b,ry:a,w:e,h:d}};n._3400=function(b,
a,d,e,f){switch(this._7119.valueOf()){case 4:case 7:b=0;a=Math.max(0,(a-e)/2);break;case 6:b=0;a=Math.max(0,a-e);break;case 5:a=b=0;break;case 8:case 11:b=Math.max(0,b-d);a=Math.max(0,(a-e)/2);break;case 10:b=Math.max(0,b-d);a=Math.max(0,a-e);break;case 9:b=Math.max(0,b-d);a=0;break;case 1:case 13:b=Math.max(0,(b-d)/2);a=0;break;case 2:case 14:b=Math.max(0,(b-d)/2);a=Math.max(0,a-e);break;default:b=Math.max(0,(b-d)/2),a=Math.max(0,(a-e)/2)}if(0!=b||0!=a)for(e=0;e<f.length;e++)f[e].x+=b,f[e].y+=a};
n._558=function(a,d){if(void 0==a){var e=this._5121();a={x:0,y:0,width:e.width,height:e.height}}b.pv.r(a);if(!m._6002._1672(a)){var f=this._3785;if(0!==this._3379.length&&void 0!=f){e=this._9270.getContext("2d");e.clearRect(a.x,a.y,a.width,a.height);var h=this.get_FocusedImage(),t=this._9295(!0);if(this._2362()&&f.get_IsMultipageModeSupported())for(f=0;f<t.length;f++){var g=t[f];if(g!==h){var k=this._5520(g,!0),k=m._6002._4366(a,k);m._6002._1672(k)||this._9953(e,g,k)}}this._9953(e,h,a)}}};n._9953=
function(b,a,d){if(void 0!=a){var e=this._1346(a);if(void 0!=e){var f=e._8996();f||this.get_FocusedImage()!==a||e._9255()||!e._5663()||(f=!0,d=this._5121(),d={x:0,y:0,width:d.width,height:d.height});f&&(b.save(),f=d,b.beginPath(),b.rect(f.x,f.y,f.width,f.height),b.clip(),b._6884=a.get_Resolution(),this._3785._5567(e._4892(),d,a),b.restore())}}};n._4297=function(b){var a=this;$(b).on(ba(a._9301),function(b){a._5217(b)})};n._8591=function(b){$(b).off(ba(this._9301))};n._5355=function(b){var a=this,
d=a._9301;$(b).on(ja(d),function(b){a._8012(b)});$(b).on(ga(d),function(b){a._946(b)})};n._6775=function(b){var a=this._9301;$(b).off(ja(a));$(b).off(ga(a))};n._9638=function(b,a){$(this._1981).triggerHandler(b,a);$(this).triggerHandler(b,a)};n._1441=function(){var b={};b._9957=this._9957;b._5185=this._5185;b._5899=this._5899;b._9162=this._9162.valueOf();b._6419=this._6419;b._5424=[].concat(this._5424);b._7402=this._7402.valueOf();b._403=this._403;b._1839=this._1839.valueOf();b._7119=this._7119.valueOf();
b._4659=this._4659;b._7842=this._7842.clone();b._8974=this._8974.clone();b._isMultipage=this._2362();this._4133=b};n._2623=function(){var b=this._4133;if(void 0==b)return!0;var a=this._2362(),d=!b._7842.equals(this._7842),e=b._4659!==this._4659;return b._9957!==this._9957||b._5185!==this._5185||b._6419!==this._6419||a!==b._isMultipage||b._7119!==this._7119.valueOf()||b._9162!==this._9162.valueOf()||b._5899!==this._5899||!a&&(e||d&&this._4659)||a&&(a=this._5424,e=b._5424,a=a[0]!==e[0]||a[1]!==e[1]||
a[2]!==e[2]||a[3]!==e[3],e=!b._8974.equals(this._8974),a||b._7402!==this._7402.valueOf()||b._1839!==this._1839.valueOf()||b._403!==this._403||d||e)?!0:!1};var J;"string"===typeof d?J=document.getElementById(d):(b.pv.ic(d,$)&&(d=d[0]),void 0!=d.tagName&&(J=d));void 0==J&&b.pv.te("The parent DOM element for viewer is not found.");"DIV"!==J.tagName&&b.pv.te("The parent DOM element for viewer must be a DIV element.");J.style.setProperty("position","relative","important");this._7283=J;this._9301=b.WebImagingEnviromentJS.guid();
this._2390;this._6765={width:J.clientWidth,height:J.clientHeight};this._5792=b.WebImagingEnviromentJS.get_ScrollSize(J);this._5778=b.WebImagingEnviromentJS.getScreenDpi().dpiX;0===this._5778&&(this._5778=96);this._3440=b.WebImagingEnviromentJS.getScreenDpi().dpiY;0===this._3440&&(this._3440=96);this._4654=this._1541=0;this._6831="WebImageViewer";this._4826=new b.WebImageCollectionJS;this._8174=this._3785=void 0;this._1695=!1;this._5185=this._9957=1024;this._4191=-1;this._9347=this._5899=100;this._9162=
new s.WebImageSizeModeEnumJS(4);this._9688=this._9270=this._6195=this._4088=void 0;this._9893=0;this._8427=void 0;this._6755=250;this._4015;this._6419=0;this._5502=this._334=!0;this._4546;this._4661=!0;this._9910=new b.WebImageTypeEnumJS(1);this._5994=this._5801="";this._2675=!1;this._1981={};this._4736;this._4882=!0;this.set_ImageCacheManager(new m.WebImageCacheManagerJS);this._6431;this._3379=[];this._6020={};this._7757="";this._6724=!0;this._7842=new e("rgba(255,255,255,0)","rgba(0,0,0,1)",1);
this._8974=new e("rgba(255,255,255,0)","rgba(255,255,255,0)",0);this._4659=!1;this._5424=[4,4,4,4];this._7402=new s.WebImageLayoutDirectionEnumJS(2);this._403=1;this._1839=new s.WebImageViewerMultipageDisplayModeEnumJS(2);this._6938=0;this._7119=new s.WebImageAnchorTypeEnumJS(0);this._1134={width:100,height:100};this._189={x:96,y:96};this._4133;this._8023;this._9732;this._2318=void 0;this._9758={};this._360;d={v:this};J=this._9301;$(this._4826.evm).on("changing."+J,d,u);$(this._4826.evm).on("changed."+
J,d,v);la(this,this._7842);ma(this,this._8974);(function(b){var a=b._7283,d=a.clientWidth,e=a.clientHeight,f=$("<div>");$(a).prepend(f);a={width:"100%",height:"100%",position:"absolute"};a["overflow-x"]=b._334?"auto":"hidden";a["overflow-y"]=b._5502?"auto":"hidden";f.css(a);$(f).on("scroll",{v:b},ia);b._8023=f;a=$("<div>").appendTo(f);a.css({position:"absolute","touch-action":"none",width:d,height:e});b._9732=a;var t=$("<div>").insertBefore(f);$(t).css({position:"absolute",overflow:"hidden",width:"100%",
height:"100%"});var f={position:"absolute",top:0,left:0},h=$("<canvas>").appendTo(t);b._6195=h[0];$(h).css(f);b._6195.width=d;b._6195.height=e;b._2390={width:d,height:e};b._9688=b._6195.getContext("2d");t=$("<canvas>").appendTo(t);b._9270=t[0];$(b._9270).css(f);b._9270.width=d;b._9270.height=e;b._4297(a);b._5355(a);void 0!=b._3785&&b._3785._4975();b._6765={width:d,height:e};b._8427=setInterval(M,b._6755,b)})(this);this.set_ContextMenuFunc();this._6923=!1;this._7417;this._9075;this._3699=!1;this._2713;
delete this._2713;delete n.focusedIndexChanged;delete n.imageRotating;delete n.imageRotated;delete n.zoomChanged;delete n.imageInfoLoaded;delete n.imageTilePainted;delete n.imagePainted;delete n.visualToolChanged;delete n.imageInfoLoadingException;delete n.imagePaintingException;delete n.imagePainting;delete n.imageInfoLoading;delete n._9787;delete n._5748;delete n._4485;delete n._6699;delete n._4758;delete n.disposed;delete n._2669;delete n._6092};g.WebImageAppearanceJS=e;g._7977=a;g.WebImageViewerJS=
h;var d=function(a){function e(b,a,d){if(d.width!==b._6859||d.height!==b._2916)return!1;a=b.get_Images().get_Image(a);b=a.get_RenderingSettings();a=a.get_DecodingSettings();return b.equals(d.renderingSettings)&&(void 0!=a&&a.equals(d.decodingSettings)||void 0==a&&a==d.decodingSettings)}function h(b,a){var d=$(b._7283).offset(),d={x:a.pageX-d.left,y:a.pageY-d.top};return{pc:d,ps:d,e:a,b:p(a)}}function p(b){var a=-1;b.which?a=b.which:b.button&&(b.button&1?a=1:b.button&4?a=2:b.button&2&&(a=3));-1==a&&
void 0!=b.sourceEvent&&"touchstart"===b.sourceEvent.type&&(a=1);return a}function l(b,a){var d=b.data.v,e;e=void 0!=a?a.get_Images():d.get_Images();x(d,e.toArray());d._6080();d._9638("_6699",a)}function u(b,a){var d=b.data.v,e=(void 0!=a?a.get_Images():d.get_Images()).toArray();y(d,e);d._9638("_4758",a);d._184(0,e);e=-1;void 0!=a&&(e=a._4191);d._4191=e;-1!==e&&d.scrollTo(e);d._1016||I(d)}function r(b){b.data.v.set_MasterViewer()}function B(b,a){b.data.v._9638("_6092",a)}function K(b,a,d){b=document.getElementById(d._9301+
"_ThumbnailStyleSheet").sheet.cssRules[b];void 0!=b&&(b=b.style,b.background=a._8117,b.border=a._2365,b.marginLeft=-a._1594+"px",b.marginTop=-a._1594+"px")}function v(b,a){var d=b.data.v,e=[],f=[];switch(a.actionName){case "set":e.push(a.previousImage);case "insert":f.push(a.image);break;case "insertRange":f=a.images;break;case "removeAt":e.push(a.image);break;case "clear":case "removeRange":e=a.images}if(0!==e.length){x(d,e);for(var h=d.get_ImageCacheManager(),g=void 0!=h&&d.get_SyncCacheWithImages(),
k=0;k<e.length;k++){var l=e[k];g&&h.contains(l)&&h.clearImageCache(l)}}y(d,f);d._9638("_9787",a)}function x(b,a){for(var d=0;d<a.length;d++)$(a[d].evm).off("."+b._9301)}function y(b,a){if(void 0==b._8174)for(var d=0;d<a.length;d++)$(a[d].evm).on("icd."+b._9301,{v:b},z)}function z(b,a){var d=b.data.v,e=a.i,f=d.get_ImageCacheManager();void 0!=f&&f.contains(e)&&f.clearImageCache(e);f=d.get_Images().indexOf(e.get_Guid());d._4859(f,e,e);I(d);d._9638("_4485",a)}function W(b,a){var d=b.data.v,e=d._4191;
d._5580(a);d._1016||I(d);d._9638("_5748",a);d._4191!==e&&d._9638("focusedIndexChanged",{newFocusedIndex:d._4191,previouslyFocusedIndex:e})}function G(b,a){var d=b.data.v,e=a.newFocusedIndex;-1!=e&&d.set_FocusedIndex(e)}function A(b){b._8023.find(".selected").removeClass("selected")}function F(b,a){for(var d=0;d<b._8616.length;d++)if(b._8616[d]===a)return!0;return!1}function H(b){var a="";window.PointerEvent?a+=" pointerdown."+b+" MSPointerDown."+b:("ontouchstart"in window&&(a+=" touchstart."+b),a+=
" mousedown."+b);return a}function S(b){var a="";window.PointerEvent?a+=" pointermove."+b+" MSPointerMove."+b:("ontouchstart"in window&&(a+=" touchmove."+b),a+=" mousemove."+b);return a}function O(b){var a="";window.PointerEvent?a+=" pointerup."+b+" MSPointerUp."+b:("ontouchstart"in window&&(a+=" touchend."+b),a+=" mouseup."+b);return a}function P(b,a,d,e){var f=$("<div>");f.css({"float":"left",position:"relative","margin-top":b,"margin-left":b,width:a,height:d});b=$("<div>",{id:e}).appendTo(f);$(b).css({width:a,
height:d});$(b).addClass("border");$(b).addClass("notReady");return{border:b,main:f}}function R(b){var a=b._7283;if(a.clientWidth!=b._6765.width||a.clientHeight!=b._6765.height){0!==b._6765.width&&0!==b._6765.height||X(b);var d=b.get_Images().get_Count();b._6765={width:a.clientWidth,height:a.clientHeight};ea(b,d);T(b);b._1016||I(b);4===b._8944.valueOf()&&V(b,d)}}function da(b,a){var d=b._7283,e=d.clientWidth,d=d.clientHeight;if(void 0==b._9270){var f=b._8023[0],f=$("<canvas>").insertAfter(f);f.css({left:"0px",
top:"0px",position:"absolute","pointer-events":"none",display:"none","user-select":"none","-webkit-user-select":"none","-moz-user-select":"none"});b._9270=f[0]}b._9270.width=e;b._9270.height=d}function V(b,a){var d=b._2005,e=-1,f=-1,h=b._5726(),g=h.width,h=h.height,k=b._4286,l=b._8944.valueOf();ea(b,a);switch(l){case 1:e=g;f=h*a+k*a;d.css("left","50%");d.css("top","0px");d.css("margin-left",-e/2-k);d.css("margin-top",0);d.css("margin-bottom",k);break;case 2:f=h;e=(g+k)*a;d.css("top","50%");d.css("left",
"0px");d.css("margin-top",-f/2-k);d.css("margin-left",0);break;case 4:l=b._7283;e=(g+k)*b._3106+k;f=(h+k)*b._8335;d.css("top","0px");e>l.clientWidth?(d.css("left","0px"),d.css("margin-left",k)):(l.clientWidth-e)/2<k?(d.css("left","0px"),d.css("margin-left",k)):(d.css("left","50%"),d.css("margin-left",-e/2));d.css("margin-top",0);d.css("margin-bottom",k);break;case 3:d.css({"margin-left":k,left:"0px",top:"0px","margin-top":0,"margin-bottom":k})}-1!=e?d.css({width:e,height:f}):d.css({width:"",height:""})}
function ea(a,d){if(0===d)a._8335=a._3106=0;else{0===a._5792&&(a._5792=b.WebImagingEnviromentJS.get_ScrollSize(a._7283));var e;switch(a.get_ThumbnailFlowStyle().valueOf()){case 1:e=1;break;case 2:e=d;break;case 4:e=Math.min(a.get_ThumbnailFixedColumnCount(),d);break;case 3:e=a._7283;var f=a._5726().width,h=0;fa(a,"y")&&(h=a._5792);e=Math.floor((e.clientWidth-a.get_ThumbnailMargin()-h)/(f+a.get_ThumbnailMargin()));e=0<e?Math.min(e,d):1}a._3106=e;a._8335=Math.ceil(d/e)}}function T(b){var a=b._2136(),
d=b._7283,e=d.clientHeight,d=d.clientWidth,f=0,h=0;switch(b._6419){case 0:f=b._9755;h=b._587;break;case 90:f=b._9982;h=b._9755;break;case 180:f=b._7368;h=b._9982;break;case 270:f=b._587,h=b._7368}3===b._8944.valueOf()&&(f*=-1);b=b._8023;a.width+f>d?b.css("overflow-x","auto"):b.css("overflow-x","hidden");a.height+h>e?b.css("overflow-y","auto"):b.css("overflow-y","hidden")}function fa(b,a){var d=b._8023,e=d.css("overflow"),f;f="undefined"==typeof a||"y"==a?d.css("overflow-y"):d.css("overflow-x");return(d=
"undefined"==typeof a||"y"==a?d.get(0).scrollHeight>d.innerHeight():d.get(0).scrollWidth>d.innerWidth())&&("auto"==e||"visible"==e||"auto"==f||"visible"==f)||"scroll"==e||"scroll"==f}function I(b){var a=b.get_GenerateOnlyVisibleThumbnails(),d=b.get_ImageCacheManager();if(void 0!=d){for(var e=[],f=0;f<b._5752.length;f++)1!==b._5752[f]&&e.push(f);for(var h=b._6859,g=b._2916,k=b.get_Images(),f=0;f<e.length;f++){var l=k.get_Image(e[f]),p=ba(h,g,l),p=d.getImageData(l,p);void 0!=p&&(p={fileId:p,image:l,
width:h,height:g,renderingSettings:l.get_RenderingSettings().clone()},l=l.get_DecodingSettings(),void 0!=l&&(p.decodingSettings=l.clone()),b._9470(p))}}d=ja(b);if(0!=d.length)for(e=b.get_Images(),f=0;f<d.length;f++)h=d[f],g=e.get_Image(h).get_Guid(),g=$(b._7283).find("#"+g),0===b._5752[h]&&(ga(b,g,h),h=b,p=g,void 0!=h._2318&&(g=h._2318.width,k=h._2318.height,0===g&&0===k&&(g=k=32),l=h._5726(),h=$($(h._2318).clone()).appendTo(p),$(h).css({position:"absolute","pointer-events":"none",top:(l.height-k)/
2,left:(l.width-g)/2})));if(!b._1016)if(a)0==d.length?b._9638("visibleThumbnailsPainted"):ia(d,b);else if(a=b._8023[0],d=a.clientHeight,0!==a.clientWidth&&0!==d){a=[];for(d=0;d<b._5752.length;d++)1!==b._5752[d]&&a.push(d);0===a.length&&b._9638("visibleThumbnailsPainted");ia(a,b)}}function ba(b,a,d){b="thS"+b+","+a;if(!1!==d.get_IsVector()){var e=d.get_RenderingSettings();a=e.get_Resolution();var f=e.get_InterpolationMode(),e=e.get_SmoothingMode();b+="Rs"+a.x+","+a.y+","+f.valueOf()+","+e.valueOf()}d=
d.get_DecodingSettings();void 0!=d&&d.get_IsColorManagementEnabled()&&(b+="Cm");return b}function ja(b){var a=b.get_Images().get_Count();if(0===a)return[];var d=b.get_ThumbnailMargin(),e=b.get_ThumbnailPadding(),f=b._5726(),h=f.width,f=f.height,g=b._8023[0],k=g.clientWidth,l=g.clientHeight;if(0===k||0===l)return[];var p=g.scrollTop,g=g.scrollLeft,n=h+d,w=b._3106,m=g+k,q=p+l,u;u=p<d+e[0]?0:Math.floor(p/(f+d));l=Math.ceil(l/f)+u+1;l>b._8335&&(l=b._8335);n=g<d+e[3]?0:Math.floor(g/n);k=Math.ceil(k/h)+
n+1;k>b._3106&&(k=b._3106);var s=b._2005.children("div");if(0===s.length)return[];for(var r=$(s[u*w+n]).position(),s=r.left,r=r.top,v=0,x=0,y=0,B=0,K=[],z=u;z<l;z++){z!=u?(y+=f+d,B=y+f+e[2]):(y=r,B=y+f+e[0]+e[2]);for(var A=n;A<k;A++){var v=A!=n?v+(h+d):s,x=v+h+e[1],E=z*w+A;E<a&&(1<g-x||1>m-v||1<p-B||1>q-y||1===b._5752[E]||K.push(E))}}return K}function ga(b,a,d){a=$("<img>").appendTo(a);var e=b._3928.valueOf()/100;a.css({width:b._6859*e,height:b._2916*e,display:"block",position:"absolute","margin-left":b._9755,
"margin-top":b._587,"margin-right":b._7368,"margin-bottom":b._9982,"user-select":"none","-webkit-user-select":"none","-moz-user-select":"none"});0!==b._6419&&a.css(b._4907());e={v:b};a.on("click",e,la);a.contextmenu(e,ha);a.mouseover(e,ma);a.mouseout(e,J);a.on(H(b._9301),e,n);b._5752[d]=2;b._9638("thumbnailPainting",d);return a}function M(b,a,d){for(;-1!==b.indexOf(a);)b=b.replace(a,d);return b}function X(b){if(0!==b._1515){for(var a=0;a<b._5752.length;a++)0!==b._5752[a]&&(b._9638("thumbnailPainting",
a),2===b._1515&&b._9638("thumbnailPainted",a));b._1515=0}}function ia(a,d){function e(b){d._9470(b)}function f(b){if(!b.blocked){null!=b.fileId&&d._9470(b);var a=d.get_Images().indexOf(b.image);d._9638("imageRenderingException",{response:b,thumbnailIndex:a})}}function h(b){d._1016=!1;I(d)}if(0!==d._1541)d._4654=!0;else{for(var g=d._6859,k=d._2916,l=d.get_Images(),p=[],n=[],w=0;w<a.length;w++){var m=l.get_Image(a[w]);p.push(m);for(var q=m.get_Source(),u=!0,m=0;m<n.length;m++)if(q.equals(n[m])){u=!1;
break}u&&n.push(q)}for(w=0;w<n.length;w++)n[w].get_ImageService().bi();0!==p.length&&(d._1016=!0);for(w=0;w<p.length;w++)p[w].renderThumbnail(g,k,d._4661,d._4704,e,f);for(w=0;w<n.length;w++)if(g=n[w].get_ImageService().ei(),void 0!=g)for(m=0;m<g.length;m++)if(k=g[m].request,b.pv.ic(k,b.WebCompositeRequestJS)&&"RenderThumbnails"===k.get_ActionName())$(k).one("compositeError compositeSuccess",h)}}function N(b){var a=b.data.v;I(a);a._9638("scrollChanged",b)}function la(b){var a=b.data.v,d=$(this).parent()[0].id,
d=a.get_Images().indexOf(d);a._4191!=d?a.set_FocusedIndex(d):a.set_SelectedIndices(d);a._9638("thumbnailClick",{thumbnailIndex:d,originalEvent:b})}function ma(b){var a=b.data.v,d=$(this).parent()[0].id,d=a.get_Images().indexOf(d);if(!F(a,d))if(a.get_FocusOnHover())a.set_FocusedIndex(d);else{var e="";d==a._4191&&(e+="focused");a._374(d,e+" hovered")}a._9638("thumbnailMouseover",{thumbnailIndex:d,originalEvent:b})}function ha(b){var a=b.data.v,d=$(this).parent()[0].id,d=a.get_Images().indexOf(d);a._9638("thumbnailContextMenu",
{thumbnailIndex:d,originalEvent:b})}function n(b){var a=b.data.v,d=$(this).parent()[0].id,d=a.get_Images().indexOf(d),e=p(b);0===e||1===e?(a._1860=!0,a.set_SelectedIndices([d])):0===a._8616.length&&a.set_SelectedIndices([d]);a._9638("thumbnailMousedown",{thumbnailIndex:d,originalEvent:b})}function J(b){var a=b.data.v,d=$(this).parent()[0].id,d=a.get_Images().indexOf(d),e="",e=d==a._4191?e+"focused":1===a._5752[d]?e+"normal":e+"notReady";F(a,d)&&(e+=" selected");a._374(d,e);a._9638("thumbnailMouseout",
{thumbnailIndex:d,originalEvent:b})}function Q(b,a){b.data.v.set_ImageRotationAngle(a)}function wa(b){b._6859=b._6507.width;b._2916=b._6507.height;b._8944=b._8655;b._7415=b._8734;b._3928=b._3618;b._587=b._9206[0];b._7368=b._9206[1];b._9982=b._9206[2];b._9755=b._9206[3];b._4286=b._2286;b._6419=b._9723}function ka(b){b.cancelable=!0;b.preventDefault?b.preventDefault():b.returnValue=!1}var q=d.prototype;q.focusedIndexChanged=function(b,a){};q.imageRotating=function(b,a){};q.imageRotated=function(b,a){};
q.thumbnailRendered=function(b,a){};q.thumbnailPainting=function(b,a){};q.thumbnailPainted=function(b,a){};q.visibleThumbnailsPainted=function(b){};q.imageRenderingException=function(b,a){};q.scrollChanged=function(b,a){};q.thumbnailClick=function(b,a){};q.thumbnailMouseover=function(b,a){};q.thumbnailContextMenu=function(b,a){};q.thumbnailMousedown=function(b,a){};q.thumbnailMouseout=function(b,a){};q.disposed=function(b){};q._9787=function(b,a){};q._5748=function(b,a){};q._4485=function(b,a){};
q._6699=function(b,a){};q._4758=function(b,a){};q._8210=function(b){};q._6092=function(b,a){};q.get_Images=function(){this._1270();var b=this._8174;return void 0==b?this._4826:b.get_Images()};q.get_FocusedIndex=function(){this._1270();return this._4191};q.set_FocusedIndex=function(a){b.pv.n(a);(-1>a||a>this.get_Images().get_Count()-1)&&b.pv.toe();var d=this._4191;if(a!==d&&(-1!==d&&(1===this._5752[d]?this._374(d,"normal"):this._374(d,"notReady")),this._4191=a,-1!==a&&(this._374(a,"focused"),this.scrollTo(a),
this.set_SelectedIndices(a)),this._9638("focusedIndexChanged",{newFocusedIndex:a,previouslyFocusedIndex:d}),null!=this._8174))try{this._8174.set_FocusedIndex(a)}catch(e){}};q.get_MasterViewer=function(){this._1270();return this._8174};q.set_MasterViewer=function(a){this._1270();if(a!=this&&this._8174!==a){if(void 0!=a){b.pv.ic(a,g.WebImageViewerJS)||b.pv.ic(a,d)||b.pv.tae();a._8174===this&&a.set_MasterViewer();for(var e=a;void 0!=(e=e._8174);)e===this&&b.pv.te("MasterViewer cannot refers to itself.")}this._6573();
this._8174=a;this._9314()}};q.get_ProgressImage=function(){this._1270();return this._2318};q.set_ProgressImage=function(a){this._1270();void 0!=a&&b.pv.c(a,Image);this._2318=a};q.get_ProgressIndicatorUrl=function(){return this._2318};q.set_ProgressIndicatorUrl=function(b){var a=new Image;a.src=b;this.set_ProgressImage(a)};q.get_ThumbnailWidth=function(){b.pv.te("This property is obsolete from version 8.8. Use the 'get_ThumbnailSize' property instead.")};q.get_ThumbnailHeight=function(){b.pv.te("This property is obsolete from version 8.8. Use the 'get_ThumbnailSize' property instead.")};
q.get_ThumbnailSize=function(){this._1270();var b=this._6859,a=this._2916;0!==this._1541&&(b=this._6507.width,a=this._6507.height);return{width:b,height:a}};q.set_ThumbnailSize=function(a,d){this._1270();var e,f;void 0==d?(e=a.width,f=a.height):(e=a,f=d);b.pv.n(e,f);32>e&&(e=32);1024<e&&(e=1024);32>f&&(f=32);1024<f&&(f=1024);var h=this.get_ThumbnailSize();if(h.width!==e||h.height!==f)this._4654=!0,this._6507={width:e,height:f},0===this._1541&&this.update()};q.get_ThumbnailFlowStyle=function(){this._1270();
return 0!==this._1541?this._8655:this._8944};q.set_ThumbnailFlowStyle=function(a){this._1270();a=b.pv.e(a,s.WebThumbnailFlowStyleEnumJS);a.equals(this.get_ThumbnailFlowStyle())||(this._4654=!0,this._8655=a,0===this._1541&&this.update())};q.get_ThumbnailColumnCount=function(){this._1270();return this._3106};q.get_ThumbnailFixedColumnCount=function(){this._1270();return 0!==this._1541?this._8734:this._7415};q.set_ThumbnailFixedColumnCount=function(a){this._1270();b.pv.n(a);0>=a&&b.pv.toe();a!==this.get_ThumbnailFixedColumnCount()&&
(this._4654=!0,this._8734=a,0===this._1541&&this.update())};q.get_ThumbnailScale=function(){this._1270();return 0!==this._1541?this._3618:this._3928};q.set_ThumbnailScale=function(a){this._1270();a=b.pv.e(a,s.WebThumbnailScaleEnumJS);a.equals(this.get_ThumbnailScale())||(this._4654=!0,this._3618=a,0===this._1541&&this.update())};q.get_GenerateOnlyVisibleThumbnails=function(){this._1270();return this._1427};q.set_GenerateOnlyVisibleThumbnails=function(a){this._1270();b.pv.b(a);if(this._1427!==a)if(this._1427=
a)this._8023.on("scroll",{v:this},N);else this._8023.off("scroll"),0<this.get_Images().get_Count()&&I(this)};q.get_FocusOnHover=function(){this._1270();return this._2918};q.set_FocusOnHover=function(a){this._1270();b.pv.b(a);this._2918=a};q.get_ThumbnailMargin=function(){this._1270();return 0!==this._1541?this._2286:this._4286};q.set_ThumbnailMargin=function(a){this._1270();b.pv.n(a);0>a&&(a=0);a!==this.get_ThumbnailMargin()&&(this._4654=!0,this._2286=a,0===this._1541&&this.update())};q.get_ThumbnailPadding=
function(){this._1270();var b=[this._587,this._7368,this._9982,this._9755];0!==this._1541&&(b=[].concat(this._9206));return b};q.set_ThumbnailPadding=function(a){this._1270();var d=[];void 0!=a.length?(b.pv.ad(a,b.pv.n),4!==a.length&&b.pv.tae(),d[0]=0<=a[0]?a[0]:0,d[1]=0<=a[1]?a[1]:0,d[2]=0<=a[2]?a[2]:0,d[3]=0<=a[3]?a[3]:0):(b.pv.n(a),0>a&&(a=0),d[0]=d[1]=d[2]=d[3]=a);a=this.get_ThumbnailPadding();if(a[0]!==d[0]||a[1]!==d[1]||a[2]!==d[2]||a[3]!==d[3])this._4654=!0,this._9206=d,0===this._1541&&this.update()};
q.get_SelectedIndices=function(){this._1270();return[].concat(this._8616)};q.set_SelectedIndices=function(a){this._1270();if(void 0==a)this._8616=[],A(this);else{var d=[];if(void 0!=a.length)if(this._5611)for(var e=0;e<a.length;e++)-1===d.indexOf(a[e])&&d.push(a[e]);else d.push(a[0]);else"number"==typeof a&&d.push(a);var f=this.get_Images().get_Count();b.pv.ad(d,function(a){b.pv.n(a);(0>a||a>=f)&&b.pv.toe()});this._8616=d;A(this);for(e=0;e<d.length;e++)this._374(d[e],"selected")}};q.get_MultiSelect=
function(){this._1270();return this._5611};q.set_MultiSelect=function(a){this._1270();b.pv.b(a);this._5611=a};q.get_ImageRotationAngle=function(){this._1270();return 0!==this._1541?this._9723:this._6419};q.set_ImageRotationAngle=function(a){this._1270();b.pv.n(a);a=m._6002._4218(a);0!==a&&90!==a&&180!==a&&270!==a&&b.pv.te("Argument value exception.");var d=this.get_ImageRotationAngle();a!==d&&(this._9638("imageRotating",{currentAngle:d,newAngle:a}),this._4654=!0,this._9723=a,0===this._1541&&this.update(),
void 0!=this._8174&&this._8174.set_ImageRotationAngle(a),this._9638("imageRotated",a))};q.get_ImageInfo=function(b){var a=this.get_Images().get_Image(b);b=a.get_Size();var d=a.get_Resolution(),a=a.get_IsVector();return void 0==b||void 0==d?void 0:{size:b,resolution:d,isVector:a}};q.get_ThumbnailCanvas=function(a){b.pv.n(a);var d=this.get_Images();(0>a||a>d.get_Count())&&b.pv.toe();a=d.get_Image(a).get_Guid();d=$("#"+a).parent();a=$(d).children("canvas");0===a.length&&(a=$("<canvas>").appendTo(d),
a.css({"pointer-events":"none",position:"absolute",top:"0px",left:"0px","user-select":"none","-webkit-user-select":"none","-moz-user-select":"none"}),d=this._5726(),a[0].width=d.width,a[0].height=d.height);return a[0]};q.get_UseCache=function(){this._1270();return this._4661};q.set_UseCache=function(a){this._1270();b.pv.b(a);this._4661=a};q.get_ThumbnailsFormat=function(){this._1270();return this._4704};q.set_ThumbnailsFormat=function(a){this._1270();this._4704=b.pv.e(a,b.WebImageTypeEnumJS)};q.get_NormalThumbnailAppearance=
function(){this._1270();return this._5886};q.set_NormalThumbnailAppearance=function(a){this._1270();b.pv.c(a,s.WebThumbnailAppearanceJS);this._5886.equals(a)||(this._5886=a,K(0,this._5886,this))};q.get_FocusedThumbnailAppearance=function(){this._1270();return this._9728};q.set_FocusedThumbnailAppearance=function(a){this._1270();b.pv.c(a,s.WebThumbnailAppearanceJS);this._9728.equals(a)||(this._9728=a,K(1,this._9728,this))};q.get_HoveredThumbnailAppearance=function(){this._1270();return this._3595};
q.set_HoveredThumbnailAppearance=function(a){this._1270();b.pv.c(a,s.WebThumbnailAppearanceJS);this._3595.equals(a)||(this._3595=a,K(2,this._3595,this))};q.get_NotReadyThumbnailAppearance=function(){this._1270();return this._8045};q.set_NotReadyThumbnailAppearance=function(a){this._1270();b.pv.c(a,s.WebThumbnailAppearanceJS);this._8045.equals(a)||(this._8045=a,K(3,this._8045,this))};q.get_SelectedThumbnailAppearance=function(){this._1270();return this._7099};q.set_SelectedThumbnailAppearance=function(a){this._1270();
b.pv.c(a,s.WebThumbnailAppearanceJS);this._7099.equals(a)||(this._7099=a,K(4,this._7099,this))};q.get_ImageCacheManager=function(){this._1270();var b=this._8174;return void 0==b?this._4736:b.get_ImageCacheManager()};q.set_ImageCacheManager=function(a){this._1270();void 0!=a&&b.pv.c(a,m.WebImageCacheManagerJS);void 0!=this._8174&&b.pv.te("Cannot change cache manager of slave viewer.");this._4736!==a&&(this._4736=a,this._9638("_6092",a))};q.get_SyncCacheWithImages=function(){this._1270();var b=this._8174;
return void 0!=b?b.get_SyncCacheWithImages():this._4882};q.set_SyncCacheWithImages=function(a){this._1270();b.pv.b(a);void 0!=this._8174&&b.pv.te("Can not change cache property of slave viewer.");this._4882=a};q.get_ControlId=function(){this._1270();return this._7283.id};q.get_Control=function(){return this._7283};q.get_ContextMenuFunc=function(){this._1270();return this._2731};q.set_ContextMenuFunc=function(a){this._1270();void 0!=a&&b.pv.f(a);this._2731=a;if(void 0!=this._8023){var d=this;d._8023[0].oncontextmenu=
function(b){ka(b);b.stopPropagation();var a;void 0!=d._2731&&(a=d._2731(b));return void 0!=a?a:!1}}};q.get_IsDisposed=function(){return this._3699};q.get_DisplayThumbnailCaption=function(){this._1270();return this._2056};q.set_DisplayThumbnailCaption=function(a){this._1270();b.pv.b(a);this._2056!==a&&((this._2056=a)?this._5702():this._2005.find("div.caption").remove())};q.get_ThumbnailCaptionFormat=function(){this._1270();return this._607};q.set_ThumbnailCaptionFormat=function(a){this._1270();b.pv.s(a);
this._607!==a&&(this._607=a,this._2056&&this._945(!0,!0))};q.get_ThumbnailCaptionAnchor=function(){this._1270();return this._5803};q.set_ThumbnailCaptionAnchor=function(a){this._1270();a=b.pv.e(a,s.WebImageAnchorTypeEnumJS);a.equals(this._5803)||(this._5803=a,this._2056&&this._945(!1,!0))};q._3368=function(){var b=this._8023[0];return{y:b.scrollTop,x:b.scrollLeft}};q._5512=function(b,a){var d=this._8023[0];d.scrollTop=a;d.scrollLeft=b};q.beginInit=function(){this._1270();this._1541++};q.endInit=function(){this._1270();
this._1541--;0===this._1541?(this._4654&&this.update(),this._4654=!1):0>this._1541&&(this._1541=0)};q.scrollTo=function(a){b.pv.n(a);var d=this.get_Images();if(!(0>a||a>d.get_Count())){var e=!1;try{var f=d.get_Image(a).get_Guid(),h=$("#"+f).parent(),g=$(h).position(),k=this._8023[0],l=this._5726(),p=g.top+this._587,n=p+l.height,w=k.scrollTop,m=w+k.clientHeight;a=0;if(n<=m&&p>=w)a=w;else{if(n>m||p>m)a=n-m+w+2*this._4286+this._587+this._9982;p<w&&(a=p-this._4286+this._587)}var q=k.scrollLeft,u=q+k.clientWidth,
s=g.left+this._9755,r=s+l.width,g=0;if(r<=u&&s>=q)g=q;else{if(r>u||s>u)g=r-u+q+2*this._4286+this._9755+this._7368;s<q&&(g=s-this._4286+this._9755)}k.scrollTop=a;k.scrollLeft=g}catch(v){e=!0}this._1016||e||I(this)}};q.update=function(){var b=this.get_Images().get_Count();if(0<b){if(0===this._1541&&this._4654){var a=this._6507.width!==this._6859||this._6507.height!==this._2916,d=!this._3928.equals(this._3618),e=this._2286!==this._4286,f=this._9206[0]!==this._587||this._9206[1]!==this._7368||this._9206[2]!==
this._9982||this._9206[3]!==this._9755,h=this._9723!==this._6419,g=!1;if(a||d)var d=this._3618.valueOf()/100,g=this._6507.height*d,k=this._3928.valueOf()/100,l=this._2916*k,g=this._6507.width*d!==this._6859*k||g!==l;d=this._5726();wa(this);k=this._5726();d=d.width!==k.width||d.height!==k.height;V(this,b);b=this._2005.children("div");k=$(b).children("div");l=this._4286;e&&b.css({"margin-left":l,"margin-top":l});if(d||g||f||h)if(e=this._5726(),d&&this._5892(b,k,e.width,e.height),k=$(k).children("img:nth-child(1)"),
0!==k.length&&(f&&this._6740(k,this._587,this._7368,this._9982,this._9755),g&&(f=this._3928.valueOf()/100,this._6376(k,this._6859*f,this._2916*f)),0!==this._6419?this._3810(k):h&&this._3431(k)),d)for(h=$(b).children("canvas"),f=0;f<h.length;f++)h[f].width=e.width,h[f].height=e.height;h=0;a?h=1:d&&(h=2);this._1515=h;d&&(h=this._2005.find(".border").children("img:nth-child(2)"),0!=h.length&&(f=this._5726(),d=$(h[0]).width(),e=$(h[0]).height(),d=(f.width-d)/2,h.css("top",(f.height-e)/2),h.css("left",
d)),this._945(!1,!0));if(a)for(a=0;a<this.get_Images().get_Count();a++)1===this._5752[a]&&(this._5752[a]=2);this._4654=!1}a=this._8023[0];0!==a.clientHeight&&0!==a.clientWidth&&X(this);T(this);this._9638("_8210");this._1016||I(this)}else 0===this._1541&&(wa(this),this._4654=!1,this._9638("_8210"))};q.invalidate=function(b){this._1270();var a=this._9270;b=a.getContext("2d");var d=a.width,a=a.height;b.clearRect(0,0,d,a);this._8163&&this._8163._5567(this._4892(),{width:d,height:a})};q.focus=function(){this._1270();
$(this._7283).focus()};q.dispose=function(){this._1270();clearInterval(this._8427);this._2373=this._8335=this._3106=void 0;this._5752=[];this._4191=-1;this._8616=[];this._1016=!1;this._4736=this._2318=this._8163=void 0;var b="."+this._9301;$(this._4826.evm).off(b);for(var a=0;a<this._4826.get_Count();a++){var d=this._4826.get_Image(a);$(d.evm).off(b)}if(void 0!=this._8174){$(this._8174._1981).off(b);for(var e=this.get_Images(),a=0;a<e.get_Count();a++)d=e.get_Image(a),$(d.evm).off(b);this._8174=void 0}this._4414();
$("head #"+(this._9301+"_ThumbnailStyleSheet")).remove();$(this._7283).empty();this._9270=this._2005=this._8023=this._7283=void 0;this._9638("disposed");this._3699=!0;$(this).off();$(this._1981).off()};q._2136=function(){var b=this._8023[0];return{width:b.scrollWidth,height:b.scrollHeight}};q._6964=function(){return this._2136()};q._8729=function(){try{void 0==this._8163&&(this._8163=new nb._4042,this._8023.find("img").css("z-index",2),this._8163._7012(this),0!=this._8616.length&&this.set_SelectedIndices(this._8616))}catch(b){}};
q._9470=function(b){function a(){u._9638("thumbnailRendered",{thumbnailId:g,thumbnailIndex:k});u._9638("thumbnailPainted",k)}function d(){if(10>s)setTimeout(function(){w.src=m},250),s++;else{if(void 0!=q){var b=ba(u._6859,u._2916,h);q._1929(g,b)}u._5752[k]=2;I(u)}}if(!this._9210){var h=b.image,g=h.get_Guid(),k=this.get_Images().indexOf(h);if(-1!==k&&e(this,k,b))if(1===this._5752[k])I(this);else{var l=$(this._7283).find("#"+g)[0],p=$(l).children("img"),n=p[1];void 0!=n&&$(n).remove();var w=p[0];void 0==
w&&(w=ga(this,l,k));var m=b.fileId;/^data:image\/[a-zA-Z]+;base64,/.test(m)||(m+="?"+b.image.gi());var q=this.get_ImageCacheManager(),u=this,s=0;w.onload=a;w.onerror=d;w.src=m;this._2056&&0===$(l).find(".caption").length&&this._5644(l,k);void 0!=q&&(l=ba(this._6859,this._2916,b.image),q.containsImageData(h,l)||q.addImageData(h,l,b.fileId));this._4191==k?this._374(k,"focused"):this._374(k,"normal");F(this,k)&&this._374(k,"selected");this._5752[k]=1}}};q._5217=function(a){var d=this._8163;if(void 0!=
d&&d._5725){var e=a;"mousedown"!=a.type&&(a="touchstart"==a.type?a.originalEvent.touches[0]:a.originalEvent,a.sourceEvent=e);var e=h(this,a),f=this._8023,g=a,k=this._8023;0===this._5792&&(this._5792=b.WebImagingEnviromentJS.get_ScrollSize(this._7283));var l=fa(this,"y"),p=fa(this,"x"),n=g.pageX,g=g.pageY,m=k.offset(),q,u,s,r;u=q=!1;l&&(l=m.top,s=m.left+k.width(),r=l+k.height(),u=s-this._5792,u=g>=l&&g<=r&&n>=u&&n<s);p&&(p=m.top+k.height(),m=m.left,q=p-this._5792,k=m+k.width(),q=g>=q&&g<=p&&n>=m&&
n<k);q||u?f.css("touch-action","pan-x pan-y"):(ka(a),f.css("touch-action","none"),da(this,this._2136()),$(this._9270).css("display","block"),this._239(),d._5217(e));this.focus()}};q._8012=function(b){ka(b);var a=this._8163;if(void 0!=a&&a._5725){if("mousemove"!=b.type){var d=b;b="touchmove"==b.type?b.originalEvent.touches[0]:b.originalEvent;b.sourceEvent=d}b=h(this,b);a._8012(b)}};q._946=function(b){var a=this._8163;if(void 0!=a&&a._5725){if("mouseup"!=b.type){var d=b;b="touchend"==b.type?b.originalEvent.changedTouches[0]:
b.originalEvent;b.sourceEvent=d}b=h(this,b);a._946(b);$(this._9270).css("display","none");this._4414()}};q._988=function(b){ka(b)};q._4892=function(b){b=this._3368();var a=new m.WebMatrixJS;a.translate(-b.x,-b.y);return a};q._8712=function(b){return this._4892(b).invert()};q._1270=function(){this._3699&&b.pv.te("Viewer is disposed.")};q._9638=function(b,a){$(this._1981).triggerHandler(b,a);$(this).triggerHandler(b,a)};q._6573=function(){var b=this._8174;l({data:{v:this}},b);void 0!=b&&$(b._1981).off("."+
this._9301)};q._9314=function(){var b=this._8174;if(void 0!=b){var a=this._9301,d={v:this},e=b._1981;$(e).on("_9787."+a,d,v);$(e).on("_5748."+a,d,W);$(e).on("_4485."+a,d,z);$(e).on("focusedIndexChanged."+a,d,G);$(e).on("imageRotated."+a,d,Q);$(e).on("_6092."+a,d,B);$(e).on("_6699."+a,d,l);$(e).on("_4758."+a,d,u);$(e).on("disposed."+a,d,r)}u({data:{v:this}},b)};q._5580=function(b){switch(b.actionName){case "clear":this._6080();break;case "set":this._4859(b.imageIndex,b.image,b.previousImage);break;
case "removeAt":case "removeRange":var a=[],d=[];"removeRange"===b.actionName?(a=b.imagesIndexes,d=b.images):(a.push(b.imageIndex),d.push(b.image));this._4561(a,d);this._945(!0,!1,a[0]);break;case "insert":case "insertRange":a=b.imageIndex,d=[],"insert"===b.actionName?d.push(b.image):d=b.images,this._184(a,d),this._945(!0,!1,a+d.length)}};q._6080=function(){this._4191=-1;this._2005.children().remove();this._5752=[];this._8616=[];V(this,0)};q._4859=function(b,a,d){var e=d.get_Guid(),e=$("#"+e);a!==
d&&e.attr("id",a.get_Guid());e.find(".caption").remove();1===this._5752[b]&&(this._5752[b]=2)};q._4561=function(b,a){for(var d=0;d<a.length;d++){var e=a[d].get_Guid();$("#"+e).parent().remove()}for(d=b.length-1;0<=d;d--)this._5752.splice(b[d],1);for(d=0;d<this._8616.length;){for(var f=!1,e=0;e<b.length;e++)if(this._8616[d]===b[e]){this._8616.splice(d,1);f=!0;break}f||d++}for(var f=!1,h=0,g=[],d=0;d<this._8616.length;d++)g.push(0);for(d=0;d<b.length;d++){for(e=0;e<this._8616.length;e++)this._8616[e]>
b[d]&&(g[e]+=1);this._4191>b[d]?h++:this._4191===b[d]&&(f=!0)}for(d=0;d<this._8616.length;d++)this._8616[d]-=g[d];this._4191-=h;f&&(0===this.get_Images().get_Count()?this._4191=-1:(this._4191==this.get_Images().get_Count()&&this._4191--,this._374(this._4191,"focused"),-1!=this._8616.indexOf(this._4191)&&this._374(this._4191,"selected")));V(this,this.get_Images().get_Count())};q._184=function(b,a){for(var d=this._5726(),e=d.width,f=d.height,d=[],h=0;h<a.length;h++){var g=a[h].get_Guid();d.push(P(this._4286,
e,f,g))}h=this.get_Images();e=h.get_Count();if(e==a.length)for(h=0;h<d.length;h++)$(d[h].main).appendTo(this._2005);else for(b<e-a.length?(h=h.get_Image(b+a.length).get_Guid(),h=$("#"+h).parent(),$(d[0].main).insertBefore(h)):(h=h.get_Image(b-1).get_Guid(),h=$("#"+h).parent(),$(d[0].main).insertAfter(h)),h=1;h<d.length;h++)$(d[h].main).insertAfter(d[h-1].main);for(h=0;h<d.length;h++)this._5752.splice(b+h,0,0);this._4191>=b&&(this._4191+=a.length);for(h=0;h<this._8616.length;h++)this._8616[h]>=b&&
(this._8616[h]+=a.length);-1==this._4191&&0===b&&(this._4191=b,this._374(b,"focused"));V(this,e);T(this);e!==a.length&&this.scrollTo(this._4191)};q._374=function(b,a){var d=this.get_Images();0<=b&&b<d.get_Count()&&(d=d.get_Image(b).get_Guid(),d=$(this._7283).find("#"+d),0!=d.length&&(d=d[0],"selected"!==a?($(d).removeClass(),$(d).addClass("border "+a)):($(d).addClass("border"),b===this._4191&&$(d).addClass("focused"),$(d).addClass(a))))};q._4907=function(){var b=this._6419,a=this._6859*this._3928.valueOf()/
100,d=this._2916*this._3928.valueOf()/100,e=0,f=0;switch(b){case 90:e=d;break;case 180:e=a;f=d;break;case 270:f=a}b="translate("+e+"px,"+f+"px) rotate("+b+"deg)";return{transform:b,"-moz-transform":b,"-webkit-transform":b,"-o-transform":b,"-ms-transform":b,"transform-origin":"0px 0px","-moz-transform-origin":"0px 0px","-webkit-transform-origin":"0px 0px","-o-transform-origin":"0px 0px","-ms-transform-origin":"0px 0px"}};q._5184=function(){return{transform:"","-moz-transform":"","-webkit-transform":"",
"-o-transform":"","-ms-transform":"","transform-origin":"","-moz-transform-origin":"","-webkit-transform-origin":"","-o-transform-origin":"","-ms-transform-origin":""}};q._5791=function(){var b=this,a=b._9301;$(b._7283).on(H(a),function(a){b._5217(a)})};q._7031=function(){var b=this._9301;$(this._7283).off(H(b))};q._239=function(){var b=this,a=b._9301;$(document).on(S(a),function(a){b._8012(a)});$(document).on(O(a),function(a){b._946(a)})};q._4414=function(){var b=this._9301;$(document).off(S(b));
$(document).off(O(b))};q._5892=function(b,a,d,e){d={width:d,height:e};b.css(d);a.css(d)};q._6740=function(b,a,d,e,f){b.css({"margin-top":a,"margin-right":d,"margin-bottom":e,"margin-left":f})};q._6376=function(b,a,d){b.css({width:a,height:d})};q._3810=function(b){var a=this._4907();b.css(a);return a};q._3431=function(b){var a=this._5184();b.css(a);return a};q._5702=function(){for(var b=this._2005.find("div.border"),a=0;a<this._5752.length;a++)if(1===this._5752[a]){var d=$(b[a]);this._5644(d,a)}};
q._5644=function(b,a){if(this._2056){var d=$("<div>").appendTo(b);d.addClass("caption");if(void 0==this._6840){var e=d.css("top"),f=d.css("left"),h=d.css("right"),g=d.css("bottom");this._6840="auto"!==e||"auto"!==f||"auto"!==h||"auto"!==g}d.css({position:"absolute","user-select":"none",cursor:"inherit","pointer-events":"none"});this._3795(d,a,!0,!0)}};q._945=function(b,a,d,e){if(this._2056){void 0==d&&(d=0);var f=this._5752.length;void 0!=e&&(f=d+e,f>this._5752.length&&(f=this._5752.length));for(e=
this._2005.find("div.border");d<f;d++)if(0!==this._5752[d]){var h=$(e[d]).find(".caption");0!==h.length&&this._3795(h,d,b,a)}}};q._3795=function(b,a,d,e){d?(this._4263(b,a),this._7875(b)):e&&this._7875(b)};q._4263=function(b,a){var d=this._607;if(""!==d){var e=this.get_Images().get_Image(a),f=e.get_PageIndex(),h=e.get_ImageId(),g=e.get_Size(),e=e.get_Resolution(),d=M(d,"{FileId}",h),d=M(d,"{PageNumber}",f+1),d=M(d,"{PageIndex}",f),d=M(d,"{ImageNumber}",a+1),d=M(d,"{ImageIndex}",a);void 0!=g&&(f=g.width,
g=g.height,h=f*g/1E6,d=M(d,"{ImageWidthPx}",f),d=M(d,"{ImageHeightPx}",g),d=M(d,"{ImageSizeMpx}",h));void 0!=e&&(d=M(d,"{ImageHRes}",e.x),d=M(d,"{ImageVRes}",e.y))}b.text(d)};q._7875=function(b){if(!this._6840){var a="",d="",e="",f="";b.css({top:a,left:d,right:e,bottom:f});var h=this._5803.valueOf(),g=b.width(),k=b.height(),l=this._5726(),k=(l.height-k)/2,g=(l.width-g)/2,l="center";switch(h){case 15:a=k;d=g;break;case 1:case 13:a=0;d=g;break;case 2:case 14:d=g;f=0;break;case 4:case 7:l="left";a=k;
d=0;break;case 5:l="left";d=a=0;break;case 6:l="left";f=d=0;break;case 8:case 11:l="right";a=k;e=0;break;case 9:l="right";e=a=0;break;case 10:l="right",f=e=0}b.css({top:a,left:d,right:e,bottom:f,"text-align":l})}};q._5726=function(){var b=this._6859*this._3928.valueOf()/100,a=this._2916*this._3928.valueOf()/100;if(90===this._6419||270===this._6419)var d=b,b=a,a=d;b+=this._7368+this._9755;a+=this._587+this._9982;return{width:b,height:a}};var U;"string"===typeof a?U=document.getElementById(a):(b.pv.ic(a,
$)&&(a=a[0]),void 0!=a.tagName&&(U=a));void 0==U&&b.pv.te("The parent DOM element for viewer is not found.");"DIV"!==U.tagName&&b.pv.te("The parent DOM element for viewer must be a DIV element.");this._7283=U;this._9301=b.WebImagingEnviromentJS.guid();this._5792=b.WebImagingEnviromentJS.get_ScrollSize(U);this._2373=this._8335=this._3106=void 0;this._5752=[];this._1541=0;this._4654=!1;this._1515=0;this._8163=void 0;this._1860=!1;this._6831="WebThumbnailViewer";this._2318=this._8174=void 0;this._4826=
new b.WebImageCollectionJS;this._2916=this._6859=100;this._8944=new s.WebThumbnailFlowStyleEnumJS(1);this._7415=2;this._3928=new s.WebThumbnailScaleEnumJS(100);this._4191=-1;this._1427=!0;this._2918=!1;this._4286=20;this._9755=this._9982=this._7368=this._587=5;this._8616=[];this._5611=!0;this._9270=void 0;this._1016=!1;this._6419=0;this._4661=!0;this._4704=new b.WebImageTypeEnumJS(1);this._8427=void 0;this._6755=500;this._4736;this._4882=!0;this.set_ImageCacheManager(new m.WebImageCacheManagerJS);
this._1981={};this._8023;this._2005;this._3699=!1;this._6507={width:this._6859,height:this._2916};this._8655=this._8944;this._8734=this._7415;this._3618=this._3928;this._9206=[this._587,this._7368,this._9982,this._9755];this._2286=this._4286;this._9723=this._6419;this._5886=new s.WebThumbnailAppearanceJS("white","1px solid #eeeeee");this._9728=new s.WebThumbnailAppearanceJS("white","1px dotted gray");this._3595=new s.WebThumbnailAppearanceJS("#BAD2EB","2px solid #BAD2EB");this._8045=new s.WebThumbnailAppearanceJS("black",
"0px solid black");this._7099=new s.WebThumbnailAppearanceJS("#AAEEFD","1px solid #99DEFD");this._2731;this._2056=!0;this._607="{ImageNumber}";this._5803=new s.WebImageAnchorTypeEnumJS(2);this._6840=void 0;(function(b){var a=document.createElement("style"),d=b._9301;a.type="text/css";a.id=d+"_ThumbnailStyleSheet";var d=b._5886._5133(),e=b._9728._5133(),f=b._3595._5133(),h=b._8045._5133(),g=b._7099._5133();b=b.get_ControlId();var k="";""!==b&&(k="#"+b);a.innerHTML+=k+" .border.normal{"+d+"}";a.innerHTML+=
k+" .border.focused{"+e+"}";a.innerHTML+=k+" .border.hovered{"+f+"}";a.innerHTML+=k+" .border.notReady{"+h+"}";a.innerHTML+=k+" .border.selected{"+g+"}";document.getElementsByTagName("head")[0].appendChild(a)})(this);a={v:this};$(this._1981).on("_9491",a,function(b){b=b.data.v;b._1860?b._1860=!1:(A(b),b._8616=[])});U=this._9301;$(this._4826.evm).on("changing."+U,a,v);$(this._4826.evm).on("changed."+U,a,W);(function(b){var a=b._7283;b._5791();var d=$("<div>");$(a).prepend(d);b._8023=d;d.css({width:"100%",
height:"100%",position:"relative",overflow:"hidden","touch-action":"none"});var e=$("<div>").appendTo(d);e.css("position","absolute");b._2005=e;if(b._1427)$(d).on("scroll",{v:b},N);da(b,b._2136());T(b);b._8729();b._6765={width:a.clientWidth,height:a.clientHeight};b._8427=setInterval(R,b._6755,b)})(this);this.set_ContextMenuFunc();delete q.focusedIndexChanged;delete q.imageRotating;delete q.imageRotated;delete q.thumbnailRendered;delete q.thumbnailPainting;delete q.thumbnailPainted;delete q.visibleThumbnailsPainted;
delete q.imageRenderingException;delete q.scrollChanged;delete q.thumbnailClick;delete q.thumbnailMouseover;delete q.thumbnailContextMenu;delete q.thumbnailMousedown;delete q.thumbnailMouseout;delete q._9787;delete q._5748;delete q._4485;delete q._6699;delete q._4758;delete q._8210;delete q._6092;delete q.disposed};g.WebThumbnailViewerJS=d})(r.UI);(function(g){b.WebServiceJS.defaultImageProcessingService=-1;var e=function(){var a=e.prototype;a._6159=function(b,a){};a._8215=function(b,a){};a.get_Type=
function(){return this._6831};a.set_Type=function(a){a=b.pv.e(a,s.WebColorBaseJSTypeEnumJS);if(a.valueOf()!==this._6831.valueOf()){$(this._5988).triggerHandler("_6159",{oldValue:this._6831,newValue:a});var d=this._6831;this._6831=a;switch(a.valueOf()){case 0:this._976=0;this._6832=this._5169=this._4403=this._8204=this._8213=void 0;break;case 1:this._8213=0;this._6832=this._5169=this._4403=this._8204=this._976=void 0;break;case 2:case 3:case 4:case 6:this._5169=this._4403=this._8204=0;this._6832=this._976=
this._8213=void 0;break;case 5:case 7:this._6832=this._5169=this._4403=this._8204=0,this._976=this._8213=void 0}$(this._5988).triggerHandler("_8215",{oldValue:d,newValue:a})}};a.get_Index=function(){return this._976};a.set_Index=function(a){0===this._6831.valueOf()&&(a=parseInt(a),b.pv.n(a),0>a&&(a=0),255<a&&(a=255),this._976=a)};a.get_Luminance=function(){return this._8213};a.set_Luminance=function(a){1===this._6831.valueOf()&&(a=parseInt(a),b.pv.n(a),0>a&&(a=0),65535<a&&(a=65535),this._8213=a)};
a.get_Red=function(){return this._8204};a.set_Red=function(a){var d=this._6831.valueOf();if(1!==d&&0!==d){a=parseInt(a);b.pv.n(a);0>a&&(a=0);switch(d){case 2:case 3:31<a&&(a=31);break;case 4:case 5:255<a&&(a=255);break;case 6:case 7:65535<a&&(a=65535)}this._8204=a}};a.get_Green=function(){return this._4403};a.set_Green=function(a){var d=this._6831.valueOf();if(1!==d&&0!==d){a=parseInt(a);b.pv.n(a);0>a&&(a=0);switch(d){case 2:case 3:31<a&&(a=31);break;case 4:case 5:255<a&&(a=255);break;case 6:case 7:65535<
a&&(a=65535)}this._4403=a}};a.get_Blue=function(){return this._5169};a.set_Blue=function(a){var d=this._6831.valueOf();if(1!==d&&0!==d){a=parseInt(a);b.pv.n(a);0>a&&(a=0);switch(d){case 2:case 3:31<a&&(a=31);break;case 4:case 5:255<a&&(a=255);break;case 6:case 7:65535<a&&(a=65535)}this._5169=a}};a.get_Alpha=function(){return this._6832};a.set_Alpha=function(a){var d=this._6831.valueOf();if(5===d||7===d){a=parseInt(a);b.pv.n(a);0>a&&(a=0);switch(d){case 5:255<a&&(a=255);break;case 7:65535<a&&(a=65535)}this._6832=
a}};a.toString=function(){var b=this._6831.toString();switch(b){case "Indexed":b+="("+this._976+")";break;case "Gray16":b+="("+this._8213+")";break;case "RGB555":case "RGB565":case "RGB24":case "RGB48":b+="("+this._8204+","+this._4403+","+this._5169+")";break;case "ARGB32":case "ARGB64":b+="("+this._8204+","+this._4403+","+this._5169+","+this._6832+")"}return b};a.clone=function(){var b=new e;b._6831=this._6831;b._976=this._976;b._8213=this._8213;b._8204=this._8204;b._4403=this._4403;b._5169=this._5169;
b._6832=this._6832;return b};a.getParams=function(){return{type:this._6831.toString(),index:this._976,luminance:this._8213,red:this._8204,green:this._4403,blue:this._5169,alpha:this._6832}};this._6831=new s.WebColorBaseJSTypeEnumJS(4);this._976;this._8213;this._5169=this._4403=this._8204=0;this._6832;this._5988={};delete a._6159;delete a._8215},a=function(d,f,ua,h){function g(a,d){var e=d.newValue.valueOf();4!==e&&5!==e&&b.pv.te("Unsupported color type.")}var k=a.prototype;k.get_Radius=function(){return this._9505};
k.set_Radius=function(a){b.pv.n(a);0>a&&(a=0);this._9505=a};k.get_Center=function(){return this._170};k.set_Center=function(a){b.pv.c(a,e);var d=a._6831.valueOf();4!==d&&5!==d&&b.pv.te("Unsupported color type.");$(this._170._5988).off();this._170=a;$(a._5988).on("_6159",g)};k.toString=function(){return"Center="+this._170.toString()+"; Radius="+this._9505};k.clone=function(){var b=new a;b.set_Center(this._170.clone());b._9505=this._9505;return b};k.getParams=function(){return{center:this._170.getParams(),
radius:this._9505}};k=new e;k.set_Type("RGB24");void 0!=d&&void 0!=f&&void 0!=ua&&(k.set_Red(d),k.set_Green(f),k.set_Blue(ua));this._170=k;try{this.set_Radius(h)}catch(l){this._9505=0}$(this._170._5988).on("_6159",g)},h=function(a,d,ua,f){function g(a,d){var e=d.newValue.valueOf();4!==e&&5!==e&&b.pv.te("Unsupported color type.")}var k=h.superclass;k.constructor.call(this,a,d,ua,f);a=h.prototype;a.get_InterpolationRadius=function(){return this._2931};a.set_InterpolationRadius=function(a){b.pv.n(a);
0>a&&(a=0);1<a&&(a=1);this._2931=a};a.get_NewColor=function(){return this._6989};a.set_NewColor=function(a){b.pv.c(a,e);var d=a._6831.valueOf();4!==d&&5!==d&&b.pv.te("Unsupported color type.");$(this._6989._5988).off();this._6989=a;$(a._5988).on("_6159",g)};a.toString=function(){return k.toString.call(this)+"; NewColor="+this._6989.toString()+"; InterpolationRadius="+this._2931};a.clone=function(){var b=new h;b.set_Center(this._170.clone());b._9505=this._9505;b.set_NewColor(this._6989.clone());b._2931=
this._2931;return b};a.getParams=function(){var b=k.getParams.call(this);b.newColor=this._6989.getParams();b.interpolationRadius=this._2931;return b};a=new e;a.set_Type("RGB24");this._6989=a;$(this._6989._5988).on("_6159",g);this._2931=.5};b.extend(h,a);var d=function(a,e,ua,f,h){var g=d.prototype;g.get_Gamma=function(){return this._gamma};g.set_Gamma=function(a){b.pv.n(a);0>a&&(a=0);this._gamma=a};g.get_InputMax=function(){return this._inputMax};g.set_InputMax=function(a){a=parseInt(a);b.pv.n(a);
0>a&&(a=0);255<a&&(a=255);this._inputMax=a};g.get_InputMin=function(){return this._inputMin};g.set_InputMin=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);255<a&&(a=255);this._inputMin=a};g.get_OutputMax=function(){return this._outputMax};g.set_OutputMax=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);255<a&&(a=255);this._outputMax=a};g.get_OutputMin=function(){return this._outputMin};g.set_OutputMin=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);255<a&&(a=255);this._outputMin=a};g.getParams=function(){return{gamma:this._gamma,
inputMax:this._inputMax,inputMin:this._inputMin,outputMax:this._outputMax,outputMin:this._outputMin}};void 0==a&&(a=1);this.set_Gamma(a);void 0==e&&(e=255);this.set_InputMax(e);void 0==ua&&(ua=0);this.set_InputMin(ua);void 0==f&&(f=255);this.set_OutputMax(f);void 0==h&&(h=0);this.set_OutputMin(h)},k=function(){function a(d,e){var f=d;b.pv.ic(f,b.WebEnumItemBase)&&(f=f.valueOf());if(-1===e.indexOf(f))switch(e.push(f),f){case 4:a(2,e);a(1,e);break;case 8:a(2,e);a(1,e);a(4,e);a(9,e);break;case 9:a(2,
e);a(1,e);a(4,e);a(8,e);break;case 16:a(9,e);break;case 24:a(8,e);a(9,e);a(14,e);a(15,e);a(32,e);break;case 32:a(24,e);break;case 33:a(8,e);a(24,e);break;case 48:a(16,e);a(24,e);break;case 64:a(33,e),a(48,e)}}this._9218=[];this._6481=this._7082=this._8706=!1;var d=k.prototype;d.get_ActionName=function(){b.pv.tne()};d.get_CanModifyImage=function(){return this._8706};d.get_SupportedNativePixelFormats=function(){return[].concat(this._9218)};d.get_SupportedPixelFormats=function(){var b=this.get_SupportedNativePixelFormats();
return this._7082?b.length===b[0].getAllAvailableNames().length?b:this._4246(b):b};d.get_ExpandSupportedPixelFormats=function(){return this._7082};d.set_ExpandSupportedPixelFormats=function(a){b.pv.b(a);this._7082=a};d.get_RestoreSourcePixelFormat=function(){return this._6481};d.set_RestoreSourcePixelFormat=function(a){b.pv.b(a);!this._8706&&a&&b.pv.te("Command does not support this property because command cannot modify image.");this._6481=a};d.getParams=function(){return{}};d.checkCommandParams=
function(b){return!0};d.execute=function(a,d,e,f){b.pv.c(a,b.WebImageJS);b.pv.ic(d,b.WebServiceJS)?(f=d,e=d=void 0):b.pv.ic(e,b.WebServiceJS)&&(f=e,e=void 0);void 0!=d&&b.pv.f(d,"Success callback must be defined as function.");void 0!=e&&b.pv.f(e,"Error callback must be defined as function.");void 0==f&&(f=this._7050());b.pv.c(f,b.WebServiceJS);var h=a.get_PixelFormat(),g=this.get_SupportedPixelFormats();if(void 0!==h){for(var k=!1,L=0;L<g.length;L++)if(h.equals(g[L])){k=!0;break}if(!k){k="Please convert the image to supported pixel format first.";
if(!this._7082){for(var l=this._4246(g),p=!1,L=0;L<l.length;L++)if(h.equals(l[L])){p=!0;break}p&&(k="Please enable automatic convertation using the 'set_ExpandSupportedPixelFormats' property  or convert an image to the supported pixel format manually.")}h=this.get_ActionName()+": unsupported pixel format - "+h.toString()+". With current settings the processing command supports only the following pixel formats:";for(L=0;L<g.length;L++)h+=" "+g[L].toString();b.pv.te(h+(".\n"+k))}}return this.checkCommandParams(a)?
(this._3071(a,d,e,f),!0):!1};d._8967=function(b){this._9218=this._7636(b)};d._3071=function(a,d,e,f){var h=this,g=this.getParams();g.expandSupportedPixelFormats=h._7082;g.restoreSourcePixelFormat=h._6481;g.imageInfo=a.cto();g.applicationUrl=window.location.href;var k=a.csto(),L;for(L in k)g[L]=k[L];g={type:"POST",data:g};g=new b.WebRequestJS(this.get_ActionName(),function(b,e,f){h._3185(a,b);d&&d(b,e,f)},function(b,d,f){h._3185(a,b);e&&e(b,d,f)},g);return f.sendRequest(g)};d._7050=function(){return b.WebServiceJS.defaultImageProcessingService};
d._3185=function(b,a){a.sourceImage=b};d._4246=function(b){for(var d=[],e=0;e<b.length;e++)a(b[e],d);return this._7636(d)};d._7636=function(a){a.sort(m._6002._525);for(var d=[],e=0;e<a.length;e++)d.push(new b.WebPixelFormatEnumJS(a[e]));return d}},f=function(){var a=f.superclass;a.constructor.call(this);var d=f.prototype;this._8706=this._3690=!0;d.get_ChangeSource=function(){return this._3690};d.set_ChangeSource=function(a){b.pv.b(a);this._3690=a};d.getParams=function(){return{changeSource:this._3690}};
d.execute=function(b,d,e,f){return a.execute.call(this,b,d,e,f)};d._3185=function(d,e){a._3185.call(this,d,e);if(!0===e.success){var f=e.imageInfo.imageId,h=e.imageInfo.pageIndex,g=d.get_PageIndex(),k=d.get_ImageId();if(f===k&&h===g)e.processedImage=d,d.ci("dc");else{var g=d.get_Source(),L,l;try{L=g.get_ImageService(),l=g.get_AnnotationService()}catch(p){}f=new b.WebImageSourceJS(f,L,l);h=new b.WebImageJS(f,h);e.processedImage=h}}}};b.extend(f,k);var w=function(){w.superclass.constructor.call(this);
var a=w.prototype;this._113=m._6002._3358();a.get_Region=function(){return $.extend(!0,{},this._113)};a.set_Region=function(a,d,e,f){a=void 0==d?{x:parseInt(a.x),y:parseInt(a.y),width:parseInt(a.width),height:parseInt(a.height)}:{x:parseInt(a),y:parseInt(d),width:parseInt(e),height:parseInt(f)};b.pv.r(a);0>a.x&&(a.x=0);0>a.y&&(a.y=0);0>a.width&&(a.width=0);0>a.height&&(a.height=0);this._113=a};a.getParams=function(){return{region:this._113}};a.checkCommandParams=function(b){b=b.get_Size();return void 0==
b?!0:this._113.x<=b.width&&this._113.y<=b.height}};b.extend(w,k);var p=function(){var a=p.superclass;a.constructor.call(this);var d=p.prototype;this._113=m._6002._3358();d.get_Region=function(){return $.extend(!0,{},this._113)};d.set_Region=function(a,d,e,f){a=void 0==d?{x:parseInt(a.x),y:parseInt(a.y),width:parseInt(a.width),height:parseInt(a.height)}:{x:parseInt(a),y:parseInt(d),width:parseInt(e),height:parseInt(f)};b.pv.r(a);0>a.x&&(a.x=0);0>a.y&&(a.y=0);0>a.width&&(a.width=0);0>a.height&&(a.height=
0);this._113=a};d.getParams=function(){var b=a.getParams.call(this);b.region=this._113;return b};d.checkCommandParams=function(b){b=b.get_Size();return void 0==b?!0:this._113.x<=b.width&&this._113.y<=b.height}};b.extend(p,f);var l=function(){var a=l.superclass;a.constructor.call(this);this._2609=new s.WebBinarizationModeEnumJS(0);this._3659=0;this._6906=1;this._348=-115;this._746=0;this._592=384;this._8976=15;this._3044=new s.WebLuminanceComputationModeEnumJS(1);this._8967([1,2,4,8,9,16,24,32,33,
48,64]);var d=l.prototype;d.get_ActionName=function(){return"Binarize"};d.get_BinarizationMode=function(){return this._2609};d.set_BinarizationMode=function(a){this._2609=b.pv.e(a,s.WebBinarizationModeEnumJS)};d.get_ConvertToBlackLevel=function(){return this._3659};d.set_ConvertToBlackLevel=function(a){b.pv.n(a);0>a&&(a=0);1<a&&(a=1);this._3659=a};d.get_ConvertToWhiteLevel=function(){return this._6906};d.set_ConvertToWhiteLevel=function(a){b.pv.n(a);0>a&&(a=0);1<a&&(a=1);this._6906=a};d.get_MaxLevelDifference=
function(){return this._348};d.set_MaxLevelDifference=function(a){a=parseInt(a);b.pv.n(a);-765>a&&(a=-765);765<a&&(a=765);this._348=a};d.get_MinLevelDifference=function(){return this._746};d.set_MinLevelDifference=function(a){a=parseInt(a);b.pv.n(a);-765>a&&(a=-765);765<a&&(a=765);this._746=a};d.get_Threshold=function(){return this._592};d.set_Threshold=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);765<a&&(a=765);this._592=a};d.get_WindowRadius=function(){return this._8976};d.set_WindowRadius=function(a){a=
parseInt(a);b.pv.n(a);0>a&&(a=0);256<a&&(a=256);this._8976=a};d.get_LuminanceComputationMode=function(){return this._3044};d.set_LuminanceComputationMode=function(a){this._3044=b.pv.e(a,s.WebLuminanceComputationModeEnumJS)};d.getParams=function(){var b=a.getParams.call(this);b.binarizationMode=this._2609.valueOf();b.convertToBlackLevel=this._3659;b.convertToWhiteLevel=this._6906;b.maxLevelDifference=this._348;b.minLevelDifference=this._746;b.threshold=this._592;b.windowRadius=this._8976;b.luminanceComputationMode=
this._3044.valueOf();return b}};b.extend(l,f);var u=function(){var a=u.superclass;a.constructor.call(this);this._5511=0;this._8967([1,2,4,8,9,16,24,32,33,48,64]);var d=u.prototype;d.get_ActionName=function(){return"ChangeBrightness"};d.get_Brightness=function(){return this._5511};d.set_Brightness=function(a){a=parseInt(a);b.pv.n(a);-100>a&&(a=-100);100<a&&(a=100);this._5511=a};d.getParams=function(){var b=a.getParams.call(this);b.brightness=this._5511;return b};d.checkCommandParams=function(b){return a.checkCommandParams.call(this,
b)&&0!==this._5511}};b.extend(u,p);var r=function(){var a=r.superclass;a.constructor.call(this);this._9559=this._5511=0;this._8967([1,2,4,8,9,16,24,32,33,48,64]);var d=r.prototype;d.get_ActionName=function(){return"ChangeBrightnessContrast"};d.get_Brightness=function(){return this._5511};d.set_Brightness=function(a){a=parseInt(a);b.pv.n(a);-100>a&&(a=-100);100<a&&(a=100);this._5511=a};d.get_Contrast=function(){return this._9559};d.set_Contrast=function(a){a=parseInt(a);b.pv.n(a);-100>a&&(a=-100);
100<a&&(a=100);this._9559=a};d.getParams=function(){var b=a.getParams.call(this);b.brightness=this._5511;b.contrast=this._9559;return b};d.checkCommandParams=function(b){return a.checkCommandParams.call(this,b)&&(0!==this._5511||0!==this._9559)}};b.extend(r,p);var B=function(){var a=B.superclass;a.constructor.call(this);this._9559=0;this._8967([1,2,4,8,9,16,24,32,33,48,64]);var d=B.prototype;d.get_ActionName=function(){return"ChangeContrast"};d.get_Contrast=function(){return this._9559};d.set_Contrast=
function(a){a=parseInt(a);b.pv.n(a);-100>a&&(a=-100);100<a&&(a=100);this._9559=a};d.getParams=function(){var b=a.getParams.call(this);b.contrast=this._9559;return b};d.checkCommandParams=function(b){return a.checkCommandParams.call(this,b)&&0!==this._9559}};b.extend(B,p);var z=function(){function a(d){b.pv.n(d);0>d&&b.pv.te("Gamma value cannot be less than 0.")}var d=z.superclass;d.constructor.call(this);this._9483=this._4887=this._165=1;this._8967([1,2,4,8,9,16,24,32,33,48,64]);var e=z.prototype;
e.get_ActionName=function(){return"ChangeGamma"};e.get_RedGamma=function(){return this._165};e.set_RedGamma=function(b){a(b);this._165=b};e.get_GreenGamma=function(){return this._4887};e.set_GreenGamma=function(b){a(b);this._4887=b};e.get_BlueGamma=function(){return this._9483};e.set_BlueGamma=function(b){a(b);this._9483=b};e.get_Gamma=function(){return(this._165+this._4887+this._9483)/3};e.set_Gamma=function(b){a(b);this._9483=this._4887=this._165=b};e.getParams=function(){var b=d.getParams.call(this);
b.redGamma=this._165;b.greenGamma=this._4887;b.blueGamma=this._9483;return b};e.checkCommandParams=function(b){return d.checkCommandParams.call(this,b)&&(1!==this._165||1!==this._4887||1!==this._9483)}};b.extend(z,p);var v=function(){var a=v.superclass;a.constructor.call(this);this._8213=this._3615=this._4518=0;this._8967([1,2,4,8,9,16,24,32,33,48,64]);var d=v.prototype;d.get_ActionName=function(){return"ChangeHSL"};d.get_Hue=function(){return this._4518};d.set_Hue=function(a){a=parseInt(a);b.pv.n(a);
-180>a&&(a=-180);180<a&&(a=180);this._4518=a};d.get_Saturation=function(){return this._3615};d.set_Saturation=function(a){a=parseInt(a);b.pv.n(a);-100>a&&(a=-100);100<a&&(a=100);this._3615=a};d.get_Luminance=function(){return this._8213};d.set_Luminance=function(a){a=parseInt(a);b.pv.n(a);-100>a&&(a=-100);100<a&&(a=100);this._8213=a};d.getParams=function(){var b=a.getParams.call(this);b.hue=this._4518;b.saturation=this._3615;b.luminance=this._8213;return b};d.checkCommandParams=function(b){return a.checkCommandParams.call(this,
b)&&(0!==this._4518||0!==this._3615||0!==this._8213)}};b.extend(v,p);var x=function(){var a=x.superclass;a.constructor.call(this);this._5575="rgba(0,0,0,1)";this._9597=new s.WebBlendingModeEnumJS(1);this._8967([1,2,4,8,9,24,32,33]);var d=x.prototype;d.get_ActionName=function(){return"ColorBlend"};d.get_BlendColor=function(){return this._5575};d.set_BlendColor=function(a){b.pv.s(a);this._5575=a};d.get_BlendingMode=function(){return this._9597};d.set_BlendingMode=function(a){this._9597=b.pv.e(a,s.WebBlendingModeEnumJS)};
d.getParams=function(){var b=a.getParams.call(this);b.blendColor=this._5575;b.blendingMode=this._9597.valueOf();return b}};b.extend(x,p);var y=function(){function a(d,e){7!==e.newValue.valueOf()&&b.pv.te("Unsupported color type.")}var d=y.superclass;d.constructor.call(this);var f=new e;f.set_Type(7);f._8204=65535;f._4403=65535;f._5169=65535;f._6832=65535;$(f._5988).on("_6159",a);this._5575=f;this._9597=new s.WebBlendingModeEnumJS(1);this._8967([48,64]);f=y.prototype;f.get_ActionName=function(){return"ColorBlend16"};
f.get_BlendColor=function(){return this._5575};f.set_BlendColor=function(d){b.pv.c(d,e);7!==d._6831.valueOf()&&b.pv.te("Unsupported color type.");$(this._5575._5988).off();this._5575=d;$(d._5988).on("_6159",a)};f.get_BlendingMode=function(){return this._9597};f.set_BlendingMode=function(a){this._9597=b.pv.e(a,s.WebBlendingModeEnumJS)};f.getParams=function(){var a=d.getParams.call(this);a.blendColor=this._5575.getParams();a.blendingMode=this._9597.valueOf();return a}};b.extend(y,p);var E=function(){var a=
E.superclass;a.constructor.call(this);this._7342=new s.WebDesaturateMethodEnumJS(2);this._8967([1,2,4,8,9,16,24,32,33,48,64]);var d=E.prototype;d.get_ActionName=function(){return"Desaturate"};d.get_DesaturateMethod=function(){return this._7342};d.set_DesaturateMethod=function(a){this._7342=b.pv.e(a,s.WebDesaturateMethodEnumJS)};d.getParams=function(){var b=a.getParams.call(this);b.desaturateMethod=this._7342.valueOf();return b}};b.extend(E,p);var F=function(){F.superclass.constructor.call(this);this._8967([8,
33,64]);F.prototype.get_ActionName=function(){return"GetAlphaChannelMask"}};b.extend(F,p);var G=function(){G.superclass.constructor.call(this);this._8967([1,2,4,8,9,16,24,32,33,48,64]);G.prototype.get_ActionName=function(){return"Halftone"}};b.extend(G,f);var A=function(){A.superclass.constructor.call(this);this._8967([1,2,4,8,9,16,24,32,33,48,64]);A.prototype.get_ActionName=function(){return"Invert"}};b.extend(A,p);var H=function(){var a=H.superclass;a.constructor.call(this);this._2954=new d;this._4342=
new d;this._4232=new d;this._8967([1,2,4,8,9,16,24,32,33,48,64]);var e=H.prototype;e.get_ActionName=function(){return"Levels"};e.get_RedChannelSettings=function(){return this._2954};e.set_RedChannelSettings=function(a){b.pv.c(a,d);this._2954=a};e.get_GreenChannelSettings=function(){return this._4342};e.set_GreenChannelSettings=function(a){b.pv.c(a,d);this._4342=a};e.get_BlueChannelSettings=function(){return this._4232};e.set_BlueChannelSettings=function(a){b.pv.c(a,d);this._4232=a};e.getParams=function(){var b=
a.getParams.call(this);b.redChannelSettings=this._2954.getParams();b.greenChannelSettings=this._4342.getParams();b.blueChannelSettings=this._4232.getParams();return b}};b.extend(H,p);var O=function(){var a=O.superclass;a.constructor.call(this);this._7899=6;this._8967([9,16,24,32,33,48,64]);var d=O.prototype;d.get_ActionName=function(){return"Posterize"};d.get_ColorCount=function(){return this._7899};d.set_ColorCount=function(a){a=parseInt(a);b.pv.n(a);2>a&&(a=2);256<a&&(a=256);this._7899=a};d.getParams=
function(){var b=a.getParams.call(this);b.colorCount=this._7899;return b}};b.extend(O,f);var S=function(){function a(d){b.pv.n(d);0>d&&b.pv.te("Gamma value cannot be less than 0.")}var d=S.superclass;d.constructor.call(this);this._1233=256;this._4717=[];this._714=[];this._7413=[];this._8967([2,1,4,8,9,24,32,33]);var e=S.prototype;e.get_ActionName=function(){return"RemapColors"};e.get_RedMap=function(){return this._4717.slice(0)};e.set_RedMap=function(a){this._2658(a);this._4717=a.slice(0)};e.get_GreenMap=
function(){return this._714.slice(0)};e.set_GreenMap=function(a){this._2658(a);this._714=a.slice(0)};e.get_BlueMap=function(){return this._7413.slice(0)};e.set_BlueMap=function(a){this._2658(a);this._7413=a.slice(0)};e.setGamma=function(b){a(b);b=this._7202(b);this._4717=b.slice(0);this._714=b.slice(0);this._7413=b.slice(0)};e.setRedGamma=function(b){a(b);this._4717=this._7202(b)};e.setGreenGamma=function(b){a(b);this._714=this._7202(b)};e.setBlueGamma=function(b){a(b);this._7413=this._7202(b)};e.getParams=
function(){var a=d.getParams.call(this);a.redMap=this._4717;a.greenMap=this._714;a.blueMap=this._7413;return a};e._7202=function(a){for(var b=[],d=this._1233-1,e=0;e<=d;++e){var f=Math.round(d*Math.pow(e/d,1/a));0===a&&e===d&&(f=d);b[e]=f}return b};e._2658=function(a){var d=this._1233-1;b.pv.ad(a,function(a){b.pv.n(a);(0>a||a>d)&&b.pv.toe()});a.length!==this._1233&&b.pv.te("Color map must contain "+this._1233+" elements.")};this.setGamma(1)};b.extend(S,p);var P=function(){function a(d){b.pv.n(d);
0>d&&b.pv.te("Gamma value cannot be less than 0.")}var d=S.superclass;d.constructor.call(this);this._1233=65536;this._4717=[];this._714=[];this._7413=[];this._8967([16,48,64]);var e=P.prototype;P.prototype.get_ActionName=function(){return"RemapColors16"};e.get_RedMap=function(){return this._4717.slice(0)};e.set_RedMap=function(a){this._2658(a);this._4717=a.slice(0)};e.get_GreenMap=function(){return this._714.slice(0)};e.set_GreenMap=function(a){this._2658(a);this._714=a.slice(0)};e.get_BlueMap=function(){return this._7413.slice(0)};
e.set_BlueMap=function(a){this._2658(a);this._7413=a.slice(0)};e.setGamma=function(b){a(b);b=this._7202(b);this._4717=b.slice(0);this._714=b.slice(0);this._7413=b.slice(0)};e.setRedGamma=function(b){a(b);this._4717=this._7202(b)};e.setGreenGamma=function(b){a(b);this._714=this._7202(b)};e.setBlueGamma=function(b){a(b);this._7413=this._7202(b)};e.getParams=function(){var a=d.getParams.call(this);a.redMap=this._4717;a.greenMap=this._714;a.blueMap=this._7413;return a};e._7202=function(a){for(var b=[],
d=this._1233-1,e=0;e<=d;++e){var f=Math.round(d*Math.pow(e/d,1/a));0===a&&e===d&&(f=d);b[e]=f}return b};e._2658=function(a){var d=this._1233-1;b.pv.ad(a,function(a){b.pv.n(a);(0>a||a>d)&&b.pv.toe()});a.length!==this._1233&&b.pv.te("Color map must contain "+this._1233+" elements.")};this.setGamma(1)};b.extend(P,p);var R=function(){R.superclass.constructor.call(this);this._4460=new S;var a=R.prototype;a.get_ActionName=function(){return"Curves"};a.get_SupportedNativePixelFormats=function(){return this._4460.get_SupportedNativePixelFormats()};
a.get_RedMap=function(){return this._4460.get_RedMap()};a.set_RedMap=function(a){this._4460.set_RedMap(a)};a.get_GreenMap=function(){return this._4460.get_GreenMap()};a.set_GreenMap=function(a){this._4460.set_GreenMap(a)};a.get_BlueMap=function(){return this._4460.get_BlueMap()};a.set_BlueMap=function(a){this._4460.set_BlueMap(a)};a.getParams=function(){this._4460._113=this._113;return this._4460.getParams()}};b.extend(R,p);var Q=function(){Q.superclass.constructor.call(this);this._4460=new P;var a=
Q.prototype;Q.prototype.get_ActionName=function(){return"Curves16"};a.get_SupportedNativePixelFormats=function(){return this._4460.get_SupportedNativePixelFormats()};a.get_RedMap=function(){return this._4460.get_RedMap()};a.set_RedMap=function(a){this._4460.set_RedMap(a)};a.get_GreenMap=function(){return this._4460.get_GreenMap()};a.set_GreenMap=function(a){this._4460.set_GreenMap(a)};a.get_BlueMap=function(){return this._4460.get_BlueMap()};a.set_BlueMap=function(a){this._4460.set_BlueMap(a)};a.getParams=
function(){this._4460._113=this._113;return this._4460.getParams()}};b.extend(Q,p);var da=function(){var a=da.superclass;a.constructor.call(this);this._1339=new s.WebColorSpaceTypeEnumJS(2);this._6718=0;this._8418="rgba(255,255,255,1)";this._6989="rgba(0,0,0,1)";this._8967([1,2,4,8,9,16,24,32,33,48,64]);var d=da.prototype;d.get_ActionName=function(){return"ReplaceColor"};d.get_ColorSpace=function(){return this._1339};d.set_ColorSpace=function(a){a=b.pv.e(a,s.WebColorSpaceTypeEnumJS);var d=a.valueOf();
2!==d&&5!==d&&b.pv.te("Supported values are sRGB and CIELab.");this._1339=a};d.get_MaximalColorDifference=function(){return this._6718};d.set_MaximalColorDifference=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);this._6718=a};d.get_NewColor=function(){return this._6989};d.set_NewColor=function(a){b.pv.s(a);this._6989=a};d.get_OldColor=function(){return this._8418};d.set_OldColor=function(a){b.pv.s(a);this._8418=a};d.getParams=function(){var b=a.getParams.call(this);b.colorSpace=this._1339.valueOf();
b.maximalColorDifference=this._6718;b.oldColor=this._8418;b.newColor=this._6989;return b};d.checkCommandParams=function(b){return a.checkCommandParams.call(this,b)&&this._8418!==this._6989}};b.extend(da,p);var V=function(){var a=V.superclass;a.constructor.call(this);this._7080="";this._8967([1,2,4,8,9,14,15,16,24,32,33,48,64]);var d=V.prototype;d.get_ActionName=function(){return"SetAlphaChannelMask"};d.get_Mask=function(){return this._7080};d.set_Mask=function(a){b.pv.s(a);this._7080=a};d.checkCommandParams=
function(d){""===this._7080&&b.pv.te("Mask property cannot be empty.");return a.checkCommandParams.call(this,d)};d.getParams=function(){var b=a.getParams.call(this);b.mask=this._7080;return b}};b.extend(V,p);var ea=function(){var a=ea.superclass;a.constructor.call(this);this._1933=255;this._8967([1,2,4,8,33,64]);var d=ea.prototype;d.get_ActionName=function(){return"SetAlphaChannelValue"};d.get_AlphaValue=function(){return this._1933};d.set_AlphaValue=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);
255<a&&(a=255);this._1933=a};d.getParams=function(){var b=a.getParams.call(this);b.alphaValue=this._1933;return b}};b.extend(ea,p);var T=function(){var a=T.superclass;a.constructor.call(this);this._9822=new b.WebPixelFormatEnumJS(0);this._8967([1,2,4,8,9,14,15,16,24,32,33,48,64]);var d=T.prototype;d.get_ActionName=function(){return"ChangePixelFormat"};d.get_PixelFormat=function(){return this._9822};d.set_PixelFormat=function(a){this._9822=b.pv.e(a,b.WebPixelFormatEnumJS)};d.getParams=function(){var b=
a.getParams.call(this);b.pixelFormat=this._9822.valueOf();return b}};b.extend(T,f);var fa=function(){var a=fa.superclass;a.constructor.call(this);this._9822=new b.WebPixelFormatEnumJS(24);this._6631=!1;this._8967([1,2,4,8,9,14,15,16,24,32,33,48,64]);var d=fa.prototype;d.get_ActionName=function(){return"ChangePixelFormatToBgr"};d.set_PixelFormat=function(a){a=b.pv.e(a,b.WebPixelFormatEnumJS);var d=a.valueOf();14!==d&&15!==d&&24!==d&&32!==d&&33!==d&&48!==d&&64!==d&&b.pv.te("Unsupported pixel format.");
this._9822=a};d.get_KeepAlphaChannel=function(){return this._6631};d.set_KeepAlphaChannel=function(a){b.pv.b(a);this._6631=a};d.getParams=function(){var b=a.getParams.call(this);b.keepAlphaChannel=this._6631;return b}};b.extend(fa,T);var I=function(){I.superclass.constructor.call(this);this._8967([1,2,4,8,9,14,15,16,24,32,33,48,64]);I.prototype.get_ActionName=function(){return"ChangePixelFormatToBlackWhite"}};b.extend(I,l);var ba=function(){ba.superclass.constructor.call(this);this._9822=new b.WebPixelFormatEnumJS(9);
this._8967([1,2,4,8,9,14,15,16,24,32,33,48,64]);var a=ba.prototype;a.get_ActionName=function(){return"ChangePixelFormatToGrayscale"};a.set_PixelFormat=function(a){a=b.pv.e(a,b.WebPixelFormatEnumJS);var d=a.valueOf();9!==d&&16!==d&&b.pv.te("Unsupported pixel format.");this._9822=a}};b.extend(ba,T);var ja=function(){var a=ja.superclass;a.constructor.call(this);this._9822=new b.WebPixelFormatEnumJS(8);this._5212=new s.WebPaletteTypeJS(0);this._4423=new s.WebColorQuantizationMethodEnumJS(3);this._6240=
!1;this._8967([1,2,4,8,9,14,15,16,24,32,33,48,64]);var d=ja.prototype;d.get_ActionName=function(){return"ChangePixelFormatToPalette"};d.set_PixelFormat=function(a){a=b.pv.e(a,b.WebPixelFormatEnumJS);var d=a.valueOf();1!==d&&4!==d&&8!==d&&b.pv.te("Unsupported pixel format.");this._9822=a};d.get_Transparency=function(){return this._6240};d.set_Transparency=function(a){b.pv.b(a);this._6240=a};d.get_PaletteType=function(){return this._5212};d.set_PaletteType=function(a){this._5212=b.pv.e(a,s.WebPaletteTypeJS)};
d.get_QuantizationMethod=function(){return this._4423};d.set_QuantizationMethod=function(a){this._4423=b.pv.e(a,s.WebColorQuantizationMethodEnumJS)};d.getParams=function(){var b=a.getParams.call(this);b.transparency=this._6240;b.paletteType=this._5212.valueOf();b.quantizationMethod=this._4423.valueOf();return b}};b.extend(ja,T);var ga=function(){var a=ga.superclass;a.constructor.call(this);this._2790="rgba(0,0,0,1)";this._8967([1,2,4,8,9,14,15,16,24,32,33,48,64]);var d=ga.prototype;d.get_ActionName=
function(){return"Clear"};d.get_Color=function(){return this._2790};d.set_Color=function(a){b.pv.s(a);this._2790=a};d.getParams=function(){var b=a.getParams.call(this);b.color=this._2790;return b}};b.extend(ga,p);var M=function(){M.superclass.constructor.call(this);this._8967([1,2,4,8,9,14,15,16,24,32,33,48,64]);var a=M.prototype;a.get_ActionName=function(){return"Crop"};a.checkCommandParams=function(a){a=a.get_Size();if(void 0==a)return!0;a.x=0;a.y=0;var b=m._6002._4366(a,this._113);return m._6002._1672(b)||
m._6002._5276(b,a)?!1:!0}};b.extend(M,p);var X=function(){var a=X.superclass;a.constructor.call(this);this._3422=new b.WebInterpolationModeEnumJS(7);this._7178=this._8560=96;this._8967([1,2,4,8,9,14,15,16,24,32,33,48,64]);var d=X.prototype;d.get_ActionName=function(){return"Resample"};d.get_InterpolationMode=function(){return this._3422};d.set_InterpolationMode=function(a){this._3422=b.pv.e(a,b.WebInterpolationModeEnumJS)};d.get_HorizontalResolution=function(){return this._8560};d.set_HorizontalResolution=
function(a){b.pv.n(a);1>a&&(a=1);12800<a&&(a=12800);this._8560=a};d.get_VerticalResolution=function(){return this._7178};d.set_VerticalResolution=function(a){b.pv.n(a);1>a&&(a=1);12800<a&&(a=12800);this._7178=a};d.getParams=function(){var b=a.getParams.call(this);b.interpolationMode=this._3422.valueOf();b.horizontalResolution=this._8560;b.verticalResolution=this._7178;return b}};b.extend(X,f);var ia=function(){var a=ia.superclass;a.constructor.call(this);this._3994={width:100,height:100};this._3422=
new b.WebInterpolationModeEnumJS(7);this._6481=this._7082=!0;this._7482=this._7636([8,9,16,24,32,33,48,64]);this._2766=this._7636([9,16,24,32,33,48,64]);this._8407=this._7636([16,33,48,64]);var d=ia.prototype;d.get_ActionName=function(){return"Resize"};d.get_SupportedNativePixelFormats=function(){var a;switch(this._3422.valueOf()){case 5:a=this._7482;break;case 3:a=this._2766;break;default:a=this._8407}return[].concat(a)};d.get_Size=function(){return $.extend(!0,{},this._3994)};d.set_Size=function(a,
d){var e;e=void 0==d?{width:parseInt(a.width),height:parseInt(a.height)}:{width:parseInt(a),height:parseInt(d)};b.pv.sz(e);0>=e.width&&(e.width=1);65535<e.width&&(e.width=65535);0>=e.height&&(e.height=1);65535<e.height&&(e.height=65535);this._3994=e};d.get_InterpolationMode=function(){return this._3422};d.set_InterpolationMode=function(a){this._3422=b.pv.e(a,b.WebInterpolationModeEnumJS)};d.getParams=function(){var b=a.getParams.call(this);b.interpolationMode=this._3422.valueOf();b.width=this._3994.width;
b.height=this._3994.height;return b};d.checkCommandParams=function(a){a=a.get_Size();if(void 0==a)return!0;var b=this._113;return m._6002._1672(b)?this._3994.width!==a.width||this._3994.height!==a.height:0===b.x&&0===b.y&&b.width===a.width&&b.height===a.height?!1:!0}};b.extend(ia,p);var N=function(){var a=N.superclass;a.constructor.call(this);this._8689="rgba(0,0,0,1)";this._2564={width:100,height:100};this._8166={x:0,y:0};this._8967([1,2,4,8,9,14,15,16,24,32,33,48,64]);var d=N.prototype;d.get_ActionName=
function(){return"ResizeCanvas"};d.get_CanvasColor=function(){return this._8689};d.set_CanvasColor=function(a){b.pv.s(a);this._8689=a};d.get_CanvasSize=function(){return $.extend(!0,{},this._2564)};d.set_CanvasSize=function(a,d){var e;e=void 0==d?{width:parseInt(a.width),height:parseInt(a.height)}:{width:parseInt(a),height:parseInt(d)};b.pv.sz(e);0>=e.width&&(e.width=1);65535<e.width&&(e.width=65535);0>=e.height&&(e.height=1);65535<e.height&&(e.height=65535);this._2564=e};d.get_ImagePosition=function(){return $.extend(!0,
{},this._8166)};d.set_ImagePosition=function(a,d){var e;e=void 0==d?{x:parseInt(a.x),y:parseInt(a.y)}:{x:parseInt(a),y:parseInt(d)};b.pv.p(e);this._8166=e};d.getParams=function(){var b=a.getParams.call(this);b.imagePosition=this._8166;b.width=this._2564.width;b.height=this._2564.height;b.canvasColor=this._8689;return b}};b.extend(N,f);var la=function(){var a=la.superclass;a.constructor.call(this);this._568=!1;this._5319="";this._6240=!1;this._704="rgba(255,255,255,0)";this._8967([1,2,4,8,9,14,15,
16,24,32,33,48,64]);var d=la.prototype;d.get_ActionName=function(){return"Overlay"};d.get_OverlayImage=function(){return this._5319};d.set_OverlayImage=function(a){b.pv.s(a);this._5319=a};d.get_HasTransparentColor=function(){return this._568};d.set_HasTransparentColor=function(a){b.pv.b(a);this._568=a};d.get_Transparency=function(){return this._6240};d.set_Transparency=function(a){b.pv.b(a);this._6240=a};d.get_TransparentColor=function(){return this._704};d.set_TransparentColor=function(a){b.pv.s(a);
this._704=a};d.checkCommandParams=function(d){""===this._5319&&b.pv.te("OverlayImage property cannot be empty.");return a.checkCommandParams.call(this,d)};d.getParams=function(){var b=a.getParams.call(this);b.hasTransparentColor=this._568;b.overlayImage=this._5319;b.transparency=this._6240;b.transparentColor=this._704;return b}};b.extend(la,p);var ma=function(){var a=ma.superclass;a.constructor.call(this);this._2501=this._5319="";this._8967([1,2,4,8,9,16,24,32,33,48,64]);var d=ma.prototype;d.get_ActionName=
function(){return"OverlayMasked"};d.get_OverlayImage=function(){return this._5319};d.set_OverlayImage=function(a){b.pv.s(a);this._5319=a};d.get_MaskImage=function(){return this._2501};d.set_MaskImage=function(a){b.pv.s(a);this._2501=a};d.checkCommandParams=function(d){""===this._5319&&b.pv.te("OverlayImage property cannot be empty.");""===this._2501&&b.pv.te("MaskImage property cannot be empty.");return a.checkCommandParams.call(this,d)};d.getParams=function(){var b=a.getParams.call(this);b.overlayImage=
this._5319;b.maskImage=this._2501;return b}};b.extend(ma,p);var ha=function(){var a=ha.superclass;a.constructor.call(this);this._5319="";this._9597=new s.WebBlendingModeEnumJS(1);this._8967([9,16,24,32,33,48,64]);var d=ha.prototype;d.get_ActionName=function(){return"OverlayWithBlending"};d.get_OverlayImage=function(){return this._5319};d.set_OverlayImage=function(a){b.pv.s(a);this._5319=a};d.get_BlendingMode=function(){return this._9597};d.set_BlendingMode=function(a){this._9597=b.pv.e(a,s.WebBlendingModeEnumJS)};
d.checkCommandParams=function(d){""===this._5319&&b.pv.te("OverlayImage property cannot be empty.");return a.checkCommandParams.call(this,d)};d.getParams=function(){var b=a.getParams.call(this);b.overlayImage=this._5319;b.blendingMode=this._9597.valueOf();return b}};b.extend(ha,p);var n=function(){var a=n.superclass;a.constructor.call(this);this._2790=new e;this._6081=[];this._8967([2,9,24,32,33]);var d=n.prototype;d.get_ActionName=function(){return"FillRectangle"};d.get_Color=function(){return this._2790};
d.set_Color=function(a){b.pv.c(a,e);this._2790=a};d.get_Rectangles=function(){for(var a=[],b=0;b<this._6081.length;b++)a[b]={x:this._6081[b].x,y:this._6081[b].y,width:this._6081[b].width,height:this._6081[b].height};return a};d.set_Rectangles=function(a){b.pv.ad(a,b.pv.r);this._6081=[];for(var d=0;d<a.length;d++)this._6081[d]={x:a[d].x,y:a[d].y,width:a[d].width,height:a[d].height}};d.getParams=function(){var b=a.getParams.call(this);b.rectangles=this._6081;b.color=this._2790.getParams();return b};
d.checkCommandParams=function(a){return 0!==this._6081.length}};b.extend(n,f);var J=function(){var a=J.superclass;a.constructor.call(this);this._67="";this._8635=new s.WebImageCompareOperatorEnumJS(0);this._4171;this._8967([1,2,4,8,9,14,15,16,24,32,33,48,64]);var d=J.prototype;d.get_ActionName=function(){return"ImageComparison"};d.get_Image=function(){return this._67};d.set_Image=function(a){b.pv.s(a);this._67=a};d.get_CompareChannelIndexes=function(){var a=this._4171;return void 0!=a?[].concat(a):
a};d.set_CompareChannelIndexes=function(a){void 0!=a&&b.pv.ad(a,b.pv.n);this._4171=a};d.get_CompareOperator=function(){return this._8635};d.set_CompareOperator=function(a){this._8635=b.pv.e(a,s.WebImageCompareOperatorEnumJS)};d.getParams=function(){var b=a.getParams.call(this);b.image=this._67;b.compareOperator=this._8635.valueOf();b.compareChannelIndexes=this._4171;return b};d.checkCommandParams=function(d){""===this._67&&b.pv.te("Image property cannot be empty.");return a.checkCommandParams.call(this,
d)}};b.extend(J,f);var Z=function(){function a(d,e,f,h){d=void 0==e?{x:d.x,y:d.y,width:d.width,height:d.height}:{x:d,y:e,width:f,height:h};b.pv.r(d);0>d.width&&(d.width=0);0>d.height&&(d.height=0);return d}var d=Z.superclass;d.constructor.call(this);this._5319="";this._2841=m._6002._3358();this._1799=m._6002._3358();this._3422=new b.WebInterpolationModeEnumJS(6);this._332="rgba(0,0,0,0)";this._8967([24,32,33]);var e=Z.prototype;e.get_ActionName=function(){return"DrawImage"};e.get_OverlayImage=function(){return this._5319};
e.set_OverlayImage=function(a){b.pv.s(a);this._5319=a};e.get_SourceRect=function(){return $.extend(!0,{},this._2841)};e.set_SourceRect=function(b,d,e,f){this._2841=a(b,d,e,f)};e.get_DestRect=function(){return $.extend(!0,{},this._1799)};e.set_DestRect=function(b,d,e,f){this._1799=a(b,d,e,f)};e.get_InterpolationMode=function(){return this._3422};e.set_InterpolationMode=function(a){this._3422=b.pv.e(a,b.WebInterpolationModeEnumJS)};e.get_BackgroundColor=function(){return this._332};e.set_BackgroundColor=
function(a){b.pv.s(a);this._332=a};e.checkCommandParams=function(a){""===this._5319&&b.pv.te("OverlayImage property cannot be empty.");return d.checkCommandParams.call(this,a)};e.getParams=function(){var a=d.getParams.call(this);a.overlayImage=this._5319;a.sourceRect=this._2841;a.destRect=this._1799;a.interpolationMode=this._3422.valueOf();a.backgroundColor=this._332;return a}};b.extend(Z,f);var wa=function(){var a=wa.superclass;a.constructor.call(this);this._8967([1,2,4,8,9,16,24,32,33,48,64]);var b=
wa.prototype;b.get_ActionName=function(){return"GetBackgroundColor"};b.execute=function(b,d,e,f){return a.execute.call(this,b,d,e,f)}};b.extend(wa,k);var ka=function(){var a=ka.superclass;a.constructor.call(this);this._8967([1,2,4,8,9,16,24,32,33,48,64]);var b=ka.prototype;b.get_ActionName=function(){return"GetBorderColor"};b.execute=function(b,d,e,f){return a.execute.call(this,b,d,e,f)}};b.extend(ka,k);var q=function(){var a=q.superclass;a.constructor.call(this);this._8135=this._2403=0;this._8967([1,
2,4,8,9,16,24,32,33,48,64]);var d=q.prototype;d.get_ActionName=function(){return"GetColorCount"};d.get_MaxColorCount=function(){return this._2403};d.set_MaxColorCount=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);this._2403=a};d.get_MaxInaccuracy=function(){return this._8135};d.set_MaxInaccuracy=function(a){b.pv.n(a);0>a&&(a=0);442<a&&(a=442);this._8135=a};d.getParams=function(){var b=a.getParams.call(this);b.maxColorCount=this._2403;b.maxInaccuracy=this._8135;return b};d.execute=function(b,d,e,
f){return a.execute.call(this,b,d,e,f)}};b.extend(q,w);var U=function(){var a=U.superclass;a.constructor.call(this);this._8454=new s.WebHistogramTypeEnumJS(15);this._8967([1,2,4,8,9,16,24,32,33,48,64]);var d=U.prototype;d.get_ActionName=function(){return"GetHistogram"};d.get_HistogramType=function(){return this._8454};d.set_HistogramType=function(a){this._8454=b.pv.e(a,s.WebHistogramTypeEnumJS)};d.getParams=function(){var b=a.getParams.call(this);b.histogramType=this._8454.valueOf();return b};d.execute=
function(b,d,e,f){return a.execute.call(this,b,d,e,f)}};b.extend(U,w);var t=function(){var a=t.superclass;a.constructor.call(this);this._8967([1,2,4,8,9,14,15,16,24,32,33,48,64]);var b=t.prototype;b.get_ActionName=function(){return"GetThreshold"};b.execute=function(b,d,e,f){return a.execute.call(this,b,d,e,f)}};b.extend(t,k);var aa=function(){var a=aa.superclass;a.constructor.call(this);this._1152=.01;this._8967([1,2,4,8,9,16,24,32,33,48,64]);var d=aa.prototype;d.get_ActionName=function(){return"IsImageBlank"};
d.get_MaxNoiseLevel=function(){return this._1152};d.set_MaxNoiseLevel=function(a){b.pv.n(a);0>a&&(a=0);1<a&&(a=1);this._1152=a};d.getParams=function(){return{maxNoiseLevel:this._1152}};d.execute=function(b,d,e,f){return a.execute.call(this,b,d,e,f)}};b.extend(aa,k);var C=function(){var a=C.superclass;a.constructor.call(this);this._3356=!0;this._2790=new e;this._8967([1,2,4,8,9,16,24,32,33,48,64]);var d=C.prototype;d.get_ActionName=function(){return"HasCertainColor"};d.get_ConsiderAlphaChannel=function(){return this._3356};
d.set_ConsiderAlphaChannel=function(a){b.pv.b(a);this._3356=a};d.get_Color=function(){return this._2790};d.set_Color=function(a){b.pv.c(a,e);this._2790=a};d.getParams=function(){var b=a.getParams.call(this);b.considerAlphaChannel=this._3356;b.color=this._2790.getParams();return b};d.execute=function(b,d,e,f){return a.execute.call(this,b,d,e,f)}};b.extend(C,k);var ca=function(){var a=ca.superclass;a.constructor.call(this);this._8967([1,2,4,8,9,24,32,33]);var b=ca.prototype;b.get_ActionName=function(){return"GetUniqueColor"};
b.execute=function(b,d,e,f){return a.execute.call(this,b,d,e,f)}};b.extend(ca,w);var na=function(){var a=na.superclass;a.constructor.call(this);this._8135=0;this._8967([8,9,24]);var d=na.prototype;d.get_ActionName=function(){return"IsImageBlackWhite"};d.get_MaxInaccuracy=function(){return this._8135};d.set_MaxInaccuracy=function(a){b.pv.n(a);0>a&&(a=0);442<a&&(a=442);this._8135=a};d.getParams=function(){return{maxInaccuracy:this._8135}};d.execute=function(b,d,e,f){return a.execute.call(this,b,d,e,
f)}};b.extend(na,k);var oa=function(){var a=oa.superclass;a.constructor.call(this);this._4552=this._8135=0;this._8967([1,8,24,33]);var d=oa.prototype;d.get_ActionName=function(){return"IsImageGrayscale"};d.get_MaxPercentOfColorPixels=function(){return this._4552};d.set_MaxPercentOfColorPixels=function(a){b.pv.n(a);0>a&&(a=0);1<a&&(a=1);this._4552=a};d.get_MaxInaccuracy=function(){return this._8135};d.set_MaxInaccuracy=function(a){b.pv.n(a);0>a&&(a=0);442<a&&(a=442);this._8135=a};d.getParams=function(){var b=
a.getParams.call(this);b.maxInaccuracy=this._8135;b.maxPercentOfColorPixels=this._4552;return b};d.execute=function(b,d,e,f){return a.execute.call(this,b,d,e,f)}};b.extend(oa,w);var pa=function(){var a=pa.superclass;a.constructor.call(this);this._4848=this._5205=this._417=this._238=this._7216=!0;this._8135=0;this._8967([8,9,24]);var d=pa.prototype;d.get_ActionName=function(){return"GetImageColorDepth"};d.get_DetectBlackWhite=function(){return this._7216};d.set_DetectBlackWhite=function(a){b.pv.b(a);
this._7216=a};d.get_DetectGrayscale=function(){return this._238};d.set_DetectGrayscale=function(a){b.pv.b(a);this._238=a};d.get_DetectIndexed1=function(){return this._417};d.set_DetectIndexed1=function(a){b.pv.b(a);this._417=a};d.get_DetectIndexed4=function(){return this._5205};d.set_DetectIndexed4=function(a){b.pv.b(a);this._5205=a};d.get_DetectIndexed8=function(){return this._4848};d.set_DetectIndexed8=function(a){b.pv.b(a);this._4848=a};d.get_MaxInaccuracy=function(){return this._8135};d.set_MaxInaccuracy=
function(a){b.pv.n(a);0>a&&(a=0);442<a&&(a=442);this._8135=a};d.getParams=function(){var b=a.getParams.call(this);b.detectBlackWhite=this._7216;b.detectGrayscale=this._238;b.detectIndexed1=this._417;b.detectIndexed4=this._5205;b.detectIndexed8=this._4848;b.maxInaccuracy=this._8135;return b};d.execute=function(b,d,e,f){return a.execute.call(this,b,d,e,f)};d._3071=function(d,e,f,h){a._3071.call(this,d,function(a){var d;try{d=b.pv.e(a.pixelFormat,b.WebPixelFormatEnumJS)}catch(f){d=new b.WebPixelFormatEnumJS(0)}a.pixelFormat=
d;e&&e(a)},f,h)}};b.extend(pa,k);var qa=function(){function a(b){b._3849.get_ActionName=void 0;b._3849.get_ChangeSource=void 0;b._3849.set_ChangeSource=void 0}var d=qa.superclass;d.constructor.call(this);this._1594=5;this._3224=new s.WebBorderRemovalColorTypeEnumJS(0);this._6149=0;this._3099=new s.WebImageSideEnumJS(15);this._3849=new l;a(this);this._8967([1,2,4,8,9,16,24,32,33,48,64]);var e=qa.prototype;e.get_ActionName=function(){return"GetBorderRect"};e.get_BorderSize=function(){return this._1594};
e.set_BorderSize=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);1E3<a&&(a=1E3);this._1594=a};e.get_BorderColorType=function(){return this._3224};e.set_BorderColorType=function(a){this._3224=b.pv.e(a,s.WebBorderRemovalColorTypeEnumJS)};e.get_MaxBorderNoise=function(){return this._6149};e.set_MaxBorderNoise=function(a){b.pv.n(a);0>a&&(a=0);100<a&&(a=100);this._6149=a};e.get_Side=function(){return this._3099};e.set_Side=function(a){this._3099=b.pv.e(a,s.WebImageSideEnumJS)};e.get_Binarization=function(){return this._3849};
e.set_Binarization=function(d){b.pv.c(d,l);this._3849=d;a(this)};e.getParams=function(){var a=d.getParams.call(this);a.borderSize=this._1594;a.borderColorType=this._3224.valueOf();a.maxBorderNoise=this._6149;a.side=this._3099.valueOf();a.binarization=this._3849.getParams();delete a.binarization.changeSource;return a};e.execute=function(a,b,e,f){return d.execute.call(this,a,b,e,f)}};b.extend(qa,k);var ra=function(){var a=ra.superclass;a.constructor.call(this);this._4516=new s.WebRotateFlipTypeEnumJS(1);
this._8967([1,2,4,8,9,14,15,16,24,32,33,48,64]);var d=ra.prototype;d.get_ActionName=function(){return"Flip"};d.get_RotateFlipType=function(){return this._4516};d.set_RotateFlipType=function(a){this._4516=b.pv.e(a,s.WebRotateFlipTypeEnumJS)};d.getParams=function(){var b=a.getParams.call(this);b.rotateFlipType=this._4516.valueOf();return b};d.checkCommandParams=function(a){return 0!==this._4516.valueOf()}};b.extend(ra,f);var sa=function(){var a=sa.superclass;a.constructor.call(this);this._7256=0;this._3224=
new s.WebBorderColorTypeEnumJS(0);this._8393="rgba(0,0,0,1)";this._9209=this._6481=this._7082=!0;this._8967([1,2,4,8,9,16,24,32,33,48,64]);var d=sa.prototype;d.get_ActionName=function(){return"Rotate"};d.get_Angle=function(){return this._7256};d.set_Angle=function(a){b.pv.n(a);0>a&&(a=0);360<a&&(a=360);this._7256=a};d.get_BorderColorType=function(){return this._3224};d.set_BorderColorType=function(a){this._3224=b.pv.e(a,s.WebBorderColorTypeEnumJS)};d.get_BorderColor=function(){return this._8393};
d.set_BorderColor=function(a){b.pv.s(a);this._8393=a};d.get_IsAntialiasingEnabled=function(){return this._9209};d.set_IsAntialiasingEnabled=function(a){b.pv.b(a);this._9209=a};d.getParams=function(){var b=a.getParams.call(this);b.rotationAngle=this._7256;b.borderColorType=this._3224.valueOf();b.borderColor=this._8393;b.isAntialiasingEnabled=this._9209;return b};d.checkCommandParams=function(a){return 0!==this._7256}};b.extend(sa,f);var ta=function(){var a=ta.superclass;a.constructor.call(this);this._4580=
0;this._8493="rgba(0,0,0,0)";this._9874=new s.WebImageProcessingDirectionEnumJS(1);this._8967([1,2,4,8,9,16,24,32,33,48,64]);var d=ta.prototype;d.get_ActionName=function(){return"Skew"};d.get_Offset=function(){return this._4580};d.set_Offset=function(a){a=parseInt(a);b.pv.n(a);this._4580=a};d.get_BackColor=function(){return this._8493};d.set_BackColor=function(a){b.pv.s(a);this._8493=a};d.get_Direction=function(){return this._9874};d.set_Direction=function(a){a=b.pv.e(a,s.WebImageProcessingDirectionEnumJS);
2<a.valueOf()&&b.pv.te("Direction cannot be horizontal and vertical.");this._9874=a};d.getParams=function(){var b=a.getParams.call(this);b.offset=this._4580;b.backColor=this._8493;b.direction=this._9874.valueOf();return b};d.checkCommandParams=function(b){return a.checkCommandParams.call(this,b)&&0!==this._4580}};b.extend(ta,p);var Da=function(){var a=Da.superclass;a.constructor.call(this);this._332="rgba(0,0,0,0)";this._966=[];this._8967([8,9,16,24,32,33,48,64]);var d=Da.prototype;d.get_ActionName=
function(){return"QuadrilateralWarp"};d.get_BackgroundColor=function(){return this._332};d.set_BackgroundColor=function(a){b.pv.s(a);this._332=a};d.get_DestinationPoints=function(){for(var a=[],b=0;b<this._966.length;b++)a[b]={x:this._966[b].x,y:this._966[b].y};return a};d.set_DestinationPoints=function(a){b.pv.ad(a,b.pv.p);3!==a.length&&4!==a.length&&b.pv.te("Array length is not equal 3 or 4.");a=[].concat(a);3==a.length&&a.push({x:a[2].x+(a[1].x-a[0].x),y:a[1].y+(a[2].y-a[0].y)});if(m._6002._8268(a[0],
a[1],a[3],a[2])){this._966=[];for(var d=0;d<a.length;d++)this._966[d]={x:a[d].x,y:a[d].y}}else b.pv.te("The destination points are not convex.")};d.getParams=function(){var b=a.getParams.call(this);b.backgroundColor=this._332;b.destinationPoints=this._966;return b};d.checkCommandParams=function(d){4!==this._966.length&&b.pv.te("DestinationPoints property has wrong value.");return a.checkCommandParams.call(this,d)}};b.extend(Da,p);var Ea=function(){var a=Ea.superclass;a.constructor.call(this);this._8493=
"rgba(0,0,0,0)";this._3422=new b.WebInterpolationModeEnumJS(7);this._3998=m._6002._3358();this._6004=new m.WebMatrixJS;this._553=!0;this._8967([1,2,4,8,9,14,15,16,24,32,33,48,64]);var d=Ea.prototype;d.get_ActionName=function(){return"MatrixTransform"};d.get_BackColor=function(){return this._8493};d.set_BackColor=function(a){b.pv.s(a);this._8493=a};d.get_CropRect=function(){return $.extend(!0,{},this._3998)};d.set_CropRect=function(a,d,e,f){a=void 0==d?{x:a.x,y:a.y,width:a.width,height:a.height}:{x:a,
y:d,width:e,height:f};b.pv.r(a);0>a.x&&(a.x=0);0>a.y&&(a.y=0);0>a.width&&(a.width=0);0>a.height&&(a.height=0);this._3998=a};d.get_InterpolationMode=function(){return this._3422};d.set_InterpolationMode=function(a){this._3422=b.pv.e(a,b.WebInterpolationModeEnumJS)};d.get_Matrix=function(){return this._6004};d.set_Matrix=function(a){b.pv.c(a,m.WebMatrixJS);this._6004=a};d.get_PreservePixelFormat=function(){return this._553};d.set_PreservePixelFormat=function(a){b.pv.b(a);this._553=a};d.getParams=function(){var b=
a.getParams.call(this);b.backColor=this._8493;b.interpolationMode=this._3422.valueOf();b.cropRect=this._3998;b.matrix=this._6004._8273();b.preservePixelFormat=this._553;return b};d.checkCommandParams=function(b){return a.checkCommandParams.call(this,b)&&!this._6004.compareMatrix(new m.WebMatrixJS)}};b.extend(Ea,f);var Fa=function(){var a=Fa.superclass;a.constructor.call(this);this._4678=new ia;this._7263=this._7013=1;this._6481=this._7082=!0;var d=Fa.prototype;d.get_ActionName=function(){return"ImageScaling"};
d.get_SupportedNativePixelFormats=function(){return this._4678.get_SupportedNativePixelFormats()};d.get_ScaleX=function(){return this._7013};d.set_ScaleX=function(a){b.pv.n(a);0>=a&&b.pv.toe();this._7013=a};d.get_ScaleY=function(){return this._7263};d.set_ScaleY=function(a){b.pv.n(a);0>=a&&b.pv.toe();this._7263=a};d.get_Scale=function(){return this._7013!==this._7263?-1:this._7013};d.set_Scale=function(a){b.pv.n(a);0>=a&&b.pv.toe();this._7263=this._7013=a};d.get_InterpolationMode=function(){return this._4678.get_InterpolationMode()};
d.set_InterpolationMode=function(a){this._4678.set_InterpolationMode(a)};d.getParams=function(){var b=a.getParams.call(this);b.scaleX=this._7013;b.scaleY=this._7263;b.interpolationMode=this._4678._3422.valueOf();return b}};b.extend(Fa,p);var Y=function(){var a=Y.superclass;a.constructor.call(this);this._767=new s.WebColorChannelEnumJS(7);var d=Y.prototype;d.get_ColorChannel=function(){return this._767};d.set_ColorChannel=function(a){this._767=b.pv.e(a,s.WebColorChannelEnumJS)};d.getParams=function(){var b=
a.getParams.call(this);b.colorChannel=this._767.valueOf();return b}};b.extend(Y,p);var D=function(){var a=D.superclass;a.constructor.call(this);this._767=new s.WebColorChannelEnumJS(7);this._6310=3;this._9874=new s.WebImageProcessingDirectionEnumJS(3);this._8967([9,24,33]);var d=D.prototype;d.get_ColorChannel=function(){return this._767};d.set_ColorChannel=function(a){this._767=b.pv.e(a,s.WebColorChannelEnumJS)};d.get_WindowSize=function(){return this._6310};d.set_WindowSize=function(a){a=parseInt(a);
b.pv.n(a);1>a&&(a=1);0===a%2&&b.pv.te("Value must be odd.");this._6310=a};d.get_Direction=function(){return this._9874};d.set_Direction=function(a){this._9874=b.pv.e(a,s.WebImageProcessingDirectionEnumJS)};d.getParams=function(){var b=a.getParams.call(this);b.colorChannel=this._767.valueOf();b.windowSize=this._6310;b.direction=this._9874.valueOf();return b}};b.extend(D,Y);var Ga=function(){Ga.superclass.constructor.call(this);Ga.prototype.get_ActionName=function(){return"Minimum"}};b.extend(Ga,D);
var Ha=function(){Ha.superclass.constructor.call(this);Ha.prototype.get_ActionName=function(){return"Maximum"}};b.extend(Ha,D);var Ia=function(){Ia.superclass.constructor.call(this);Ia.prototype.get_ActionName=function(){return"MidPoint"}};b.extend(Ia,D);var Ja=function(){Ja.superclass.constructor.call(this);Ja.prototype.get_ActionName=function(){return"Mean"}};b.extend(Ja,D);var Ka=function(){Ka.superclass.constructor.call(this);Ka.prototype.get_ActionName=function(){return"Median"}};b.extend(Ka,
D);var Ba=function(){var a=Ba.superclass;a.constructor.call(this);this._6310=3;this._9874=new s.WebImageProcessingDirectionEnumJS(1);this._8967([2,9,24,33]);var d=Ba.prototype;d.get_ActionName=function(){return"Dilate"};d.get_WindowSize=function(){return this._6310};d.set_WindowSize=function(a){a=parseInt(a);b.pv.n(a);1>a&&(a=1);0===a%2&&b.pv.te("Value must be odd.");this._6310=a};d.get_Direction=function(){return this._9874};d.set_Direction=function(a){this._9874=b.pv.e(a,s.WebImageProcessingDirectionEnumJS)};
d.getParams=function(){var b=a.getParams.call(this);b.windowSize=this._6310;b.direction=this._9874.valueOf();return b}};b.extend(Ba,p);var La=function(){La.superclass.constructor.call(this);La.prototype.get_ActionName=function(){return"Erode"}};b.extend(La,Ba);var Ma=function(){var a=Ma.superclass;a.constructor.call(this);this._6310=5;this._8967([9,16,24,32,33,48,64]);var d=Ma.prototype;d.get_ActionName=function(){return"Blur"};d.get_WindowSize=function(){return this._6310};d.set_WindowSize=function(a){a=
parseInt(a);b.pv.n(a);1>a&&(a=1);255<a&&(a=255);0===a%2&&b.pv.te("Value must be odd.");this._6310=a};d.getParams=function(){var b=a.getParams.call(this);b.windowSize=this._6310;return b}};b.extend(Ma,Y);var Na=function(){var a=Na.superclass;a.constructor.call(this);this._6310=5;this._5399=!1;this._2083=.833;this._8967([9,16,24,32,33,48,64]);var d=Na.prototype;d.get_ActionName=function(){return"GaussianBlur"};d.get_WindowSize=function(){return this._6310};d.set_WindowSize=function(a){a=parseInt(a);
b.pv.n(a);3>a&&(a=3);513<a&&(a=513);0===a%2&&b.pv.te("Value must be odd.");this._6310=a};d.get_AutoCalculateSigma=function(){return this._5399};d.set_AutoCalculateSigma=function(a){b.pv.b(a);this._5399=a};d.get_Sigma=function(){return this._2083};d.set_Sigma=function(a){b.pv.n(a);.6>a&&(a=.6);2.4<a&&(a=2.4);this._2083=a};d.getParams=function(){var b=a.getParams.call(this);b.windowSize=this._6310;b.autoCalculateSigma=this._5399;b.sigma=this._2083;return b}};b.extend(Na,Y);var Oa=function(){Oa.superclass.constructor.call(this);
this._8967([9,16,24,32,33,48,64]);Oa.prototype.get_ActionName=function(){return"EdgeDetection"}};b.extend(Oa,Y);var Pa=function(){var a=Pa.superclass;a.constructor.call(this);this._5695=2;this._1877=45;this._8967([9,16,24,32,33,48,64]);var d=Pa.prototype;d.get_ActionName=function(){return"Emboss"};d.get_Depth=function(){return this._5695};d.set_Depth=function(a){a=parseInt(a);b.pv.n(a);1>a&&(a=1);10<a&&(a=10);this._5695=a};d.get_LightDirection=function(){return this._1877};d.set_LightDirection=function(a){a=
parseInt(a);b.pv.n(a);0>a&&(a=0);360<a&&(a=360);this._1877=a};d.getParams=function(){var b=a.getParams.call(this);b.depth=this._5695;b.lightDirection=this._1877;return b}};b.extend(Pa,Y);var Qa=function(){var a=Qa.superclass;a.constructor.call(this);this._6184=1;this._8967([9,16,24,32,33,48,64]);var d=Qa.prototype;d.get_ActionName=function(){return"Sharpen"};d.get_Amount=function(){return this._6184};d.set_Amount=function(a){a=parseInt(a);b.pv.n(a);1>a&&(a=1);10<a&&(a=10);this._6184=a};d.getParams=
function(){var b=a.getParams.call(this);b.amount=this._6184;return b}};b.extend(Qa,Y);var Ra=function(){var a=Ra.superclass;a.constructor.call(this);this._5270=!1;this._7040=!0;this._947=0;this._6743=!1;this._8751=100;this._6534=new s.WebNoiseTypeEnumJS(3);this._3807=this._8240=100;this._8967([1,2,4,8,9,16,24,32,33,48,64]);var d=Ra.prototype;d.get_ActionName=function(){return"AddNoise"};d.get_AutoNoiseGeneration=function(){return this._5270};d.set_AutoNoiseGeneration=function(a){b.pv.b(a);this._5270=
a};d.get_AutoSeedPercentageGeneration=function(){return this._7040};d.set_AutoSeedPercentageGeneration=function(a){b.pv.b(a);this._7040=a};d.get_Mean=function(){return this._947};d.set_Mean=function(a){b.pv.n(a);0>a&&(a=0);100<a&&(a=100);this._947=a};d.get_MonochromaticNoise=function(){return this._6743};d.set_MonochromaticNoise=function(a){b.pv.b(a);this._6743=a};d.get_NoisePercentage=function(){return this._8751};d.set_NoisePercentage=function(a){b.pv.n(a);0>a&&(a=0);100<a&&(a=100);this._8751=a};
d.get_NoiseType=function(){return this._6534};d.set_NoiseType=function(a){this._6534=b.pv.e(a,s.WebNoiseTypeEnumJS)};d.get_SeedPercentage=function(){return this._8240};d.set_SeedPercentage=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);100<a&&(a=100);this._8240=a};d.get_Variance=function(){return this._3807};d.set_Variance=function(a){b.pv.n(a);-1E6>a&&(a=-1E6);1E6<a&&(a=1E6);this._3807=a};d.getParams=function(){var b=a.getParams.call(this);b.autoNoiseGeneration=this._5270;b.autoSeedPercentageGeneration=
this._7040;b.mean=this._947;b.monochromaticNoise=this._6743;b.noisePercentage=this._8751;b.noiseType=this._6534.valueOf();b.seedPercentage=this._8240;b.variance=this._3807;return b}};b.extend(Ra,Y);var Sa=function(){var a=Sa.superclass;a.constructor.call(this);this._1198=3;this._2811=80;this._4199=20;this._8967([9]);var d=Sa.prototype;d.get_ActionName=function(){return"CannyEdgeDetector"};d.get_BlurRadius=function(){return this._1198};d.set_BlurRadius=function(a){a=parseInt(a);b.pv.n(a);1>a&&(a=1);
256<a&&(a=256);this._1198=a};d.get_LowThreshold=function(){return this._4199};d.set_LowThreshold=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);255<a&&(a=255);this._4199=a};d.get_HighThreshold=function(){return this._2811};d.set_HighThreshold=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);255<a&&(a=255);this._2811=a};d.getParams=function(){var b=a.getParams.call(this);b.blurRadius=this._1198;b.highThreshold=this._2811;b.lowThreshold=this._4199;return b}};b.extend(Sa,p);var xa=function(){var a=xa.superclass;
a.constructor.call(this);this._8673=this._10023=.05;this._8967([24,32,33,48,64]);var d=xa.prototype;d.get_ActionName=function(){return"AutoColors"};d.get_LowLimit=function(){return this._10023};d.set_LowLimit=function(a){b.pv.n(a);0>a&&(a=0);100<a&&(a=100);this._10023=a};d.get_HighLimit=function(){return this._8673};d.set_HighLimit=function(a){b.pv.n(a);0>a&&(a=0);100<a&&(a=100);this._8673=a};d.getParams=function(){var b=a.getParams.call(this);b.lowLimit=this._10023;b.highLimit=this._8673;return b}};
b.extend(xa,f);var Ta=function(){Ta.superclass.constructor.call(this);Ta.prototype.get_ActionName=function(){return"AutoContrast"}};b.extend(Ta,xa);var Ua=function(){Ua.superclass.constructor.call(this);Ua.prototype.get_ActionName=function(){return"AutoLevels"}};b.extend(Ua,xa);var Va=function(){var a=Va.superclass;a.constructor.call(this);this._416=-25;this._7552=this._5828=25;this._1523=-25;this._7182=2;this._6262=15;this._8967([9,16,24,32,33,48,64]);var d=Va.prototype;d.get_ActionName=function(){return"BevelEdge"};
d.get_BottomBrightness=function(){return this._416};d.set_BottomBrightness=function(a){a=parseInt(a);b.pv.n(a);-100>a&&(a=-100);100<a&&(a=100);this._416=a};d.get_TopBrightness=function(){return this._5828};d.set_TopBrightness=function(a){a=parseInt(a);b.pv.n(a);-100>a&&(a=-100);100<a&&(a=100);this._5828=a};d.get_LeftBrightness=function(){return this._7552};d.set_LeftBrightness=function(a){a=parseInt(a);b.pv.n(a);-100>a&&(a=-100);100<a&&(a=100);this._7552=a};d.get_RightBrightness=function(){return this._1523};
d.set_RightBrightness=function(a){a=parseInt(a);b.pv.n(a);-100>a&&(a=-100);100<a&&(a=100);this._1523=a};d.get_Smoothness=function(){return this._7182};d.set_Smoothness=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);256<a&&(a=256);this._7182=a};d.get_EdgeSize=function(){return this._6262};d.set_EdgeSize=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);this._6262=a};d.getParams=function(){var b=a.getParams.call(this);b.bottomBrightness=this._416;b.topBrightness=this._5828;b.leftBrightness=this._7552;
b.rightBrightness=this._1523;b.smoothness=this._7182;b.edgeSize=this._6262;return b};d.checkCommandParams=function(b){return a.checkCommandParams.call(this,b)&&!(0===this._416&&0===this._5828&&0===this._7552&&0===this._1523||0===this._6262)}};b.extend(Va,p);var Wa=function(){var a=Wa.superclass;a.constructor.call(this);this._8938="rgba(255,255,255,0)";this._1198=4;this._2790="rgba(0,0,0,1)";this._2332=15;this._1877=45;this._8967([24,32,33,48,64]);var d=Wa.prototype;d.get_ActionName=function(){return"DropShadow"};
d.get_BackColorOfShadow=function(){return this._8938};d.set_BackColorOfShadow=function(a){b.pv.s(a);this._8938=a};d.get_BlurRadius=function(){return this._1198};d.set_BlurRadius=function(a){a=parseInt(a);b.pv.n(a);1>a&&(a=1);256<a&&(a=256);this._1198=a};d.get_Color=function(){return this._2790};d.set_Color=function(a){b.pv.s(a);this._2790=a};d.get_Distance=function(){return this._2332};d.set_Distance=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);this._2332=a};d.get_LightDirection=function(){return this._1877};
d.set_LightDirection=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);360<a&&(a=360);this._1877=a};d.getParams=function(){var b=a.getParams.call(this);b.backColorOfShadow=this._8938;b.blurRadius=this._1198;b.color=this._2790;b.distance=this._2332;b.lightDirection=this._1877;return b}};b.extend(Wa,p);var Xa=function(){var a=Xa.superclass;a.constructor.call(this);this._5695=4;this._7590=45;this._8967([9,16,24,32,33,48,64]);var d=Xa.prototype;d.get_ActionName=function(){return"MotionBlur"};d.get_Depth=
function(){return this._5695};d.set_Depth=function(a){a=parseInt(a);b.pv.n(a);1>a&&(a=1);10<a&&(a=10);this._5695=a};d.get_MotionDirection=function(){return this._7590};d.set_MotionDirection=function(a){a=parseInt(a);b.pv.n(a);0>a&&(a=0);180<a&&(a=180);this._7590=a};d.getParams=function(){var b=a.getParams.call(this);b.depth=this._5695;b.motionDirection=this._7590;return b}};b.extend(Xa,Y);var Ya=function(){var a=Ya.superclass;a.constructor.call(this);this._9168=5;this._8967([24,32,33,48,64]);var d=
Ya.prototype;d.get_ActionName=function(){return"Mosaic"};d.get_TileSize=function(){return this._9168};d.set_TileSize=function(a){a=parseInt(a);b.pv.n(a);1>a&&(a=1);this._9168=a};d.getParams=function(){var b=a.getParams.call(this);b.tileSize=this._9168;return b}};b.extend(Ya,Y);var Za=function(){var a=Za.superclass;a.constructor.call(this);this._8147=50;this._9505=3;this._8967([16,24,32,33,48,64]);var d=Za.prototype;d.get_ActionName=function(){return"OilPainting"};d.get_Radius=function(){return this._9505};
d.set_Radius=function(a){a=parseInt(a);b.pv.n(a);1>a&&(a=1);64<a&&(a=64);this._9505=a};d.get_IntensityLevel=function(){return this._8147};d.set_IntensityLevel=function(a){a=parseInt(a);b.pv.n(a);3>a&&(a=3);255<a&&(a=255);this._8147=a};d.getParams=function(){var b=a.getParams.call(this);b.radius=this._9505;b.intensityLevel=this._8147;return b}};b.extend(Za,p);var $a=function(){var a=$a.superclass;a.constructor.call(this);this._2047=5;this._8967([24,32,33,48,64]);var d=$a.prototype;d.get_ActionName=
function(){return"Pixelate"};d.get_CellSize=function(){return this._2047};d.set_CellSize=function(a){a=parseInt(a);b.pv.n(a);2>a&&(a=2);100<a&&(a=100);this._2047=a};d.getParams=function(){var b=a.getParams.call(this);b.cellSize=this._2047;return b}};b.extend($a,p);var ab=function(){var a=ab.superclass;a.constructor.call(this);this._3615=90;this._7766=70;this._8967([24,32,33,48,64]);var d=ab.prototype;d.get_ActionName=function(){return"RedEyeRemoval"};d.get_Saturation=function(){return this._3615};
d.set_Saturation=function(a){a=parseInt(a);b.pv.n(a);50>a&&(a=50);100<a&&(a=100);this._3615=a};d.get_Tolerance=function(){return this._7766};d.set_Tolerance=function(a){a=parseInt(a);b.pv.n(a);35>a&&(a=35);100<a&&(a=100);this._7766=a};d.getParams=function(){var b=a.getParams.call(this);b.saturation=this._3615;b.tolerance=this._7766;return b}};b.extend(ab,p);var bb=function(){bb.superclass.constructor.call(this);this._8967([24,32,33,48,64]);bb.prototype.get_ActionName=function(){return"Sepia"}};b.extend(bb,
p);var cb=function(){cb.superclass.constructor.call(this);this._8967([24,32,33,48,64]);cb.prototype.get_ActionName=function(){return"Solarize"}};b.extend(cb,p);var db=function(){var a=db.superclass;a.constructor.call(this);this._2697=8;this._7256=30;this._9168=40;this._8967([24,32,33,48,64]);var d=db.prototype;d.get_ActionName=function(){return"TileReflection"};d.get_Curvature=function(){return this._2697};d.set_Curvature=function(a){a=parseInt(a);b.pv.n(a);-20>a&&(a=-20);20<a&&(a=20);this._2697=
a};d.get_RotationAngle=function(){return this._7256};d.set_RotationAngle=function(a){a=parseInt(a);b.pv.n(a);-45>a&&(a=-45);45<a&&(a=45);this._7256=a};d.get_TileSize=function(){return this._9168};d.set_TileSize=function(a){a=parseInt(a);b.pv.n(a);2>a&&(a=2);200<a&&(a=200);this._9168=a};d.getParams=function(){var b=a.getParams.call(this);b.curvature=this._2697;b.rotationAngle=this._7256;b.tileSize=this._9168;return b}};b.extend(db,p);var eb=function(){var a=eb.superclass;a.constructor.call(this);this._7331=
1;this._9505=12;this._8447=new s.WebFrequencyFilterTypeEnumJS(2);this._9597=new s.WebBlendingModeEnumJS(9);this._1554=!0;this._8967([24,32,33,9]);var d=eb.prototype;d.get_ActionName=function(){return"ImageSharpening"};d.get_OverlayAlpha=function(){return this._7331};d.set_OverlayAlpha=function(a){b.pv.n(a);0>a&&(a=0);1<a&&(a=1);this._7331=a};d.get_Radius=function(){return this._9505};d.set_Radius=function(a){b.pv.n(a);0>=a&&b.pv.te("Value must be positive.");this._9505=a};d.get_Filter=function(){return this._8447};
d.set_Filter=function(a){this._8447=b.pv.e(a,s.WebFrequencyFilterTypeEnumJS)};d.get_BlendingMode=function(){return this._9597};d.set_BlendingMode=function(a){this._9597=b.pv.e(a,s.WebBlendingModeEnumJS)};d.get_GrayscaleFiltration=function(){return this._1554};d.set_GrayscaleFiltration=function(a){b.pv.b(a);this._1554=a};d.getParams=function(){var b=a.getParams.call(this);b.overlayAlpha=this._7331;b.radius=this._9505;b.filter=this._8447.valueOf();b.blendingMode=this._9597.valueOf();b.grayscaleFiltration=
this._1554;return b}};b.extend(eb,p);var fb=function(){var a=fb.superclass;a.constructor.call(this);this._7331=1;this._9505=7;this._8447=new s.WebFrequencyFilterTypeEnumJS(2);this._9597=new s.WebBlendingModeEnumJS(0);this._1554=!1;this._8967([24,32,33,9]);var d=fb.prototype;d.get_ActionName=function(){return"ImageSmoothing"};d.get_OverlayAlpha=function(){return this._7331};d.set_OverlayAlpha=function(a){b.pv.n(a);0>a&&(a=0);1<a&&(a=1);this._7331=a};d.get_Radius=function(){return this._9505};d.set_Radius=
function(a){b.pv.n(a);0>=a&&b.pv.te("Value must be positive.");this._9505=a};d.get_Filter=function(){return this._8447};d.set_Filter=function(a){this._8447=b.pv.e(a,s.WebFrequencyFilterTypeEnumJS)};d.get_BlendingMode=function(){return this._9597};d.set_BlendingMode=function(a){this._9597=b.pv.e(a,s.WebBlendingModeEnumJS)};d.get_GrayscaleFiltration=function(){return this._1554};d.set_GrayscaleFiltration=function(a){b.pv.b(a);this._1554=a};d.getParams=function(){var b=a.getParams.call(this);b.overlayAlpha=
this._7331;b.radius=this._9505;b.filter=this._8447.valueOf();b.blendingMode=this._9597.valueOf();b.grayscaleFiltration=this._1554;return b}};b.extend(fb,p);var ya=function(){var a=ya.superclass;a.constructor.call(this);this._7949=.08;this._8967([24,32,33,9]);var d=ya.prototype;d.get_ActionName=function(){b.pv.tne()};d.get_CutoffFrequency=function(){return this._7949};d.set_CutoffFrequency=function(a){b.pv.n(a);0>=a&&b.pv.te("Value must be positive.");this._7949=a};d.getParams=function(){var b=a.getParams.call(this);
b.cutoffFrequency=this._7949;return b}};b.extend(ya,p);var gb=function(){gb.superclass.constructor.call(this);gb.prototype.get_ActionName=function(){return"IdealHighpass"}};b.extend(gb,ya);var hb=function(){hb.superclass.constructor.call(this);hb.prototype.get_ActionName=function(){return"GaussianHighpass"}};b.extend(hb,ya);var ib=function(){var a=ib.superclass;a.constructor.call(this);this._2267=2;var d=ib.prototype;d.get_ActionName=function(){return"ButterworthHighpass"};d.get_Order=function(){return this._2267};
d.set_Order=function(a){b.pv.n(a);0>=a&&b.pv.te("Value must be positive.");this._2267=a};d.getParams=function(){var b=a.getParams.call(this);b.order=this._2267;return b}};b.extend(ib,ya);var za=function(){var a=za.superclass;a.constructor.call(this);this._7949=.14;this._8967([24,32,33,9]);var d=za.prototype;d.get_ActionName=function(){b.pv.tne()};d.get_CutoffFrequency=function(){return this._7949};d.set_CutoffFrequency=function(a){b.pv.n(a);0>=a&&b.pv.te("Value must be positive.");this._7949=a};d.getParams=
function(){var b=a.getParams.call(this);b.cutoffFrequency=this._7949;return b}};b.extend(za,p);var jb=function(){jb.superclass.constructor.call(this);jb.prototype.get_ActionName=function(){return"IdealLowpass"}};b.extend(jb,za);var kb=function(){kb.superclass.constructor.call(this);kb.prototype.get_ActionName=function(){return"GaussianLowpass"}};b.extend(kb,za);var lb=function(){var a=lb.superclass;a.constructor.call(this);this._2267=2;var d=lb.prototype;d.get_ActionName=function(){return"ButterworthLowpass"};
d.get_Order=function(){return this._2267};d.set_Order=function(a){b.pv.n(a);0>=a&&b.pv.te("Value must be positive.");this._2267=a};d.getParams=function(){var b=a.getParams.call(this);b.order=this._2267;return b}};b.extend(lb,za);g.WebColorBaseJS=e;g.WebColorSphereJS=a;g.WebColorReplaceSphereJS=h;g.WebChannelRemapSettings=d;g.WebImageProcessingCommandBaseJS=k;g.WebImageProcessingCommandWithSourceChangeJS=f;g.WebImageProcessingCommandWithRegionJS=w;g.WebImageProcessingCommandWithRegionAndSourceChangeJS=
p;g.WebBinarizeCommandJS=l;g.WebChangePixelFormatCommandJS=T;g.WebChangePixelFormatToBgrCommandJS=fa;g.WebChangePixelFormatToBlackWhiteCommandJS=I;g.WebChangePixelFormatToGrayscaleCommandJS=ba;g.WebChangePixelFormatToPaletteCommandJS=ja;g.WebClearCommandJS=ga;g.WebCropCommandJS=M;g.WebResampleCommandJS=X;g.WebResizeCommandJS=ia;g.WebResizeCanvasCommandJS=N;g.WebOverlayCommandJS=la;g.WebOverlayMaskedCommandJS=ma;g.WebOverlayWithBlendingCommandJS=ha;g.WebFillRectangleCommandJS=n;g.WebImageComparisonCommandJS=
J;g.WebDrawImageCommandJS=Z;g.WebGetBackgroundColorCommandJS=wa;g.WebGetBorderColorCommandJS=ka;g.WebGetColorCountCommandJS=q;g.WebGetHistogramCommandJS=U;g.WebGetThresholdCommandJS=t;g.WebIsImageBlankCommandJS=aa;g.WebHasCertainColorCommandJS=C;g.WebGetUniqueColorCommandJS=ca;g.WebIsImageBlackWhiteCommandJS=na;g.WebIsImageGrayscaleCommandJS=oa;g.WebGetImageColorDepthCommandJS=pa;g.WebGetBorderRectCommandJS=qa;g.WebFlipCommandJS=ra;g.WebRotateCommandJS=sa;g.WebSkewCommandJS=ta;g.WebQuadrilateralWarpCommandJS=
Da;g.WebMatrixTransformCommandJS=Ea;g.WebImageScalingCommandJS=Fa;g.WebChangeBrightnessCommandJS=u;g.WebChangeBrightnessContrastCommandJS=r;g.WebChangeContrastCommandJS=B;g.WebChangeGammaCommandJS=z;g.WebChangeHSLCommandJS=v;g.WebColorBlendCommandJS=x;g.WebColorBlend16CommandJS=y;g.WebCurvesCommandJS=R;g.WebCurves16CommandJS=Q;g.WebDesaturateCommandJS=E;g.WebGetAlphaChannelMaskCommandJS=F;g.WebHalftoneCommandJS=G;g.WebInvertCommandJS=A;g.WebLevelsCommandJS=H;g.WebPosterizeCommandJS=O;g.WebRemapColorsCommandJS=
S;g.WebRemapColors16CommandJS=P;g.WebReplaceColorCommandJS=da;g.WebSetAlphaChannelMaskCommandJS=V;g.WebSetAlphaChannelValueCommandJS=ea;g.WebMinimumCommandJS=Ga;g.WebMaximumCommandJS=Ha;g.WebMidPointCommandJS=Ia;g.WebMeanCommandJS=Ja;g.WebMedianCommandJS=Ka;g.WebDilateCommandJS=Ba;g.WebErodeCommandJS=La;g.WebBlurCommandJS=Ma;g.WebGaussianBlurCommandJS=Na;g.WebEdgeDetectionCommandJS=Oa;g.WebEmbossCommandJS=Pa;g.WebSharpenCommandJS=Qa;g.WebAddNoiseCommandJS=Ra;g.WebCannyEdgeDetectorCommandJS=Sa;g.WebAutoColorsCommandJS=
xa;g.WebAutoContrastCommandJS=Ta;g.WebAutoLevelsCommandJS=Ua;g.WebBevelEdgeCommandJS=Va;g.WebDropShadowCommandJS=Wa;g.WebMotionBlurCommandJS=Xa;g.WebMosaicCommandJS=Ya;g.WebOilPaintingCommandJS=Za;g.WebPixelateCommandJS=$a;g.WebRedEyeRemovalCommandJS=ab;g.WebSepiaCommandJS=bb;g.WebSolarizeCommandJS=cb;g.WebTileReflectionCommandJS=db;g.WebImageSharpeningCommandJS=eb;g.WebImageSmoothingCommandJS=fb;g.WebIdealHighpassCommandJS=gb;g.WebGaussianHighpassCommandJS=hb;g.WebButterworthHighpassCommandJS=ib;
g.WebIdealLowpassCommandJS=jb;g.WebGaussianLowpassCommandJS=kb;g.WebButterworthLowpassCommandJS=lb})(r.ImageProcessing);var na=function(g,e){var a=na.prototype;a.get_ActionSource=function(){return this._3760};a.get_IsValid=function(){return!0};a.get_Source=function(){return this._10014};a.get_SourceItems=function(){};a.get_CurrentState=function(){return this._8668};a.set_CurrentState=function(a){this._8668=a};a.dispose=function(){void 0!=this._8668&&b.pv.isf(this._8668.dispose)&&this._8668.dispose()};
a.toString=function(){return void 0==this._10014?"":void 0==this._3760?this._10014.toString()+" (original)":this._10014.toString()+": "+this._3760};a.undo=function(){b.pv.tne()};a._9522=function(a){this._10014=a};a._253=function(a,b){if(void 0!=this._6279)for(var e=Math.min(a.length,b.length),f=0;f<e;f++)this._2562(a[f],b[f])};a._2562=function(a,b){};a._594=function(a){this._8668=a};this._3760=e;this._10014=g;this._8668;this._6279;this._9301=b.WebImagingEnviromentJS.guid()},O=function(b){var e=O.superclass;
e.constructor.call(this,void 0,b);b=O.prototype;b.toString=function(){return void 0==this._3760?e.toString.call(this):this._3760.toString()};b.undo=function(){}};b.extend(O,na);var z=function(g){var e=z.superclass;e.constructor.call(this,g);var a=z.prototype;a.get_IsValid=function(){if(0==this._3561.length)return!0;for(var a=0;a<this._3561.length;a++)if(this._3561[a].get_IsValid())return!0;return!1};a.getActions=function(){this._4017();return this._3561};a.dispose=function(){e.dispose.call(this);
for(var a=0;a<this._3561.length;a++)this._3561[a].dispose()};a.toString=function(){return void 0!=this._3760?this._3760.toString():e.toString.call(this)};a.undo=function(){};a._6156=function(a){this._4017();if(void 0==a){if(0!==this._3561.length)return a=this._3561[this._3561.length-1],b.pv.ic(a,z)&&(a=a._6156()),a}else for(var d=this._3561.length-1;0<=d;d--)if(b.pv.ic(this._3561[d],z)){var e=this._3561[d]._6156(a);if(void 0!=e)return e}else if(this._3561[d]._10014==a)return this._3561[d]};a._8853=
function(a,b){this._4017();if(0<this._3561.length){var e=this._3561[this._3561.length-1];if(e._10014==a._10014&&void 0!=b){var f=b.clone();e._594(f)}}void 0!=a&&void 0==a._8668&&void 0!=a._10014&&(f=a._10014.clone(),a._594(f));this._3561.push(a)};a._4591=function(a){this._4017();for(var d=0;d<this._3561.length;d++)if(b.pv.ic(this._3561[d],z)){if(this._3561[d]._4591(a))return!0}else if(this._3561[d]==a)return!0;return!1};a._9082=function(){var a=[];this._4017();for(var d=0;d<this._3561.length;d++)b.pv.ic(this._3561[d],
z)?a.addRange(this._3561[d]._9082()):a.push(this._3561[d]);return a};a._4017=function(){for(var a=this._3561.length-1;0<=a;a--)this._3561[a].get_IsValid()||this._3561.splice(a,1)};this._3561=[];this._3760=g;this._10014=void 0};b.extend(z,na);var Q=function(){function g(a,e){for(var d=0;d<a._3561.length;d++){var k=a._3561[d];if(k===e||b.pv.ic(k,z)&&g(k,e))return!0}return!1}var e=Q.prototype;e.changing=function(a,b){};e.changed=function(a,b){};e.navigated=function(a,b){};e.get_IsInitializing=function(){return 0!=
this._9065};e.get_IsCompositeActionStarted=function(){return 0!==this._8618.length};e.get_IsEnabled=function(){return this._5725};e.set_IsEnabled=function(a){b.pv.b(a);(this._5725=a)&&this._4017()};e.get_UndoLevel=function(){return this._441-1};e.set_UndoLevel=function(a){b.pv.n(a);1>a&&b.pv.te("Undo level cannot be less than 1.");a+=1;if(this._441>a){var e=Math.min(this._441,this._3561.length)-a;if(0<e){var d=this._5098,g=[],f=[];if(0<this._3561.length-this._5098){for(var w=Math.min(this._3561.length-
this._5098-1,e),p=this._3561.length-w,l=0;l<w;l++)f.push(p+l),g.push(this._3561[p+l]);e-=w}if(0<e){for(l=0;l<e;l++)f.push(l),g.push(this._3561[l]);d-=e}e={type:"removeActions",actions:[].concat(g)};this._1246(e);for(l=f.length-1;0<=l;l--)p=f[l],this._3561[p].dispose(),this._3561.splice(p,1);this._5098=d;d={type:"removeActions",actions:[].concat(g)};this._3672(d)}}this._441=a};e.get_UndoCount=function(){var a=this.get_CurrentActionIndex();return 1>a?0:a};e.get_UndoDescription=function(){var a=this.get_CurrentActionIndex();
return 0==this.get_UndoCount()||-1==a?"":this._3561[a].toString()};e.get_RedoCount=function(){this._4017();return this._3561.length-this._5098-1};e.get_RedoDescription=function(){var a=this.get_CurrentActionIndex();return 0==this.get_RedoCount()||-1==a?"":this._3561[a+1].toString()};e.get_CurrentActionIndex=function(){this._4017();return this._5098};e.set_CurrentActionIndex=function(a){this._5725&&!this.get_IsInitializing()&&(this._4017(),0>a&&b.pv.te("Index of current undo action cannot be less than 0."),
a>this._3561.length&&b.pv.te("Index of current undo action cannot be greater than "+this._3561.length+"."),this.set_CurrentAction(this._3561[a]))};e.get_CurrentAction=function(){var a=this.get_CurrentActionIndex();return-1==a?void 0:this._3561[a]};e.set_CurrentAction=function(a){if(this._5725&&!this.get_IsInitializing()&&a.get_IsValid()){this._4017();var b=this._5098;this._8411(a);this._5098=this._3561.indexOf(a);this._3439(this._5098-b)}};e._5339=function(){return this._9301};e._2866=function(){this._4017();
return 0==this.get_UndoCount()||-1==this._5098?void 0:this._3561[this._5098-1]};e._7679=function(){return this._3561.length};e.beginInit=function(){this._9065++};e.endInit=function(){0==this._9065&&b.pv.te("Invalid operation exception.");this._9065--};e.containsActionForSourceObject=function(a){for(var e=Math.min(this._5098+1,this._3561.length),d=0;d<e;d++){var g=this._3561[d];if(b.pv.ic(g,z)){if(void 0!=g._6156(a))return!0}else if(this._3561[d]._10014==a)return!0}if(0<this._8618.length)for(d=0;d<
this._8618.length;d++)if(void 0!=this._8618[d]._6156(a))return!0;return!1};e.beginCompositeAction=function(a){a=new z(a);a._9522();this._8618.push(a)};e.endCompositeAction=function(){0==this._8618.length&&b.pv.te("Composite action stack length cannot be 0.");var a=this._8618.pop();0<a._3561.length&&(0===this._8618.length&&0===this._3561.length&&this.addAction(new O(a.toString()+" (original)")),this.addAction(a,void 0))};e.removeCompositeAction=function(){0!=this._8618.length&&this._8618.pop()};e.addAction=
function(a,e){if(!this._5725||this.get_IsInitializing())void 0!=a&&a.dispose();else if(void 0==a&&b.pv.te("UndoAction parameter cannot be undefined."),a.get_IsValid())if(0<this._8618.length)this._8618[this._8618.length-1]._8853(a,e);else{this._1246({type:"addActions",actions:[a]});this.beginInit();this.removeRedoActions();if(-1!=this._5098){var d=this._3561[this._5098];if(d._10014==a._10014&&void 0!=e){var g=e.clone();d._594(g)}}void 0!=a&&void 0==a._8668&&void 0!=a._10014&&(g=a._10014.clone(),a._594(g));
this._3561.push(a);this._3561.length>this._441&&this.removeFirstAction();this._5098=this._3561.length-1;this.endInit();this._4017();this._3672({type:"addActions",actions:[a]});this._3439(1)}else a.dispose()};e.removeRedoActions=function(){if(this._5725&&this._5098<this._3561.length-1){for(var a=[],b=[],d=this._3561.length,e=this._5098+1;e<d;e++)b.push(e),a.push(this._3561[e]);if(0<a.length){e={type:"removeActions",actions:[].concat(a)};this._1246(e);for(e=b.length-1;0<=e;e--)d=b[e],this._3561[d].dispose(),
this._3561.splice(d,1);a={type:"removeActions",actions:[].concat(a)};this._3672(a)}}};e.removeFirstAction=function(){if(this._5725&&0!=this._3561.length){var a=this._3561[0];this._1246({type:"removeActions",actions:[a]});this._3561.splice(0,1);a.dispose();this._3672({type:"removeActions",actions:[a]})}};e.undo=function(a){this._5378(-Math.abs(a))};e.redo=function(a){this._5378(Math.abs(a))};e.getActions=function(){this._4017();return this._3561};e.clear=function(){this._5725&&this._6608(!0)};e.dispose=
function(){this._6608(!1);this._3628=void 0};e._185=function(a,b,d,e){var f=this._1826();if(0!==f.length){for(var g=0;g<f.length;g++)this._4070(f[g],a,d);if(void 0!=b&&void 0!=e)for(a=Math.min(b.length,e.length),g=0;g<a;g++)for(d=0;d<f.length;d++)this._4070(f[d],b[g],e[g])}};e._4904=function(a){this._3628=a};e._2370=function(a){for(var b=!0,d=0;d<a.length;d++)b&=this._7920(a[d]);return b};e._7920=function(a){if(void 0==a)return!1;var b=this._3561.indexOf(a);if(-1==b)return!1;-1!=this._5098&&b<=this._5098&&
this._5098--;return this._3561.splice(b,1)?(a.dispose(),!0):!1};e._5260=function(a,b){var d=a._6279;return void 0==d||-1===d.indexOf(b)?!1:!0};e._9307=function(a,e){for(var d=-1,k=0;k<this._3561.length;k++){var f=this._3561[k];if(f===a){d=k;break}else if(b.pv.ic(f,z)&&g(f,a)){d=k;break}}return-1==d?!0:0==d?e:this.get_CurrentActionIndex()>=d?!1:!0};e._4017=function(){if(!this.get_IsInitializing()&&this._5725){for(var a=[],b=this._5098,d=this._3561.length-1;0<=d;d--){var e=this._3561[d];e.get_IsValid()||
(a.push(e),b>=d&&b--)}0<a.length&&([].concat(a),this.beginInit(),this._2370(a),this._5098=b,this.endInit(),a={type:"removeActions",actions:[].concat(a)},this._3672(a))}};e._8411=function(a){this.beginInit();try{b.pv.ic(a,z)&&(a=a._6156());var e=this.get_CurrentAction();if(b.pv.ic(e,z)){var d=e,e=d._6156();void 0==e&&(e=d)}var g=this._1826();a.get_IsValid()||b.pv.te("Invalid action.");-1==g.indexOf(a)&&b.pv.te("Action is not found.");this._980(e,a);var f=a._10014,w=a._6279;a.undo();var p=a._10014,
l=a._6279;void 0==this._3628?this._185(f,w,p,l):this._3628._185(f,w,p,l);this._5098=this._3561.indexOf(a)}finally{this.endInit()}};e._980=function(a,b){if(!this._6752){this._6752=!0;var d=this._1826(),e=d.indexOf(a),f=d.indexOf(b),g=Math.max(e,f),p=Math.min(e,f);if(1<g-p){for(var l=[],m=!1;g>=p;g--){var m=!1,s=d[g];if(s._10014!=b._10014){for(var r=0;r<l.length;r++){var z=l[r];if(z._10014==s._10014){m=!0;break}}m||l.push(s)}}if(0<l.length)if(e>f){z=l;l=[];for(g=0;g<z.length;g++){m=z[g]._10014;for(r=
p-1;0<=r;r--)if(m==d[r]._10014){l.push(d[r]);break}for(r=p;r<d.length;r++)if(m==d[r]._10014){l.push(d[r]);break}}if(0==l.length)for(g=0;g<z.length;g++)for(r=0;r<d.length;r++)if(z[g]._10014==d[r]._10014){l.push(d[r]);break}for(g=l.length-1;0<=g;g--)if(void 0!=l[g]._6279)for(this._8411(l[g]),r=0;r<l[g]._6279.length;r++)p=l[g]._6279[r],p=this._4027(d,e,p),void 0!=p&&this._8411(p);for(g=l.length-1;0<=g;g--)void 0==l[g]._6279&&this._8411(l[g])}else{for(g=0;g<l.length;g++)void 0!=l[g]._6279&&this._8411(l[g]);
for(g=0;g<l.length;g++)void 0==l[g]._6279&&this._8411(l[g])}}if(1==e-f&&a._10014!=b._10014&&(z=this._4027(d,e,a._10014),void 0!=z&&(this._8411(z),void 0!=z._6279)))for(g=0;g<z._6279.length;g++)p=z._6279[g],p=this._4027(d,e,p),void 0!=p&&this._8411(p);this._6752=!1}};e._5378=function(a){this._5725&&!this.get_IsInitializing()&&0!=a&&(this._4017(),a=Math.min(Math.max(this.get_CurrentActionIndex()+a,0),this._3561.length-1),this.set_CurrentAction(this._3561[a]))};e._4070=function(a,e,d){var g=!1;if(b.pv.ic(a,
z))for(var f=0;f<a._3561.length;f++)g|=this._4070(a._3561[f],e,d);a._10014===e&&(a._9522(d),g=!0);this._5260(a,e)&&(a._2562(e,d),g=!0);return g};e._6608=function(a){var b;a&&(b={type:"clearActions",actions:[].concat(this._3561)},this._1246(b),b={type:"clearActions",actions:[].concat(this._3561)});for(var d=0;d<this._3561.length;d++)this._3561[d].dispose();this._3561=[];this._5098=-1;a&&this._3672(b)};e._4027=function(a,e,d){for(--e;0<=e;e--){var g=a[e];if(b.pv.ic(g,z)){if(g=g._6156(d),void 0!=g)return g}else if(g._10014==
d)return g}};e._1826=function(){for(var a=[],e=0;e<this._3561.length;e++)a[e]=this._3561[e];for(e=0;e<a.length;e++)if(b.pv.ic(a[e],z)){var d=a[e];a.splice(e,1);for(var d=d._9082(),g=e,f=0;f<d.length;f++)a.splice(g,0,d[f]),g++;e+=d.length-1}return a};e._1246=function(a){$(this).triggerHandler("changing",a)};e._3672=function(a){$(this).triggerHandler("changed",a)};e._3439=function(a){$(this).triggerHandler("navigated",a)};this._9301=b.WebImagingEnviromentJS.guid();this._5725=!0;this._441=6;this._5098=
-1;this._3561=[];this._9065=0;this._6752=!1;this._8618=[];this._3628;delete e.changing;delete e.changed;delete e.navigated},ub=function(b,e,a){this._8113=b;this._8238=e;this._6098=a},pb=function(){var g=pb.prototype;g._4547=function(b,a){};g._10015=function(e){this._2445(e);b.pv.ic(e,z)&&void 0!=this._5338[e._9301]&&this._149(e,!0);this._4003()};g._7920=function(e){if(-1!==this._2502.indexOf(e))b.pv.ic(e,z)&&delete this._5338[e._9301],this._1260(e),void 0!=this._6244[e._9301]&&(this._6244[e._9301]._8113._7920(e),
delete this._6244[e._9301]),b.pv.ic(e,z)&&this._149(e,!1),this._4003();else{var a=this._2921[e._9301];void 0!=a&&(delete this._2921[e._9301],a._3561.splice(a._3561.indexOf(e),1),delete this._6244[e._9301],0==a._3561.length&&this._7920(a))}};g._414=function(b){for(var a=[],g=0;g<this._2502.length;g++)for(var d=this._2502[g],k=0;k<b.length;k++)if(this._8676(d,b[k])){a.push(d);break}return this._906(a)};g._8676=function(e,a){if(b.pv.ic(e,z)&&void 0!=this._5338[e._9301])for(var g=0;g<e._3561.length;g++){if(this._8676(e._3561[g],
a))return!0}else if(g=this._6244[e._9301],void 0!=g&&g._8113===a)return!0;return!1};g._7477=function(b,a){var g=new ub(a,a._2866(),a.get_CurrentAction());this._6244[b._9301]=g};g._4916=function(b){this._5338[b._9301]=!1};g._2445=function(b){this._2502.push(b)};g._1260=function(b){this._2502.splice(this._2502.indexOf(b),1)};g._5111=function(b){var a=[];this._1059(a,b);return a};g._1059=function(e,a){var g=b.pv.ic(a,z);if(!g||g&&void 0==this._5338[a._9301])e.push(this._6244[a._9301]);else for(g=0;g<
a._3561.length;g++)this._1059(e,a._3561[g])};g._8396=function(e,a){for(var g=0;g<a.length;g++){var d=a[g];if(b.pv.ic(d,z)){if(this._8396(e,d._3561))return!0}else if(this._6244[d._9301]._8113===e)return!0}return!1};g._908=function(e){if(0!=e.length){for(var a=e.length-1;0<=a;a--){var g=e[a];if(void 0!=this._5338[g._9301]){if(!this._9307(g,!0))return g}else{var d=this._6244[g._9301];if(void 0!=d){if(!d._8113._9307(g,!0))return g}else if(b.pv.ic(g,z)&&!this._9307(g,!0))return g}}return e[0]}};g._721=
function(){this._2502=[];this._2921={};this._6244={}};g._9307=function(e,a){if(b.pv.ic(e,z)&&void 0!=this._5338[e._9301]){for(var g=0;g<e._3561.length;g++){var d=e._3561[g];if(b.pv.ic(d,z)){if(!this._9307(d,a))return!1}else{var k=this._6244[d._9301];if(void 0!=k&&!k._8113._9307(d,a))return!1}}return!0}return this._6244[e._9301]._8113._9307(e,a)?!0:!1};g._6822=function(b){if(-1!==this._2502.indexOf(b))return b;b=this._2921[b._9301];if(void 0!=b)return this._6822(b)};g._149=function(e,a){for(var g=
0;g<e._3561.length;g++){var d=e._3561[g];a?this._2921[d._9301]=e:(delete this._2921[d._9301],delete this._6244[d._9301]);b.pv.ic(d,z)&&this._149(d,a)}};g._906=function(e){for(var a=[].concat(e),g=[],d={},k=0;k<e.length;k++){var f=this._7652(e[k]);this._593(g,f);if(b.pv.ic(e[k],z))for(f=-1;f!=g.length;)for(var f=g.length,m=0;m<this._2502.length;m++)if(-1===a.indexOf(this._2502[m])){var p=d[this._2502[m]._9301];void 0==p&&(p=this._7652(this._2502[m]),d[this._2502[m]._9301]=p);this._1743(g,p)&&a.push(this._2502[m])}}if(a.length==
e.length)return e;e=[];for(k=0;k<a.length;k++)g=this._2502.indexOf(a[k]),e[g]=a[k];return e};g._7652=function(e){if(b.pv.ic(e,z)){for(var a=[],g=0;g<e._3561.length;g++){var d=this._7652(e._3561[g]);this._593(a,d)}return a}a=[];void 0!=e._10014&&a.push(e._10014);return a};g._593=function(b,a){for(var g=0;g<a.length;g++){var d=a[g];-1===b.indexOf(d)&&b.push(d)}};g._1743=function(b,a){for(var g=0;g<a.length;g++)if(-1!==b.indexOf(a[g]))return this._593(b,a),!0;return!1};g._4003=function(){$(this).triggerHandler("_4547")};
this._2502=[];this._6244={};this._2921={};this._5338={};delete g._4547},qb=function(g){function e(a,e){var f=a._9301;$(e).on("changing."+f,function(b,f){if(a._5725){if(!a._2114&&a._4534()&&"addActions"===f.type&&0==e._7679()){a._2114=!0;if(0!=a._8199().length){var g=new O(f.actions[0].toString()+" (original)");e.addAction(g)}else a._711=!0,g=new O(a._5301),e.addAction(g),a._711=!1;a._2114=!1}!a._4534()&&a._9487(e)&&void 0==a._3269&&a._1246(f)}});$(e).on("changed."+f,function(f,g){if(a._5725){var h=
g.actions;if("addActions"!=g.type||1!=h.length||!b.pv.ic(h[0],O)||a._711){switch(g.type){case "addActions":for(var m=0;m<h.length;m++)a._10015(h[m],e);break;case "removeActions":case "clearActions":for(m=0;m<h.length;m++)a._7920(h[m])}if(a._9487(e)){if("addActions"===g.type)for(var r=a._8199(),m=h.length-1;0<=m;m--)-1===r.indexOf(h[m])&&h.splice(m,1);0<h.length&&(void 0==a._3269?a._3672(g):a._3269=a._3269.concat(h))}}}})}var a=qb.prototype;a.changing=function(a,b){};a.changed=function(a,b){};a.navigated=
function(a,b){};a._423=function(){return this._9800};a._3111=function(a){if(this._9800!=a){this._9800=a;this._3561=void 0;a=this._8199();var b=this._9414._908(a);this._5098=a.indexOf(b);if(this._441<a.length)for(this._4200(!1),a=this._8199().length-this._441;0<a;)this._2809(!1),a--}};a._8199=function(){this._4017();void 0==this._3561&&(this._3561=this._8353());return this._3561};a._6787=function(){var a=this._5021();return-1==a?void 0:this._8199()[a]};a._5852=function(a){a=this._8199().indexOf(a);
this._4143(a)};a._5021=function(){this._4017();return this._5098};a._4143=function(a){(0>a||a>this._8199().length)&&b.pv.toe();this._1625(a-this._5021())};a._6234=function(){var a=this._5021();return 1>a?0:a};a._6006=function(){var a=this._5021(),b=this._8199();return 0==this._6234()||-1==a||a>=b.length?"":b[a].toString()};a._6618=function(){return this._8199().length-this._5021()-1};a._4329=function(){var a=this._5021(),b=this._8199();return 0==this._6618()||-1==a||a>=b.length?"":b[a+1].toString()};
a._5414=function(){return this._5725};a._7484=function(a){this._5725=a};a._4534=function(){return this._711?!1:0!=this._2591.length};a._4054=function(){return this._441};a._4924=function(a){var b=a+1;this._441>b&&this._4242(b,!0);this._441=a+1};a._4242=function(a,b){var e=[].concat(this._7758),g=this._8353(!1,e),h=this._8353(!0,e),l=g.indexOf(this._6787()),m=h.length-a;if(0<m){for(var e=[],r=g.length-1;0<m&&r>l;){var s=g[r--];e.push(s);-1!==h.indexOf(s)&&m--}if(0<m){for(r=0;0<m&&r<=l;)s=g[r++],e.push(s),
-1!==h.indexOf(s)&&m--;if(-1===h.indexOf(g[r]))for(;-1===!h.indexOf(g[r])&&r<=l;)e.push(g[r++])}b&&this._1246({type:"removeActions",actions:e});for(g=0;g<e.length;g++)this._7920(e[g]);b&&this._3672({type:"removeActions",actions:e})}};a._202=function(a){e(this,a);this._7758.push(a)};a._5321=function(a){var b=this._9301;$(a).off("."+b);this._1889(a);this._7758.splice(this._7758.indexOf(a),1)};a._2458=function(a){this._5725&&this._1625(-Math.abs(a))};a._1109=function(a){this._5725&&this._1625(Math.abs(a))};
a._2809=function(a){for(var b=this._8353(!1,this._9800),e=this._8353(!0,this._9800),g=b.indexOf(this._6787()),h=[],l=0;l<b.length;){var m=b[l++];h.push(m);if(-1!==e.indexOf(m))break}if(-1===e.indexOf(b[l]))for(;-1===e.indexOf(b[l])&&l<=g;)h.push(b[l++]);a&&(b={type:"removeActions",actions:[].concat(h)},this._1246(b));for(b=0;b<h.length;b++)this._7920(h[b]);a&&(a={type:"removeActions",actions:[].concat(h)},this._3672(a))};a._4200=function(a){var b=this._6787();if(!this._5725||void 0==b)return[];var e=
this._5021(),g=this._8199();if(e==g.length-1)return[];for(var b=[],h=g.length-1;h>e;h--)b.push(g[h]);a&&(e={type:"removeActions",actions:[].concat(b)},this._1246(e));for(h=0;h<b.length;h++)this._9414._7920(b[h]);this._8199();this._7689();for(h=0;h<this._9800.length;h++)this._9800[h].removeRedoActions();this._4209();a&&(e={type:"removeActions",actions:[].concat(b)},this._3672(e));return b};a._911=function(a,e,f){1===arguments.length&&(f=a,a=this._8199(),e=Math.min(this._5021()+1,a.length));for(var g=
0;g<e;g++){var h=a[g];if(b.pv.ic(h,z)){if(void 0!=h._6156(f))return!0}else if(a[g]._10014==f)return!0}return!1};a._627=function(){for(var a={},b=this._8199(),e=Math.min(this._5021()+1,b.length),g=0;g<e;g++)for(var h=b[g],l=0;l<this._9800.length;l++){var m=this._9800[l];if(this._9414._8676(h,m)){l=a[m._9301];void 0==l&&(l=[],a[m._9301]=l);l.push(h);break}}return a};a._7689=function(){void 0==this._3269&&(this._3269=[])};a._4209=function(){if(void 0==this._3269)return[];var a=[].concat(this._3269);
this._3269=void 0;return a};a._5228=function(a){a=new z(a);a._9522();0==this._2591.length&&(this._5301=a.toString()+" (original)");this._2591.push(a)};a._3163=function(a){0==this._2591.length&&b.pv.te("The undo manager does not have composite action.");var e=this._2591[0];this._2591.splice(0,1);0<e.getActions().length&&(0==this._2591.length&&this._1246({type:"addActions",actions:[e]}),this._9414._4916(e),this._10015(e,a),0==this._2591.length&&this._3672({type:"addActions",actions:[e]}))};a._9007=
function(){if(0!==this._2591.length){var a=this._2591[0];this._2591.splice(0,1);this._7920(a)}};a._4017=function(){if(void 0!=this._9800&&0<this._9800.length)for(var a=0;a<this._9800.length;a++)this._9800[a]._4017()};a._10015=function(a,b){if(this._5725)if(a.get_IsValid())if(this._4534())this._9414._7477(a,b),this._2591[this._2591.length-1].getActions().push(a);else{if(this._4200(!0),this._9414._7477(a,b),this._9414._10015(a),this._83(),this._8199().length>this._441&&this._2809(!0),this._9487(b)){var e=
this._8199().indexOf(a);-1!==e&&(this._5098=e)}}else a.dispose()};a._83=function(){for(var a=0;a<this._7758.length;a++){var b=this._7758[a];this._9487(b)||0===b.get_CurrentActionIndex()&&b.clear()}};a._9487=function(a){return void 0==this._9800||void 0==a?!1:-1!==this._9800.indexOf(a)};a._7920=function(a){var b=this._8199(),e=b.indexOf(a);-1===e&&(a=this._9414._6822(a));if(void 0!=a){var g=b.length,h=this._6787();this._9414._7920(a);b=this._8199();g!=b.length?-1!=e&&e<=this._5098&&(this._5098-=g-
b.length):void 0!=h&&(-1!==!b.indexOf(h)&&(h=this._9414._6822(h)),this._5098=b.indexOf(h))}};a._1889=function(a){if(this._5725){a=this._9414._414([a]);for(var b=0;b<a.length;b++)this._7920(a[b])}};a._1625=function(a){for(var b=0;b<this._9800.length;b++)if(this._9800[b].get_IsInitializing())return;var e=this._8199();if(0!=a&&0!=e.length){for(var g=Math.abs(a),b=this._5021();0<g&&!(0>b||b>=e.length);){if(0>a){var h=e[b];this._8411(h);b--}else h=b+1,h>=e.length&&(h=e.length-1),h=e[h],this._9947(h),b++;
g--}a=b-this._5098;this._5098=b;this._3439(a)}};a._8411=function(a){a=this._9414._5111(a);for(var b=a.length-1;0<=b;b--){var e=a[b];void 0!=e._8238&&e._8113.set_CurrentAction(e._8238)}};a._9947=function(a){a=this._9414._5111(a);for(var b=0;b<a.length;b++){var e=a[b];void 0!=e._8238&&e._8113.set_CurrentAction(e._6098)}};a._721=function(){this._9414._721();this._9800=this._3561=void 0;this._5098=-1};a._8353=function(a,e){void 0==a&&(a=!0,e=this._9800);this._4017();var f=[];if(void 0!=e&&0<e.length){for(var g=
!1,h=this._9414._414(e),l=h.length-1;0<=l;l--){var m=h[l];if(void 0!=m){if(this._9414._9307(m,!g)){if(g)continue}else g=!0;f.push(m)}}if(a)for(l=f.length-2;0<=l;l--)b.pv.ic(f[l],z)||void 0!=f[l]._3760||f.splice(l,1);f.reverse()}1==f.length&&(g=f[0],b.pv.ic(g,z)&&0<g.getActions().length&&f.splice(0,0,new O(f[0].toString()+" (original)")));return f};a._1246=function(a){$(this).triggerHandler("changing",a)};a._3672=function(a){$(this).triggerHandler("changed",a)};a._3439=function(a){$(this).triggerHandler("navigated",
a)};this._9301=b.WebImagingEnviromentJS.guid();this._9414=new pb(g);this._3269;this._2591=[];this._711=!1;this._5301="";this._2114=!1;this._7758=[];this._9800;this._3561;this._5098=-1;this._5725=!0;this._441=g;var h=this;$(this._9414).on("_4547",function(a,b){h._3561=void 0})},oa=function(){function g(a){void 0==a._4105&&b.pv.te("Current manager is not specified.")}var e=oa.superclass;e.constructor.call(this);var a=oa.prototype;a.currentManagerChanging=function(a,b){};a.currentManagerChanged=function(a,
b){};a.activeManagersChanging=function(a){};a.activeManagersChanged=function(a){};a.get_ActiveManagers=function(){return this._9994._9800};a.set_ActiveManagers=function(a){b.pv.ac(a,Q);if(a!=this._9994._9800){this._4067();if(void 0!=a)for(var d=0;d<a.length;d++)-1===this._8773.indexOf(a[d])&&b.pv.te("Only the undo managers from this composite undo manager can be used as the active undo managers.");this._9994._3111(a);this._8=this._6147();a={type:"addActions",actions:this._9994._8199()};this._3672(a);
this._5546()}};a.get_CurrentManager=function(){return this._4105};a.set_CurrentManager=function(a){b.pv.ic(a,Q);this.get_IsInitializing()&&b.pv.te("The current undo manager can not be changed because initialization of that manager is not finished.");if(a!=this._4105&&(a={oldValue:this._4105,newValue:a,cancel:!1},this._9156(a),!a.cancel&&a.newValue!==this._4105)){a=a.newValue;void 0!=a&&-1===this._8773.indexOf(a)&&b.pv.te("Only the undo manager from this composite undo manager can be used as the current undo manager.");
var d={oldValue:this._4105,newValue:a};void 0!=this._4105&&this._391(this._4105);this._4105=a;this._8=this._6147();void 0!=this._4105&&this._3410(this._4105);this._4493(d)}};a.get_IsInitializing=function(){return void 0==this._4105?!1:this._4105.get_IsInitializing()};a.get_IsCompositeActionStarted=function(){return 0!==this._9994._4534()};a.set_IsEnabled=function(a){e.set_IsEnabled.call(this,a);this._9994._7484(a);for(var b=0;b<this._8773.length;b++)this._8773[b].set_IsEnabled(a)};a.set_UndoLevel=
function(a){e.set_UndoLevel.call(this,a);this._9994._4924(a)};a.get_UndoCount=function(){return this._9994._6234()};a.get_UndoDescription=function(){return this._9994._6006()};a.get_RedoCount=function(){return this._9994._6618()};a.get_RedoDescription=function(){return this._9994._4329()};a.get_CurrentActionIndex=function(){return this._9994._5021()};a.set_CurrentActionIndex=function(a){this._9994._4143(a)};a.get_CurrentAction=function(){return this._9994._6787()};a.set_CurrentAction=function(a){this._5725&&
!this.get_IsInitializing()&&a.get_IsValid()&&this._9994._5852(a)};a._2866=function(){this._4017();var a=this.get_CurrentActionIndex();return 0==this.get_UndoCount()||-1==a?void 0:this._9994.getActions()[a-1]};a._7679=function(){return this._9994._8199().length};a.addManager=function(){var a=new Q;a.set_IsEnabled(this._5725);a.set_UndoLevel(Number.MAX_VALUE);a._4904(this);this._8773.push(a);this._9994._202(a);return a};a.removeManager=function(a){var b=this._8773.indexOf(a);-1!==b&&(this._4105===a&&
this.set_CurrentManager(),this._9994._5321(a),this._8773.splice(b,1),a._4904(),a.dispose())};a.beginInit=function(){this._9065++;for(var a=0;a<this._8773.length;a++)this._8773[a].beginInit()};a.endInit=function(){0===this._9065&&b.pv.te("Invalid operation exception.");this._9065--;for(var a=0;a<this._8773.length;a++)this._8773[a].endInit()};a.containsActionForSourceObject=function(a){g(this);if(this._8&&0!==this.get_RedoCount()){var b=this._9994._627()[this._4105._9301];return void 0!=b?this._9994._911(b,
b.length,a):!1}return this._4105.containsActionForSourceObject(a)};a.beginCompositeAction=function(a){this._9994._5228(a)};a.endCompositeAction=function(){this._9994._3163(this._4105)};a.removeCompositeAction=function(){this._9994._9007()};a.addAction=function(a,b){g(this);this._9994._4200(!0);this._4105.addAction(a,b)};a.undo=function(a){this._4017();this._9994._2458(a)};a.redo=function(a){this._4017();this._9994._1109(a)};a.getActions=function(){this._4017();return this._9994._8199()};a.clear=function(){this._4017();
for(var a=[],b=0;b<this._8773.length;b++)a=a.concat(this._8773[b].getActions());if(0!=a.length){a={type:"clearActions",actions:[].concat(a)};this._1246(a);this._9994._7689();for(b=0;b<this._8773.length;b++)this._8773[b].clear();a=this._9994._4209();a={type:"clearActions",actions:[].concat(a)};this._3672(a)}};a.removeFirstAction=function(){this._9994._2809()};a.removeRedoActions=function(){this._9994._4200(!0)};a.dispose=function(){this._4105=void 0;$(this._9994).off("."+this._9301);for(var a=0;a<
this._8773.length;a++){var b=this._8773[a];this._9994._5321(b);b.dispose()}this._8773=[];this._9994._721()};a._4904=function(a){b.pv.tne()};a._185=function(a,b,d,e){for(var g=0;g<this._8773.length;g++)this._8773[g]._185(a,b,d,e)};a._9156=function(a){$(this).triggerHandler("currentManagerChanging",a)};a._4493=function(a){$(this).triggerHandler("currentManagerChanged",a)};a._4067=function(){$(this).triggerHandler("activeManagersChanging")};a._5546=function(){$(this).triggerHandler("activeManagersChanged")};
a._4017=function(){if(!this.get_IsInitializing()&&this._5725){this._3289();for(var a=0;a<this._8773.length;a++)this._8773[a]._4017();this._2288()}};a._3289=function(){this._7860++};a._2288=function(){this._7860--};a._6147=function(){return void 0==this._4105||void 0==this._9994._9800?!1:-1==this._9994._9800.indexOf(this._4105)?!1:!0};a._3410=function(a){var b=this,d=b._5339();$(a).on("changing."+d,function(a,d){0!=b._7860||b._8||b._1246(d)});$(a).on("changed."+d,function(a,d){0!=b._7860||b._8||b._3672(d)})};
a._391=function(a){var b=this._5339();$(a).off("."+b)};this._8773=[];this._8=!1;this._9065=this._7860=0;this._4105;var h=new qb(this._441);this._9994=h;var d=this,k=this._9301;$(h).on("navigated."+k,function(a,b){d._3439(b)});$(h).on("changing."+k,function(a,b){d._1246(b)});$(h).on("changed."+k,function(a,b){d._3672(b)});delete a.currentManagerChanging;delete a.currentManagerChanged;delete a.activeManagersChanging;delete a.activeManagersChanged};b.extend(oa,Q);var rb=function(g){var e=rb.prototype;
e.disposed=function(a){};e.get_IsEnabled=function(){return this._5725};e.set_IsEnabled=function(a){b.pv.b(a);this._5725=a};e.get_UndoManager=function(){return this._3276};e.dispose=function(){$(this).triggerHandler("disposed")};b.pv.c(g,Q);this._3276=g;this._5725=!0;delete e.disposed};r.WebUndoActionJS=na;r.WebCompositeUndoActionJS=z;r.WebUndoManagerJS=Q;r.WebCompositeUndoManagerJS=oa;r.WebUndoMonitorJS=rb;b.WebServiceJS.defaultFileService=-1;r.VintasoftFileAPI=function(){};r.VintasoftFileAPI.uploadImageFile=
function(g,e,a,h){h=aa(h);b.pv.c(g,File);var d=new FormData;d.append("file",g);g=new b.WebRequestJS("UploadImageFile",e,a,{type:"POST",contentType:!1,processData:!1,data:d});return h.sendRequest(g)};r.VintasoftFileAPI.uploadImageFiles=function(g,e,a,h){h=aa(h);b.pv.ac(g,File);for(var d=new FormData,k=0;k<g.length;k++)d.append("files",g[k]);g=new b.WebRequestJS("UploadImageFiles",e,a,{type:"POST",contentType:!1,processData:!1,data:d});return h.sendRequest(g)};r.VintasoftFileAPI.uploadBase64Image=function(g,
e,a,h,d){var k;b.pv.isf(e)?(k=e,d=h,e=void 0):(k=a,a=h);d=aa(d);b.pv.s(g);void 0!=e&&b.pv.s(e);""===e&&(e=void 0);g=new b.WebRequestJS("UploadBase64Image",k,a,{type:"POST",data:{imageAsBase64String:g,fileName:e}});return d.sendRequest(g)};r.VintasoftFileAPI.uploadBase64Images=function(g,e,a,h,d){var k;b.pv.isf(e)?(k=e,d=h,e=void 0):(k=a,a=h);d=aa(d);b.pv.ad(g,b.pv.s);void 0!=e&&b.pv.s(e);""===e&&(e=void 0);g=new b.WebRequestJS("UploadBase64Images",k,a,{type:"POST",data:{imagesAsBase64Strings:g,fileName:e}});
return d.sendRequest(g)};r.VintasoftFileAPI.downloadImageFile=function(g,e,a,h){h=aa(h);b.pv.s(g);var d=g.split("/").pop();void 0==d&&(d=g);var k=new XMLHttpRequest;k.onload=function(b){200==this.status?e&&e({blob:this.response,filename:d,xmlHttpRequest:this}):500==this.status&&a&&a({errorMessage:this.statusText})};k.onerror=a;g={fileId:g,sessionId:H.Shared.WebImagingEnviromentJS.get_SessionId()};var f=h.get_ServiceRoute();b.pv.ic(h,b.WebServiceControllerJS)?(k.open("POST",f+"/DownloadImageFile",
!0),k.setRequestHeader("Content-type","application/json"),g=JSON.stringify(g)):(k.open("POST",f,!0),k.setRequestHeader("Content-type","application/x-www-form-urlencoded"),g="action=DownloadImageFile&requestParams="+JSON.stringify(g));k.responseType="arraybuffer";k.responseType="blob";return k.send(g)};r.VintasoftFileAPI.copyFile=function(g,e,a,h){h=aa(h);b.pv.s(g);g=new b.WebRequestJS("CopyFile",e,a,{type:"POST",data:{fileId:g}});return h.sendRequest(g)};r.WebBmpCompressionEnumJS=b.EnumGenerator.create([{name:"None",
value:0},{name:"RLE",value:1}],!1);r.WebPngFilterMethodEnumJS=b.EnumGenerator.create([{name:"None",value:0},{name:"Sub",value:1},{name:"Up",value:2},{name:"Average",value:3},{name:"Paeth ",value:4},{name:"Adaptive",value:5},{name:"Auto",value:31}],!1);r.WebGifCreatePageMethodEnumJS=b.EnumGenerator.create([{name:"UseOnlyGlobalPalette",value:0},{name:"UseGlobalOrLocalPalette",value:1}],!1);r.WebJpeg2000CompressionTypeEnumJS=b.EnumGenerator.create([{name:"Lossless",value:0},{name:"Lossy",value:0}],!1);
r.WebTiffCompressionEnumJS=b.EnumGenerator.create([{name:"Auto",value:0},{name:"None",value:1},{name:"CcittRle",value:2},{name:"CcittGroup3",value:3},{name:"CcittGroup4",value:4},{name:"Lzw",value:5},{name:"OldJpeg",value:6},{name:"Jpeg",value:7},{name:"Zip",value:8},{name:"Packbits ",value:32773},{name:"Jpeg2000 ",value:34712},{name:"NikonNef",value:34713}],!1);r.WebPdfImageCompressionEnumJS=b.EnumGenerator.create([{name:"None",value:0},{name:"CcittFax",value:1},{name:"Lzw",value:2},{name:"Jpeg",
value:4},{name:"Zip",value:8},{name:"Jbig2",value:16},{name:"Jpeg2000",value:32},{name:"Auto",value:1024}],!1);r.WebPdfDocumentConformance=b.EnumGenerator.create([{name:"Undefined",value:0},{name:"PdfA_1a",value:1},{name:"PdfA_1b",value:2},{name:"PdfA_2a",value:4},{name:"PdfA_2b",value:8},{name:"PdfA_2u",value:16},{name:"PdfA_3a",value:32},{name:"PdfA_3b",value:64},{name:"PdfA_3u",value:128}],!1);var G=function(){var g=G.prototype;g.get_Name=function(){if(void 0!=this._4073)return this._4073;b.pv.tne()};
g.toObject=function(){return this._517()};g._517=function(){b.pv.tne()}},pa=function(){pa.superclass.constructor.call(this);pa.prototype._517=function(){return{}};this._4073="Pcx"};b.extend(pa,G);var qa=function(){qa.superclass.constructor.call(this);var g=qa.prototype;g.get_Compression=function(){return this._2215};g.set_Compression=function(e){this._2215=b.pv.e(e,r.WebBmpCompressionEnumJS)};g.clone=function(){var b=new this.constructor;b._2215=new r.WebBmpCompressionEnumJS(this._2215.valueOf());
return b};g._517=function(){return{compression:this._2215.valueOf()}};this._4073="Bmp";this._2215=new r.WebBmpCompressionEnumJS(1)};b.extend(qa,G);var F=function(g,e){F.superclass.constructor.call(this);var a=F.prototype;a.get_CompressionLevel=function(){return this._1153};a.set_CompressionLevel=function(a){b.pv.n(a);0>a&&(a=0);9<a&&(a=9);this._1153=a};a.get_FilterMethod=function(){return this._6875};a.set_FilterMethod=function(a){this._6875=b.pv.e(a,r.WebPngFilterMethodEnumJS)};a.clone=function(){var a=
new this.constructor;a._1153=this._1153;a._6875=new r.WebPngFilterMethodEnumJS(this._6875.valueOf());return a};a._517=function(){return{compressionLevel:this._1153,filterMethod:this._6875.valueOf()}};this._4073="Png";this._1153=6;this._6875=new r.WebPngFilterMethodEnumJS(31);void 0!=e&&this.set_CompressionLevel(e);void 0!=g&&this.set_FilterMethod(g)};b.extend(F,G);F.bestSpeed=function(){return new F(0,1)};F.fast=function(){return new F(31,4)};F.normal=function(){return new F};F.bestCompression=function(){return new F(31,
8)};var P=function(g){P.superclass.constructor.call(this);var e=P.prototype;e.get_Quality=function(){return this._8529};e.set_Quality=function(a){b.pv.n(a);a!==this._8529&&(1>a&&(a=1),100<a&&(a=100),this._8529=a)};e.get_SaveAsGrayscale=function(){return this._4448};e.set_SaveAsGrayscale=function(a){b.pv.b(a);this._4448=a};e.clone=function(){var a=new this.constructor;a._8529=this._8529;a._4448=this._4448;return a};e._517=function(){return{quality:this._8529,saveAsGrayscale:this._4448}};void 0==g&&
(g=70);b.pv.n(g);this._8529=g;this._4448=!1;this._4073="Jpeg"};b.extend(P,G);var ra=function(){ra.superclass.constructor.call(this);var g=ra.prototype;g.get_NumberOfAnimationCycles=function(){return this._6490};g.set_NumberOfAnimationCycles=function(e){b.pv.n(e);(0>e||65535<e)&&b.pv.toe();this._6490=e};g.get_AnimationDelay=function(){return this._1614};g.set_AnimationDelay=function(e){b.pv.n(e);(0>e||65535<e)&&b.pv.toe();this._1614=e};g.get_InfiniteAnimation=function(){return this._4384};g.set_InfiniteAnimation=
function(e){b.pv.b(e);this._4384=e;this._6490=0};g.get_CreatePageMethod=function(){return this._1367};g.set_CreatePageMethod=function(e){this._1367=b.pv.e(e,r.WebGifCreatePageMethodEnumJS)};g.clone=function(){var b=new this.constructor;b._4384=this._4384;b._6490=this._6490;b._1614=this._1614;b._1367=new r.WebGifCreatePageMethodEnumJS(this._1367.valueOf());return b};g._517=function(){return{infiniteAnimation:this._4384,numberOfAnimationCycles:this._6490,animationDelay:this._1614,createPageMethod:this._1367.valueOf()}};
this._4384=!1;this._1614=this._6490=0;this._1367=new r.WebGifCreatePageMethodEnumJS(1);this._4073="Gif"};b.extend(ra,G);var R=function(){R.superclass.constructor.call(this);var g=R.prototype;g.get_TileHeight=function(){return this._5185};g.set_TileHeight=function(e){b.pv.n(e);0>e&&b.pv.toe();this._5185=e};g.get_TileWidth=function(){return this._9957};g.set_TileWidth=function(e){b.pv.n(e);0>e&&b.pv.toe();this._9957=e};g.get_WaveletLevels=function(){return this._3355};g.set_WaveletLevels=function(e){b.pv.n(e);
(0>e||32<e)&&b.pv.toe();this._3355=e};g.get_CompressionType=function(){return this._4630};g.set_CompressionType=function(e){this._4630=b.pv.e(e,r.WebJpeg2000CompressionTypeEnumJS)};g.get_CompressionRatio=function(){return this._1940};g.set_CompressionRatio=function(e){b.pv.n(e);1>e&&b.pv.toe();this._1940=e};g.get_FileSize=function(){return this._8345};g.set_FileSize=function(e){b.pv.n(e);this._8345=e};g.clone=function(){var b=new this.constructor;b._9957=this._9957;b._5185=this._5185;b._3355=this._3355;
b._4630=new r.WebJpeg2000CompressionTypeEnumJS(this._4630.valueOf());b._1940=this._1940;b._8345=this._8345;return b};g._517=function(){return{tileWidth:this._9957,tileHeight:this._5185,waveletLevels:this._3355,compressionType:this._4630.valueOf(),compressionRatio:this._1940,fileSize:this._8345}};this._4073="Jpeg2000";this._5185=this._9957=0;this._3355=5;this._4630=new r.WebJpeg2000CompressionTypeEnumJS(0);this._1940=20;this._8345=0};b.extend(R,G);var ca=function(){ca.superclass.constructor.call(this);
var g=ca.prototype;g.get_UseMmr=function(){return this._1871};g.set_UseMmr=function(e){b.pv.b(e);this._1871=e};g.get_Lossy=function(){return this._3934};g.set_Lossy=function(e){b.pv.b(e);this._3934=e};g.get_Inaccuracy=function(){return this._489};g.set_Inaccuracy=function(e){b.pv.n(e);(0>e||100<e)&&b.pv.toe();this._489=e};g.get_UseSymbolDictionary=function(){return this._6338};g.set_UseSymbolDictionary=function(e){b.pv.b(e);this._6338=e};g.get_SymbolDictionarySize=function(){return this._1141};g.set_SymbolDictionarySize=
function(e){b.pv.n(e);10>e&&b.pv.toe();this._1141=e};g.clone=function(){var b=new this.constructor;b._1871=this._1871;b._3934=this._3934;b._489=this._489;b._6338=this._6338;b._1141=this._1141;return b};g._517=function(){return{useMmr:this._1871,lossy:this._3934,inaccuracy:this._489,useSymbolDictionary:this._6338,symbolDictionarySize:this._1141}};this._4073="Jbig2";this._3934=this._1871=!1;this._489=50;this._6338=!0;this._1141=6500};b.extend(ca,G);var sa=function(){sa.superclass.constructor.call(this);
var g=sa.prototype;g.get_Compression=function(){return this._2215};g.set_Compression=function(e){e=b.pv.e(e,r.WebTiffCompressionEnumJS);switch(e.valueOf()){case 0:case 4:case 7:case 34712:case 5:case 1:case 8:break;default:b.pv.te("Compression '"+e.toString()+"' is not supported.")}this._2215=e};g.get_UsePredictor=function(){return this._3366};g.set_UsePredictor=function(e){b.pv.b(e);this._3366=e};g.get_JpegSettings=function(){return this._8221};g.set_JpegSettings=function(e){b.pv.c(e,P);this._8221=
e};g.get_JpegQuality=function(){return this._8221.get_Quality()};g.set_JpegQuality=function(b){this._8221.get_Quality(b)};g.get_SaveAsGrayscale=function(){return this._8221.get_SaveAsGrayscale()};g.set_SaveAsGrayscale=function(b){this._8221.set_SaveAsGrayscale(b)};g.get_ZipLevel=function(){return this._8018};g.set_ZipLevel=function(e){b.pv.n(e);0>e&&(e=0);9<e&&(e=9);this._8018=e};g.get_Jpeg2000Settings=function(){return this._693};g.set_Jpeg2000Settings=function(e){b.pv.c(e,R);this._693=e};g.get_BinarizationCommand=
function(){return this._1446};g.set_BinarizationCommand=function(e){b.pv.c(e,Z.WebChangePixelFormatToBlackWhiteCommandJS);this._1446=e};g.clone=function(){var b=new this.constructor;b._2215=new r.WebTiffCompressionEnumJS(this._2215.valueOf());b._3366=this._3366;b._8221=this._8221.clone();var a=new Z.WebChangePixelFormatToBlackWhiteCommandJS,g=this._1446;a._2609=new s.WebBinarizationModeEnumJS(g._2609.valueOf);a._3659=g._3659;a._6906=g._6906;a._348=g._348;a._746=g._746;a._592=g._592;a._8976=g._8976;
a._3044=new s.WebLuminanceComputationModeEnumJS(g._3044.valueOf());b._1446=a;b._8018=this._8018;b._693=this._693.clone();return b};g._517=function(){return{compression:this._2215.valueOf(),usePredictor:this._3366,jpegSettings:this._8221._517(),binarizarionCommand:this._1446.getParams(),zipLevel:this._8018,jpeg2000Settings:this._693._517()}};this._4073="Tiff";this._2215=new r.WebTiffCompressionEnumJS(0);this._3366=!0;this._8221=new P;this._1446=new Z.WebChangePixelFormatToBlackWhiteCommandJS;this._8018=
6;this._693=new R};b.extend(sa,G);var ta=function(){ta.superclass.constructor.call(this);var g=ta.prototype;g.get_Compression=function(){return this._2215};g.set_Compression=function(e){this._2215=b.pv.e(e,r.WebPdfImageCompressionEnumJS)};g.get_Conformance=function(){return this._6377};g.set_Conformance=function(e){e=b.pv.e(e,r.WebPdfDocumentConformance);switch(e.valueOf()){case 0:case 2:case 8:case 64:break;default:b.pv.te("Conformance to '"+e.toString()+"' is not supported now.")}this._6377=e};
g.get_JpegSettings=function(){return this._8221};g.set_JpegSettings=function(e){b.pv.c(e,P);this._8221=e};g.get_JpegQuality=function(){return this._8221.get_Quality()};g.set_JpegQuality=function(b){this._8221.get_Quality(b)};g.get_SaveAsGrayscale=function(){return this._8221.get_SaveAsGrayscale()};g.set_SaveAsGrayscale=function(b){this._8221.set_SaveAsGrayscale(b)};g.get_BinarizationCommand=function(){return this._1446};g.set_BinarizationCommand=function(e){b.pv.c(e,Z.WebChangePixelFormatToBlackWhiteCommandJS);
this._1446=e};g.get_Jbig2UseGlobals=function(){return this._9057};g.set_Jbig2UseGlobals=function(e){b.pv.b(e);this._9057=e};g.get_Jbig2Settings=function(){return this._8943};g.set_Jbig2Settings=function(e){b.pv.c(e,ca);this._8943=e};g.get_Jpeg2000Settings=function(){return this._693};g.set_Jpeg2000Settings=function(e){b.pv.c(e,R);this._693=e};g.get_ZipLevel=function(){return this._8018};g.set_ZipLevel=function(e){b.pv.n(e);0>e&&(e=0);9<e&&(e=9);this._8018=e};g.get_GenerateAnnotationAppearance=function(){return this._4513};
g.set_GenerateAnnotationAppearance=function(e){b.pv.b(e);this._4513=e};g.clone=function(){var b=new this.constructor;b._2215=new r.WebPdfImageCompressionEnumJS(this._2215.valueOf());b._6377=new r.WebPdfDocumentConformance(this._6377.valueOf());b._8221=this._8221.clone();b._693=this._693.clone();var a=new Z.WebChangePixelFormatToBlackWhiteCommandJS,g=this._1446;a._2609=new s.WebBinarizationModeEnumJS(g._2609.valueOf);a._3659=g._3659;a._6906=g._6906;a._348=g._348;a._746=g._746;a._592=g._592;a._8976=
g._8976;a._3044=new s.WebLuminanceComputationModeEnumJS(g._3044.valueOf());b._1446=a;b._9057=this._9057;b._8943=this._8943;b._8018=this._8018;b._4513=this._4513;return b};g._517=function(){return{compression:this._2215.valueOf(),conformance:this._6377.valueOf(),jpegSettings:this._8221._517(),jpeg2000Settings:this._693._517(),binarizarionCommand:this._1446.getParams(),jbig2UseGlobals:this._9057,jbig2Settings:this._8943._517(),zipLevel:this._8018,generateAnnotationAppearance:this._4513}};this._4073=
"Pdf";this._2215=new r.WebPdfImageCompressionEnumJS(1024);this._6377=new r.WebPdfDocumentConformance(0);this._8221=new P;this._1446=new Z.WebChangePixelFormatToBlackWhiteCommandJS;this._9057=!0;this._8943=new ca;this._693=new R;this._8018=6;this._4513=!1};b.extend(ta,G);b.WebServiceJS.defaultConverterService=-1;var sb=function(g,e){var a=sb.prototype;a.started=function(a){};a.progress=function(a,b){};a.finished=function(a,b){};a.get_IsStarted=function(){return this._9420};a.get_IsActive=function(){return this._8963()};
a.get_ConvertationStatus=function(){return this._5029};a.convertFileTo=function(a,d,e,f,g){(this._9420||this._8963())&&b.pv.te("The image file converter already has active image file converting process or already sent the request.");b.pv.c(d,G);b.pv.s(a);b.pv.isf(e)&&(g=f,f=e,e=void 0);var m;try{m=d.get_Name()}catch(l){b.pv.te("Unsupported encoder settings.")}m="ConvertFileTo"+m;a={fileId:a};d=d.toObject();var r=!0,s;for(s in d){r=!1;break}r||(a.settings=d);void 0!=e&&(a.renderingSettings=e.toObject());
var z=this;e=new b.WebRequestJS(m,function(a,b,d){z._890=a.processId;delete a.processId;z._9420=!1;$(z).triggerHandler("started");setTimeout(function(){z._7666()},z._4165);f&&f(a,b,d)},function(a,b,d){z._9420=!1;g&&g(a,b,d)},{type:"POST",data:a});this._5029=void 0;this._9420=!0;return this._3686.sendRequest(e)};a.abortConverting=function(a,d){this._8963()||b.pv.te("The active image file converting process does not exist.");var e=new b.WebRequestJS("AbortConverting",a,d,{type:"POST",data:{processId:this._890}});
return this._3686.sendRequest(e)};a._7666=function(){var a=this,d=new b.WebRequestJS("GetConvertingStatus",function(b){b=b.status;a._5029=b;var d=b.description;"Finished"===d||"Aborted"===d?(a._890=void 0,$(a).triggerHandler("finished",b)):($(a).triggerHandler("progress",b),setTimeout(function(){a._7666()},a._4165))},function(b){a._890=void 0;$(a).triggerHandler("finished",a._5029)},{type:"POST",data:{processId:this._890}});return this._3686.sendRequest(d)};a._8963=function(){return void 0!=this._890};
void 0==g&&(g=300);void 0==e&&(e=b.WebServiceJS.defaultConverterService);b.pv.c(e,b.WebServiceJS);b.pv.n(g);this._3686=e;this._4165=g;this._9420=!1;this._890;this._5029;delete a.started;delete a.progress;delete a.finished};r.WebImageEncoderSettingsJS=G;r.WebPcxEncoderSettingsJS=pa;r.WebBmpEncoderSettingsJS=qa;r.WebPngEncoderSettingsJS=F;r.WebJpegEncoderSettingsJS=P;r.WebGifEncoderSettingsJS=ra;r.WebJpeg2000EncoderSettingsJS=R;r.WebJbig2EncoderSettingsJS=ca;r.WebTiffEncoderSettingsJS=sa;r.WebPdfEncoderSettingsJS=
ta;r.WebImageConverterJS=sb})(H.Imaging)})(Vintasoft);
