@model IEnumerable<e_Office.Models.InwardEntry>


@{
    ViewBag.Title = "Index";
}
<div class="row">
    <div class="col-md-12">
        <div class="card">
            <div class="card-header">
                <a class="btn btn-cyan float-right" href="@Url.Action("Create")">Create New</a>
            </div>
            <div class="card-body">
                <h5 class="card-title m-b-0">Inward Entry</h5>
            </div>
            @if (Model.Count() > 0)
            {
                <table class="table table-bordered" style="width:98%;margin:10px;font-size:13px !important">
                    <thead class="thead-custom">
                        <tr class="text-center">
                            @*<th>
                                   File Name
                                </th>*@
                            <th>
                                @Html.DisplayNameFor(model => model.InwardNumber)
                            </th>

                            <th>
                                @Html.DisplayNameFor(model => model.Subject)
                            </th>
                            <th>
                                Department
                            </th>
                            @*<th>
                                    @Html.DisplayNameFor(model => model.SendToUser)
                                </th>*@

                            <th>
                                @Html.DisplayNameFor(model => model.From)
                            </th>
                            <th>
                                @Html.DisplayNameFor(model => model.DueDate)
                            </th>

                            <th>
                                @Html.DisplayNameFor(model => model.Priority)
                            </th>

                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model)
                        {
                            <tr>
                                @*<td>

                                        <a href="https://drive.google.com/a/aarushsystems.com/uc?authuser=6&id=@item.DocumentLocation&export=download" target="_blank"
                                           class="btn btn-link"> @Html.DisplayFor(modelItem => item.DocumentName) </a>
                                    </td>*@
                                <td>
                                    IN - @Html.DisplayFor(modelItem => item.InwardNumber)
                                </td>

                                <td>
                                    @Html.DisplayFor(modelItem => item.Subject)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.Department.DeptName)
                                </td>
                                @*<td>
                                        @item.UserDetails1.FirstName @item.UserDetails1.LastName
                                    </td>*@

                                <td>
                                    @Html.DisplayFor(modelItem => item.From)
                                </td>
                                <td>

                                    @Html.DisplayFor(modelItem => item.DueDate)
                                </td>
                                @*<td>
                                        @Enum.GetName(typeof(e_Office.Models.EnumModel.Action), Convert.ToInt32(item.Action))
                                    </td>*@
                                <td>
                                    @Enum.GetName(typeof(e_Office.Models.EnumModel.Priority), Convert.ToInt32(item.Priority))
                                </td>
                                @if (item.CreatedBy == User.Identity.Name)
                                {
                            <td>
                                @Html.ActionLink("Edit", "Edit", new { id = item.InwardId }) |
                                @Html.ActionLink("Delete", "Delete", new { id = item.InwardId }) |
                                @Html.ActionLink("View", "ViewFile", new { id = item.InwardId, doc = item.DocumentLocation })
                            </td>

                                }
                                else 
                                {
                                    <td>
                                        @Html.ActionLink("View", "ViewFile", new { id = item.InwardId, doc = item.DocumentLocation })
                                    </td>
                                }
                            </tr>
                        }
                    </tbody>
                </table>
            }
        </div>
    </div>

</div>

<script src="~/Content/theme/assets/libs/jquery/dist/jquery.min.js"></script>
@Styles.Render("~/Content/docuvieware")
@Scripts.Render("~/bundles/docuvieware")
